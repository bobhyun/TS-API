<!DOCTYPE html><html><head>
      <title>TS-API.en</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1>TS-API Programmer's Guide</h1>
<h2>TS-API@0.9.19</h2>
<p>This article is a programming guide for those who develop application software using <strong>TS-API</strong>, which is built in <strong>TS-CMS</strong>, <strong>TS-NVR</strong>, <strong>TS-LPR</strong> of TS Solution Corp..</p>
<p>You can easily embed the real-time video, recorded video, and video search functions into your application software with the API.</p>
<p>It would be helpful if you have some experience using simple <code>HTML</code> and <code>JavaScript</code> to use the API.</p>
<p>Please refer to <a href="#the-api-supported-versions-by-product">The API-supported versions by product</a> and<br>
<a href="#the-features-table-by-product">The features table by product</a> portion of <a href="#appendix">Appendix</a>, as the features supported by each product may differ.</p>
<blockquote>
<p>[Tips]<br>
The API and this article are subject to change without notice for better development support and improvement.</p>
</blockquote>
<h2>Table of contents</h2>
<ul>
<li><a href="#ts-api-programmers-guide">TS-API Programmer's Guide</a>
<ul>
<li><a href="#ts-api0919">TS-API@0.9.19</a></li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#get-started">Get Started</a></li>
<li><a href="#video-display">Video display</a>
<ul>
<li><a href="#real-time-video-display">Real-time video display</a></li>
<li><a href="#inserting-video-into-web-page">Inserting video into web page</a></li>
<li><a href="#connecting-to-a-real-server">Connecting to a real server</a></li>
<li><a href="#user-authentication">User authentication</a></li>
<li><a href="#change-channel">Change channel</a></li>
<li><a href="#display-recorded-video">Display recorded video</a></li>
</ul>
</li>
<li><a href="#json-data-indentation-050">JSON data indentation <code>@0.5.0</code></a></li>
<li><a href="#session-authentication">Session authentication</a>
<ul>
<li><a href="#sign-in">Sign in</a></li>
<li><a href="#sign-out">Sign out</a></li>
</ul>
</li>
<li><a href="#request-server-information">Request server information</a>
<ul>
<li><a href="#api-version">API version</a></li>
<li><a href="#site-name">Site name</a></li>
<li><a href="#server-side-time-zone">Server-side time zone</a></li>
<li><a href="#product-information">Product information</a></li>
<li><a href="#license-information">License information</a>
<ul>
<li><a href="#extension-list"><code>extension</code> list</a></li>
</ul>
</li>
<li><a href="#user-information">User information</a></li>
<li><a href="#request-all-at-once">Request all at once</a></li>
</ul>
</li>
<li><a href="#request-system-information-030">Request system information <code>@0.3.0</code></a>
<ul>
<li><a href="#requests-individual-items">Requests individual items</a></li>
</ul>
</li>
<li><a href="#request-system-health-030">Request system health <code>@0.3.0</code></a>
<ul>
<li><a href="#requests-individual-items-1">Requests individual items</a></li>
</ul>
</li>
<li><a href="#request-hdd-smart-060">Request HDD S.M.A.R.T. <code>@0.6.0</code></a></li>
<li><a href="#request-to-restart-server-process-060">Request to restart server process <code>@0.6.0</code></a></li>
<li><a href="#request-to-reboot-server-system-060">Request to reboot server system <code>@0.6.0</code></a></li>
<li><a href="#request-channel-status-030">Request channel status <code>@0.3.0</code></a></li>
<li><a href="#request-various-enumeration">Request various enumeration</a>
<ul>
<li><a href="#channel-list-094">Channel list <code>@0.9.4</code></a>
<ul>
<li><a href="#adding-stream-list-094">Adding stream list <code>@0.9.4</code></a></li>
<li><a href="#adding-camera-capabilities-094">Adding camera capabilities <code>@0.9.4</code></a></li>
</ul>
</li>
<li><a href="#vehicle-number-recognition-device-list">Vehicle number recognition device list</a></li>
<li><a href="#emergency-call-device-list-030">Emergency call device list <code>@0.3.0</code></a></li>
<li><a href="#event-log-type-list">Event log type list</a></li>
<li><a href="#parking-lot-list-098">Parking lot list <code>@0.9.8</code></a></li>
<li><a href="#real-time-event-list-096">Real-time event list <code>@0.9.6</code></a></li>
<li><a href="#supported-object-types-0911">Supported object types <code>@0.9.11</code></a></li>
<li><a href="#supported-object-attributes-0911">Supported object attributes <code>@0.9.11</code></a></li>
</ul>
</li>
<li><a href="#retrieve-recorded-data">Retrieve recorded data</a>
<ul>
<li><a href="#search-dates-with-recorded-video">Search dates with recorded video</a></li>
<li><a href="#search-minutes-with-recorded-video-020">Search minutes with recorded video <code>@0.2.0</code></a></li>
<li><a href="#search-event-log">Search event log</a></li>
<li><a href="#vehicle-number-log-search">Vehicle number log search</a></li>
<li><a href="#export-the-search-result-of-vehicle-numbers-log-0918">Export the search result of vehicle numbers log <code>@0.9.18</code></a></li>
<li><a href="#search-for-similar-vehicle-numbers-020">Search for similar vehicle numbers <code>@0.2.0</code></a></li>
<li><a href="#object-search-0911">Object Search <code>@0.9.11</code></a>
<ul>
<li><a href="#common-parameters">Common parameters</a></li>
<li><a href="#parameters-for-face">Parameters for <code>face</code></a></li>
<li><a href="#parameters-for-human">Parameters for <code>human</code></a></li>
<li><a href="#parameters-for-vehicle">Parameters for <code>vehicle</code></a></li>
</ul>
</li>
<li><a href="#face-search-096">Face Search <code>@0.9.6</code></a></li>
</ul>
</li>
<li><a href="#search-for-video-sources">Search for video sources</a>
<ul>
<li><a href="#real-time-video-source">Real-time video source</a></li>
<li><a href="#recorded-video-source">Recorded video source</a></li>
</ul>
</li>
<li><a href="#requesting-video-using-video-source-030">Requesting video using video source <code>@0.3.0</code></a></li>
<li><a href="#real-time-event-monitoring-030">Real-time event monitoring <code>@0.3.0</code></a>
<ul>
<li><a href="#web-sockets-rfc6455">Web Sockets (RFC6455)</a></li>
<li><a href="#channel-status-change-events">Channel status change events</a></li>
<li><a href="#car-number-recognition-events">Car number recognition events</a></li>
<li><a href="#emergency-call-events">Emergency call events</a></li>
<li><a href="#system-event-070">System event <code>@0.7.0</code></a></li>
<li><a href="#motion-detection-status-change-event-080">Motion Detection Status Change Event <code>@0.8.0</code></a></li>
<li><a href="#parking-count-event-090">Parking Count Event <code>@0.9.0</code></a></li>
<li><a href="#recording-status-event-095">Recording Status Event <code>@0.9.5</code></a></li>
<li><a href="#object-detection-event-0911">Object Detection Event <code>@0.9.11</code></a>
<ul>
<li><a href="#face-object"><code>face</code> object</a></li>
<li><a href="#human-object"><code>human</code> object</a></li>
<li><a href="#vehicle-object"><code>vehicle</code> object</a></li>
</ul>
</li>
<li><a href="#body-temperature-event-0914">Body Temperature Event <code>@0.9.14</code></a></li>
</ul>
</li>
<li><a href="#exporting-recorded-video-030">Exporting recorded video <code>@0.3.0</code></a></li>
<li><a href="#pushing-events-to-the-server-040">Pushing events to the server <code>@0.4.0</code></a></li>
<li><a href="#channel-information-and-device-control-050">Channel information and device control <code>@0.5.0</code></a>
<ul>
<li><a href="#request-device-information-and-support-function-list">Request Device Information and Support Function List</a></li>
<li><a href="#pan-tilt-control">Pan tilt control</a></li>
<li><a href="#pan-tilt-preset-control">Pan tilt preset control</a></li>
<li><a href="#relay-output">Relay output</a></li>
<li><a href="#aux-output">AUX output</a></li>
<li><a href="#reboot-the-device">Reboot the device</a></li>
</ul>
</li>
<li><a href="#adding-channels-097">Adding channels <code>@0.9.7</code></a>
<ul>
<li><a href="#request-data">Request data</a>
<ul>
<li><a href="#camera">Camera</a></li>
<li><a href="#video-stream">Video stream</a></li>
<li><a href="#video-file">Video file</a></li>
</ul>
</li>
<li><a href="#response">Response</a>
<ul>
<li><a href="#response-data">Response data</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#deleting-channels-097">Deleting channels <code>@0.9.7</code></a>
<ul>
<li><a href="#rsponse-data">Rsponse data</a></li>
</ul>
</li>
<li><a href="#event-backup-0917">Event Backup <code>@0.9.17</code></a>
<ul>
<li><a href="#request">Request</a></li>
<li><a href="#response-data-1">Response data</a></li>
</ul>
</li>
<li><a href="#appendix">Appendix</a>
<ul>
<li><a href="#base64-encoding">base64 Encoding</a></li>
<li><a href="#url-encoding">URL Encoding</a></li>
<li><a href="#url-decoding">URL decoding</a></li>
<li><a href="#date-and-time-notation-in-iso-8601-format">Date and time notation in ISO 8601 format</a></li>
<li><a href="#list-of-languages-supported">List of languages supported</a></li>
<li><a href="#json-data-format">JSON data format</a></li>
<li><a href="#feedback">Feedback</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="get-started">Get Started </h2>
<p>In this article, TS-API is abbreviated as <strong>API</strong>, and each product is simply called <strong>server</strong>.</p>
<h2 id="video-display">Video display </h2>
<h3 id="real-time-video-display">Real-time video display </h3>
<p>Try to type the following in the Web browser address window.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>iptime<span class="token punctuation">.</span>org<span class="token operator">:</span><span class="token number">83</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p><a href="http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">Run</a></p>
<p>Do you see the video?</p>
<blockquote>
<p>[Tips]<br>
The demonstration video used in this sample code may not be connected depending on the situation in the field.</p>
</blockquote>
<h3 id="inserting-video-into-web-page">Inserting video into web page </h3>
<p>Now let's insert the video into the web page.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>utf-8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Example 1. Insert video<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D<span class="token punctuation">'</span></span> 
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>640<span class="token punctuation">'</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>360<span class="token punctuation">'</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>0<span class="token punctuation">'</span></span> <span class="token attr-name">allowfullscreen</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><p><a href="./examples/ex1.html">Run</a></p>
<p>The video URL and the <code>&lt;iframe&gt;</code> tag code used in the example are provided as a pop-up menu when you <strong>right-click on the video</strong> of the webpage (or long-press on the video in case of a smartphone).<br>
Select the menu item you are to use, the code will be copied to the clipboard and then you can <strong>paste</strong> them into your code.</p>
<table>
<thead>
<tr>
<th>Menu items</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Copy video URL</td>
<td>Paste into web browser address window</td>
</tr>
<tr>
<td>Copy embed code</td>
<td>Paste in the <code>&lt;iframe&gt;</code> tag of your HTML code</td>
</tr>
</tbody>
</table>
<blockquote>
<p>[Tips]<br>
For security reasons, the <code>auth=ZGVtbzohMTIzNHF3ZXI%3D</code> part is excluded from this copied code. This code is required for authentication and is described in <a href="#session-authentication">Session Authentication</a>.<br>
In this example, we used only minimal code to display the video, so there are more parts that were not included in the copied code.</p>
</blockquote>
<h3 id="connecting-to-a-real-server">Connecting to a real server </h3>
<p>Now, let's see how to display the video of a real server, not a demonstration server.<br>
To connect to a real server, you need to know the following two things by default:</p>
<ol>
<li>The <strong>host name</strong> of the server (<strong>IP address</strong> or <strong>domain name</strong>, and <strong>port number</strong> when 80 is not used)</li>
</ol>
<blockquote>
<ul>
<li>The port number can be found in the <code>HTTP Port</code> item in the <code>Web Service</code> tab in your product Settings window.</li>
</ul>
</blockquote>
<ol start="2">
<li><strong>User ID</strong> and <strong>password</strong> with <strong>remote access privileges</strong></li>
</ol>
<h3 id="user-authentication">User authentication </h3>
<p>For example, assuming that you use the following connection information;</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>IP address</td>
<td><code>tssolution.ipdisk.co.kr</code></td>
</tr>
<tr>
<td>Web port number</td>
<td><code>85</code></td>
</tr>
<tr>
<td>User ID</td>
<td><code>demo</code></td>
</tr>
<tr>
<td>Password</td>
<td><code>!1234qwer</code></td>
</tr>
</tbody>
</table>
<p>In the above example, you can change the address part as follows:</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D<span class="token punctuation">'</span></span>
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>640<span class="token punctuation">'</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>360<span class="token punctuation">'</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>0<span class="token punctuation">'</span></span> <span class="token attr-name">allowfullscreen</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>Here <code>ZGVtbzohMTIzNHF3ZXI%3D</code> following <code>auth=</code> is the <a href="#base64-encoding">base64 encoded</a> part of user ID and password.</p>
<p>The format is to use a colon (<code>:</code>) delimiter, such as <code>userid: password</code>, to create a username and password as a single text and then <a href="#base64-encoding">base64 encoded</a>.<br>
In the above example, <code>demo:!1234qwer</code> is <a href="#base64-encoding">base64 encoded</a> and becomes <code>ZGVtbzohMTIzNHF3ZXI%3D</code>.</p>
<p>In this example, we will improve the way we access the login information using JavaScript <a href="#base64-encoding">base64 encoding</a> function.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>utf-8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword keyword-function">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> hostName <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Enter the host.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> userId <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Enter your user ID.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> password <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Enter the password.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> encodedData <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// base64 encoding</span>
    <span class="token keyword keyword-var">var</span> src <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> hostName <span class="token operator">+</span> <span class="token string">'/watch?ch=1&amp;auth='</span> <span class="token operator">+</span> encodedData<span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> src<span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'player'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">src</span> <span class="token operator">=</span> src<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Example 2. Connecting to a real server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Host<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>User ID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>host-name<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>user-id<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Connect<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>4<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>result<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>640<span class="token punctuation">'</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>360<span class="token punctuation">'</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>0<span class="token punctuation">'</span></span> <span class="token attr-name">allowfullscreen</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>player<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><p><a href="./examples/ex2.html">Run</a></p>
<h3 id="change-channel">Change channel </h3>
<p>If you change the <code>ch=</code> part of the video source to the desired channel number as shown below, the video of that channel will be displayed.<br>
Channel numbers are integers starting at 1.<br>
For example, if you want to see channel 3, you can modify it like this:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>iptime<span class="token punctuation">.</span>org<span class="token operator">:</span><span class="token number">83</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">3</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p>Run: <a href="http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">Channel1</a> <a href="http://tssolution.iptime.org:83/watch?ch=2&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">Channel2</a> <a href="http://tssolution.iptime.org:83/watch?ch=3&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">Channel3</a></p>
<h3 id="display-recorded-video">Display recorded video </h3>
<p>To display the recorded video, you need the date and time information (time stamp) of the desired video.<br>
For example, to display a video recorded on <code>Channel 1</code> at 2:30:15 pm on February 1, 2018, you would need to add <code>when=2018-02-01T14%3a30%3a15%2b09%3a00</code>.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>iptime<span class="token punctuation">.</span>org<span class="token operator">:</span><span class="token number">83</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T14<span class="token operator">%</span><span class="token number">3</span>a30<span class="token operator">%</span><span class="token number">3</span>a15<span class="token operator">%</span><span class="token number">2</span>b09<span class="token operator">%</span><span class="token number">3</span>a00<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p><a href="http://tssolution.iptime.org:83/watch?ch=1&amp;when=2018-02-01T14%3a30%3a15%2b09%3a00&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D&amp;lang=en-US">Run</a></p>
<blockquote>
<p>[Tips]<br>
The recorded video of the old date may already be overwritten depending on the capacity of the storage device.</p>
</blockquote>
<p><code>2018-02-01T14%3a30%3a15%2b09%3a00</code> is the date and time in the format <a href="#date-and-time-notation-in-iso-8601-format">ISO 8601</a>.</p>
<p>You can use <code>when=now</code> to request real-time video, but if omitted, it means real-time video, and the following tips are provided for ease of use.</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>when=yesterday    // Local time on server yesterday 00:00:00
when=today        // Local time on server today 00:00:00
</code></pre><p>Run: <a href="http://tssolution.iptime.org:83/watch?ch=1&amp;when=yesterday&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D&amp;lang=en-US">Yesterday</a> <a href="http://tssolution.iptime.org:83/watch?ch=1&amp;when=today&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D&amp;lang=en-US">Today</a></p>
<p>You can use the parameters to set the language of the subtitles displayed on the video.<br>
For a <a href="#list-of-languages-supported">list of supported languages</a>, refer to the appendix.</p>
<p>From here, we will omit the <code>http://host</code> and the<code>auth=</code>part.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Parameters</span>
lang            <span class="token comment"># Specify subtitle language</span>
showTitle       <span class="token comment"># Whether channel name is displayed (true, false)</span>
showPlayTime    <span class="token comment"># Whether the date and time are displayed (true, false)</span>

<span class="token comment"># Example</span>
<span class="token comment"># Show date and time in Spanish</span>
<span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T14<span class="token operator">%</span><span class="token number">3</span>a30<span class="token operator">%</span><span class="token number">3</span>a15<span class="token operator">%</span><span class="token number">2</span>b09<span class="token operator">%</span><span class="token number">3</span>a00<span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>

<span class="token comment"># Hide Channel name and date time</span>
<span class="token comment"># showTitle and showPlayTime are assumed to be true by default.</span>
<span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T14<span class="token operator">%</span><span class="token number">3</span>a30<span class="token operator">%</span><span class="token number">3</span>a15<span class="token operator">%</span><span class="token number">2</span>b09<span class="token operator">%</span><span class="token number">3</span>a00<span class="token operator">&amp;</span>showTitle<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">&amp;</span>showPlayTime<span class="token operator">=</span><span class="token boolean">false</span>
</code></pre><p>So far, We've seen how to display video using the <code>/watch</code>. Here we will see how to request various information using <code>/api</code>.</p>
<h2 id="json-data-indentation-050">JSON data indentation <code>@0.5.0</code> </h2>
<p>All response data is in the <a href="#json-data-format">JSON format</a> and the text is encoded as <code>utf8</code>.<br>
The actual data being transferred uses an optimized format without line breaks and whitespace, but This is too uncomfortable for a person to read.</p>
<p>For example, when request timezone as shown below:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>timezone
</code></pre><p>The server returns JSON data in an optimized format with no line breaks and no whitespace, like this:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span><span class="token string-property property">"timezone"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"America/New_York"</span><span class="token punctuation">,</span><span class="token string-property property">"bias"</span><span class="token operator">:</span><span class="token string">"-05:00"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><p>For developer's convenience, you can specify <code>indent</code> option to indent the JSON data in an easy-to-read format.<br>
The value of <code>indent</code> ranges from 0 to 8.</p>
<p>For example, when request timezone using indentation of 2 as shown below:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>timezone<span class="token operator">&amp;</span>indent<span class="token operator">=</span><span class="token number">2</span>
</code></pre><p>The server indents two blank characters and inserts a newline character to return the JSON data in an easy-to-read format:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"America/New_York"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"-05:00"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Of course, you can use the desired number as the indent value, and it can be used in the same way for all TS-APIs.<br>
This document uses a format with indentation of 2 to make it easier to read items in the data.</p>
<h2 id="session-authentication">Session authentication </h2>
<p>The server maintains an HTTP session using Cookie until the client software (the web browser) logs in and logs out. Since the server maintains the authentication information while the session is being connected, the client software (web browser) does not need to sign in whenever makes request.</p>
<p><em>This process of sign-in is called <strong>session authentication</strong>.</em></p>
<h3 id="sign-in">Sign in </h3>
<p>Here's how to use the API to authenticate your session.<br>
The server also supports Basic authentication which is a  traditional sign-in method using URL format, as shown in the code below, but for security reasons, most modern web browsers does not support this method anymore.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>path<span class="token regex-literal"><span class="token regex">/to/</span></span>
</code></pre><p>For this reason, we provide the following additional login methods:<br>
Using <code>login=</code> parameter after encrypting the user ID and password in the same way as in <a href="#user-authentication">User Authentication</a>.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>login<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D    <span class="token comment"># http://host omitted</span>
</code></pre><p>If the login is successful, the server returns an HTTP response code of 200.</p>
<p>You can use <code>auth=</code> to sign in the same way as shown below.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p>The <code>auth =</code> parameter is used in various APIs to be introduced later and can be used when making a request with user authentication information to the server without going through a separate login process.</p>
<h3 id="sign-out">Sign out </h3>
<p>After the session is connected, the following request can be used to terminate it.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>logout
</code></pre><p>At the end of the session, the server returns an HTTP response code of 401 for requests that require authentication, indicating that authentication is required.</p>
<h2 id="request-server-information">Request server information </h2>
<h3 id="api-version">API version </h3>
<p>This request works, even if it is not in <a href="#session-authentication">session suthenticated</a> state.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>apiVersion
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.3.0"</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="site-name">Site name </h3>
<p>Use to get the server's site name. If you have multiple servers, you can give them a name that can be distinguished from each other.</p>
<p>This request works, even if it is not in <a href="#session-authentication">session suthenticated</a> state.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>siteName
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"siteName"</span><span class="token operator">:</span> <span class="token string">"My home server"</span>
<span class="token punctuation">}</span>
</code></pre><p>The value of <code>siteName</code>, <code>"My%20home%20server"</code>, is what you entered in the web service tab of the Settings window on the server, and it is <a href="#url-decoding">URL-encoded</a> to present in JSON format.<br>
Decoding the above<a href="#url-decoding">URL-encoded</a> code will convert it to <code>"My home server"</code>.</p>
<h3 id="server-side-time-zone">Server-side time zone </h3>
<p>You can get the server-side time zone.<br>
It is used to distinguish between the client-side and server-side local time when they are used in different time zones.</p>
<p>This request works, even if it is not in <a href="#session-authentication">session suthenticated</a> state.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>timezone
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"America/New_York"</span><span class="token punctuation">,</span>   <span class="token comment">// Time zone name as IANA format</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"-05:00"</span>              <span class="token comment">// UTC offset</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>UTC offset, for example, <code>UTC-05:00</code>, may be used instead of <a href="#https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">IANA time zone name</a>.</p>
<h3 id="product-information">Product information </h3>
<p>It is used to get the product name and version information of the server.</p>
<p>This request works, even if it is not in <a href="#session-authentication">session suthenticated</a> state.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>product
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// for TS-CMS:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-CMS"</span><span class="token punctuation">,</span>               <span class="token comment">// Product name</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.38.0 (64-bit)"</span>   <span class="token comment">// Version information</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// for TS-NVR:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-NVR"</span><span class="token punctuation">,</span>               <span class="token comment">// Product name</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.35.0 (64-bit)"</span>   <span class="token comment">// Version information</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// for TS-LPR:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>               <span class="token comment">// Product name</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.2.0A (64-bit)"</span>   <span class="token comment">// Version information</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>License information</h3>
<p>Used to get license information installed on the server.</p>
<p>This request works, even if it is not in <a href="#session-authentication">session suthenticated</a> state.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>license
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// for a genuine lincense:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>         <span class="token comment">// Genuine lincense</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>         <span class="token comment">// Maximum channels available</span>
    <span class="token string-property property">"nLprZone"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>            <span class="token comment">// Maximum license plate recognition zones available (TS-API@0.9.12)</span>
    <span class="token string-property property">"nDevEmCall"</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>          <span class="token comment">// Maximum emergency call buttons available (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChObjDetection"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>     <span class="token comment">// Maximum channels available for object detection (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChFaceRecognition"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>  <span class="token comment">// Maximum channels available for face recognition (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChTrafficCount"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>     <span class="token comment">// Maximum channels available for vehicle traffic count (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChSpeedometer"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>      <span class="token comment">// Maximum channels available for vehicle speedometer (TS-API@0.9.12)</span>
    <span class="token string-property property">"mediaType"</span><span class="token operator">:</span> <span class="token string">"USB dongle"</span><span class="token punctuation">,</span> <span class="token comment">// License media type ("USB dongle" or "Software") (TS-API@0.9.12)</span>
    <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// Add-ons</span>
      <span class="token string">"lprExt"</span><span class="token punctuation">,</span>                <span class="token comment">// Interworking the vehicle number recognition</span>
      <span class="token string">"emergencyCall"</span>          <span class="token comment">// supports emergency call devices</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// for a free trial:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"trial"</span><span class="token punctuation">,</span>    <span class="token comment">// Free trial</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>  <span class="token comment">// Maximum channels available</span>
    <span class="token string-property property">"trialDays"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>    <span class="token comment">// 30 days free trial</span>
    <span class="token string-property property">"leftDays"</span><span class="token operator">:</span> <span class="token number">15</span>      <span class="token comment">// 15 days left</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4><code>extension</code> list</h4>
<table>
<thead>
<tr>
<th><code>extension</code></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lprExt</code></td>
<td>License plate recognition</td>
</tr>
<tr>
<td><code>emergencyCall</code></td>
<td>Emergency call</td>
</tr>
<tr>
<td><code>lprKiosk</code></td>
<td>Kiosk - finding my car</td>
</tr>
<tr>
<td><code>packing</code></td>
<td>Packing API</td>
</tr>
<tr>
<td><code>objectDetection</code></td>
<td>Object detection</td>
</tr>
<tr>
<td><code>faceRecognition</code></td>
<td>Face recognition</td>
</tr>
<tr>
<td><code>sharedFrameBuffer</code></td>
<td>Shared frame buffer <code>TS-API@0.9.7</code></td>
</tr>
</tbody>
</table>
<h3>User information</h3>
<p>Used to get sign-in user information.<br>
This request works only in the <a href="#session-authentication">session authenticated</a> state.<br>
From here on, the <code>auth =</code> part of <a href="#session-authentication">session authentication</a> is omitted.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>whoAmI
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:<br>
If it is not in <a href="#session-authentication">session authenticated</a> state, the server sends an HTTP response code 401 error.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"whoAmI"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span>      <span class="token comment">// User ID</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span>     <span class="token comment">// User name</span>
    <span class="token string-property property">"##COMMENT1"</span><span class="token operator">:</span> <span class="token string">"---- NOTICE OF CHANGE -------------------------------------------"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"##COMMENT2"</span><span class="token operator">:</span> <span class="token string">"'accessRights' is deprecated and 'accessRights2' is used instead."</span><span class="token punctuation">,</span>
    <span class="token string-property property">"##COMMENT3"</span><span class="token operator">:</span> <span class="token string">"-----------------------------------------------------------------"</span><span class="token punctuation">,</span>    
    <span class="token comment">// The new format is used since 0.5.0</span>
    <span class="token string-property property">"accessRights2"</span><span class="token operator">:</span> <span class="token punctuation">{</span>         <span class="token comment">// Permissions</span>
      <span class="token string-property property">"DataExport"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>     <span class="token comment">// Export images, videos</span>
      <span class="token string-property property">"Control"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token comment">// Pan tilt, relay control</span>
      <span class="token string-property property">"Settings"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       <span class="token comment">// Change settings</span>
      <span class="token string-property property">"Playback"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       <span class="token comment">// Search and Play back saved videos</span>
      <span class="token string-property property">"LPR"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token comment">// Vehicle number search</span>
      <span class="token string-property property">"Remote"</span><span class="token operator">:</span> <span class="token boolean">true</span>          <span class="token comment">// Remote access</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Old format will be deleted and kept for backwards compatibility</span>
    <span class="token string-property property">"accessRights"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"DataExport"</span><span class="token punctuation">,</span>
      <span class="token string">"Control"</span><span class="token punctuation">,</span>
      <span class="token string">"Settings"</span><span class="token punctuation">,</span>
      <span class="token string">"Playback"</span><span class="token punctuation">,</span>
      <span class="token string">"LPR"</span><span class="token punctuation">,</span>
      <span class="token comment">//"SearchEdit",   // Removed since 0.5.0 (replaced with Playback permission)</span>
      <span class="token string">"Remote"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>Request all at once</h3>
<p>You can request information individually, but we also provide a way to request all the information at once for convenience.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>all
</code></pre><p>This request returns JSON data with an HTTP response code of 200 if the session is authenticated, or JSON data with an HTTP response code of 401 with no <code>whoAmI</code> entries if it is not authenticated.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// Session authenticated state (HTTP response code: 200):</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.3.0"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"siteName"</span><span class="token operator">:</span> <span class="token string">"My%20home%20server"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"America/New_York"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"-05:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"lprExt"</span><span class="token punctuation">,</span>
      <span class="token string">"emergencyCall"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"whoAmI"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"accessRights"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"DataExport"</span><span class="token punctuation">,</span>
      <span class="token string">"Control"</span><span class="token punctuation">,</span>
      <span class="token string">"Settings"</span><span class="token punctuation">,</span>
      <span class="token string">"Playback"</span><span class="token punctuation">,</span>
      <span class="token string">"LPR"</span><span class="token punctuation">,</span>
      <span class="token string">"SearchEdit"</span><span class="token punctuation">,</span>
      <span class="token string">"Remote"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Session unauthenticated state (HTTP response code: 401):</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.3.0"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"siteName"</span><span class="token operator">:</span> <span class="token string">"My%20home%20server"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"America/New_York"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"-05:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"lprExt"</span><span class="token punctuation">,</span>
      <span class="token string">"emergencyCall"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>     <span class="token comment">// whoAmI is not included</span>
<span class="token punctuation">}</span>
</code></pre><h2>Request system information <code>@0.3.0</code></h2>
<p>Requests system information from the server.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system   <span class="token comment"># omitted</span>
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:<br>
<em>@0.7.0 disk data format modified</em></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"lastUpdate"</span><span class="token operator">:</span> <span class="token string">"2018-09-15T13:49:12.440-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"os"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Microsoft Windows Embedded Standard"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"servicePack"</span><span class="token operator">:</span> <span class="token string">"Service Pack 1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"6.1.7601"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"arch"</span><span class="token operator">:</span> <span class="token string">"64-bit"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"cpu"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel(R) Core(TM) i5-6500 CPU @ 3.20GHz"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"GenuineIntel"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"cores"</span><span class="token operator">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"mainboard"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B150M-A"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"ASUSTeK COMPUTER INC."</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"graphicAdapter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"NVIDIA GeForce GT 1030"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"NVIDIA"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"videoMemory"</span><span class="token operator">:</span> <span class="token number">2147483649</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel(R) HD Graphics 530"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Intel Corporation"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"videoMemory"</span><span class="token operator">:</span> <span class="token number">1073741824</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"physicalMemory"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"DIMM_A1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Samsung"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"bank"</span><span class="token operator">:</span> <span class="token string">"BANK 0"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">4294967296</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"15392520"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"DDR3"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"speed"</span><span class="token operator">:</span> <span class="token number">1600</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"DIMM_B1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Samsung"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"bank"</span><span class="token operator">:</span> <span class="token string">"BANK 2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">4294967296</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"15392519"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"DDR3"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"speed"</span><span class="token operator">:</span> <span class="token number">1600</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"memoryAmount"</span><span class="token operator">:</span> <span class="token number">8589934592</span><span class="token punctuation">,</span>
  <span class="token string-property property">"disk"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">512105932800</span><span class="token punctuation">,</span>
      <span class="token string-property property">"deviceId"</span><span class="token operator">:</span> <span class="token string">"\\\\.\\PHYSICALDRIVE0"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"interface"</span><span class="token operator">:</span> <span class="token string">"IDE"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"(Standard disk drives)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"SanDisk SD9SB8W512G1122"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"partition"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #0"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">204800</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">104857600</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">1048576</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #1"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">16777216</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">8589934592</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">105906176</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"mount"</span><span class="token operator">:</span> <span class="token string">"C:"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #2"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">401210938</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">205420000256</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">8695840768</span><span class="token punctuation">,</span>
          <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"windows"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"mount"</span><span class="token operator">:</span> <span class="token string">"D:"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #3"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">457089024</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">234029580288</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">214116073472</span><span class="token punctuation">,</span>
          <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">124930048</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">63964184576</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">448145653760</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"182168800139"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"smartCaps"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">1000202273280</span><span class="token punctuation">,</span>
      <span class="token string-property property">"deviceId"</span><span class="token operator">:</span> <span class="token string">"\\\\.\\PHYSICALDRIVE1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"interface"</span><span class="token operator">:</span> <span class="token string">"IDE"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"(Standard disk drives)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"ST1000LM024 HN-M101MBB"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"partition"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"mount"</span><span class="token operator">:</span> <span class="token string">"E:"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #1, Partition #0"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">1953519616</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">1000202043392</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">1048576</span><span class="token punctuation">,</span>
          <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data.hdd"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"S2R8J9BC700641"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"smartCaps"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"storageAmount"</span><span class="token operator">:</span> <span class="token number">4000784417280</span><span class="token punctuation">,</span>
  <span class="token string-property property">"cdrom"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"HL-DT-ST DVDRAM GP50NB40 USB Device"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"(Standard CD-ROM drives)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"DVD Writer"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>  
  <span class="token string-property property">"networkAdapter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"connectionId"</span><span class="token operator">:</span> <span class="token string">"Ethernet"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"dlSpeed"</span><span class="token operator">:</span> <span class="token number">100000000</span><span class="token punctuation">,</span>
      <span class="token string-property property">"ipv4"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"dhcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"dns"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"210.220.163.82"</span><span class="token punctuation">,</span>
          <span class="token string">"219.250.36.130"</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"gateway"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"192.168.0.1"</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"ip"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"192.168.0.43/24"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"ipv6"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"ip"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"fe80::8f0:3d03:b67f:7025%8/64"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"mac"</span><span class="token operator">:</span> <span class="token string">"80:FA:5B:03:79:5E"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Realtek"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Realtek PCIe GBE Family Controller"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"netEnabled"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"ulSpeed"</span><span class="token operator">:</span> <span class="token number">100000000</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"connectionId"</span><span class="token operator">:</span> <span class="token string">"Wi-Fi"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"mac"</span><span class="token operator">:</span> <span class="token string">"D0:7E:35:F7:86:A4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Intel Corporation"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel(R) Dual Band Wireless-AC 3160"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"netEnabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>Or it can be requested individual items by specifying them as shown below.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>supported  <span class="token comment"># Request a list of supported items</span>
</code></pre><p>For the request of a list of supported items, the server response JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"os"</span><span class="token punctuation">,</span>
  <span class="token string">"cpu"</span><span class="token punctuation">,</span>
  <span class="token string">"mainboard"</span><span class="token punctuation">,</span>
  <span class="token string">"memory"</span><span class="token punctuation">,</span>
  <span class="token string">"graphicAdapter"</span><span class="token punctuation">,</span>
  <span class="token string">"disk"</span><span class="token punctuation">,</span>
  <span class="token string">"cdrom"</span><span class="token punctuation">,</span>
  <span class="token string">"networkAdapter"</span><span class="token punctuation">,</span>
  <span class="token string">"all"</span>
<span class="token punctuation">]</span>
</code></pre><h3>Requests individual items</h3>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>os   <span class="token comment"># requests OS only</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>cpu  <span class="token comment"># requests CPU only</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>storage<span class="token punctuation">,</span>network  <span class="token comment"># requests both storage and network</span>

<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>all  <span class="token comment"># requests all the items (Simply /api/system?info or /api/system)</span>
</code></pre><h2>Request system health <code>@0.3.0</code></h2>
<p>Requests system health from the server.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:<br>
<em>@0.7.0 cpu data format modified</em></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"lastUpdate"</span><span class="token operator">:</span> <span class="token string">"2018-09-15T13:49:12.440-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"cpu"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>                         # the 1st <span class="token constant">CPU</span>
      <span class="token string-property property">"temperatureKelvin"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  # <span class="token maybe-class-name">Kelvin</span> unit
        <span class="token string-property property">"critical"</span><span class="token operator">:</span> <span class="token number">393.2</span><span class="token punctuation">,</span>    # <span class="token maybe-class-name">Critical</span> <span class="token function">temperature</span> <span class="token punctuation">(</span><span class="token maybe-class-name">System</span> must shut down when <span class="token keyword keyword-this">this</span> temperature is reached<span class="token punctuation">)</span>
        <span class="token string-property property">"current"</span><span class="token operator">:</span> <span class="token number">287.2</span>      # <span class="token maybe-class-name">Current</span> temperature
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"usage"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"threads"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">37</span><span class="token punctuation">,</span>                 # <span class="token maybe-class-name">Usage</span> percentage <span class="token keyword keyword-of">of</span> the 1st thread <span class="token keyword keyword-of">of</span> the 1st <span class="token constant">CPU</span>
          <span class="token number">19</span><span class="token punctuation">,</span>                 # <span class="token maybe-class-name">Usage</span> percentage <span class="token keyword keyword-of">of</span> 2nd thread <span class="token keyword keyword-of">of</span> the 1st <span class="token constant">CPU</span>
          <span class="token number">50</span><span class="token punctuation">,</span>
          <span class="token number">6</span><span class="token punctuation">,</span>
          <span class="token number">19</span><span class="token punctuation">,</span>
          <span class="token number">31</span><span class="token punctuation">,</span>
          <span class="token number">31</span><span class="token punctuation">,</span>
          <span class="token number">12</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"total"</span><span class="token operator">:</span> <span class="token number">26</span>           # <span class="token maybe-class-name">Total</span> usage persantage <span class="token keyword keyword-of">of</span> the 1st <span class="token constant">CPU</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"memory"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"totalPhysical"</span><span class="token operator">:</span> <span class="token number">12797329408</span><span class="token punctuation">,</span>
    <span class="token string-property property">"freePhysical"</span><span class="token operator">:</span> <span class="token number">4630482944</span><span class="token punctuation">,</span>
    <span class="token string-property property">"totalVirtual"</span><span class="token operator">:</span> <span class="token number">14743486464</span><span class="token punctuation">,</span>
    <span class="token string-property property">"freeVirtual"</span><span class="token operator">:</span> <span class="token number">4666306560</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"disk"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"C:"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"Windows"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalSpace"</span><span class="token operator">:</span> <span class="token number">135794782208</span><span class="token punctuation">,</span>
      <span class="token string-property property">"freeSpace"</span><span class="token operator">:</span> <span class="token number">32854175744</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"D:"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data.ssd"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalSpace"</span><span class="token operator">:</span> <span class="token number">161598140416</span><span class="token punctuation">,</span>
      <span class="token string-property property">"freeSpace"</span><span class="token operator">:</span> <span class="token number">7250055168</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"E:"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data.hdd"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalSpace"</span><span class="token operator">:</span> <span class="token number">1000202039296</span><span class="token punctuation">,</span>
      <span class="token string-property property">"freeSpace"</span><span class="token operator">:</span> <span class="token number">199067635712</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"current"</span><span class="token operator">:</span> <span class="token string">"E:\\recData\\"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"storage"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"Not used"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"path"</span><span class="token operator">:</span> <span class="token string">"D:\\recData\\"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"usage"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"Overwrite"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"path"</span><span class="token operator">:</span> <span class="token string">"E:\\recData\\"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"usage"</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"network"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel(R) Dual Band Wireless-AC 3160"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">650</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recvBytesPerSec"</span><span class="token operator">:</span> <span class="token number">650</span><span class="token punctuation">,</span>
      <span class="token string-property property">"sendBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"curBandwidth"</span><span class="token operator">:</span> <span class="token number">433300000</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Realtek PCIe GBE Family Controller"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recvBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"sendBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"curBandwidth"</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>The <code>usage</code> value under <code>storage</code> in <code>recording</code> is one of the following:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">-</span><span class="token number">1</span>    <span class="token comment"># Not used</span>
<span class="token number">0</span>     <span class="token comment"># Read-only</span>
<span class="token number">1</span>     <span class="token comment"># Write once</span>
<span class="token number">2</span>     <span class="token comment"># Overwrite</span>
</code></pre><p>Or it can be requested individual items by specifying them as shown below.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>supported  <span class="token comment"># Request a list of supported items</span>
</code></pre><p>For the request of a list of supported items, the server response JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"cpu"</span><span class="token punctuation">,</span>
  <span class="token string">"memory"</span><span class="token punctuation">,</span>
  <span class="token string">"disk"</span><span class="token punctuation">,</span>       <span class="token comment">// Mounted logical disk (disk partition), added at @0.6.0</span>
  <span class="token string">"recording"</span><span class="token punctuation">,</span>  <span class="token comment">// Storage status for recording, added at @0.7.0</span>
  <span class="token string">"network"</span><span class="token punctuation">,</span>
  <span class="token string">"all"</span>
<span class="token punctuation">]</span>
</code></pre><h3>Requests individual items</h3>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>cpu   <span class="token comment"># requests CPU only</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>memory  <span class="token comment"># requests memory only</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>disk<span class="token punctuation">,</span>recording<span class="token punctuation">,</span>network  <span class="token comment"># requests disk, recording and network</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>all  <span class="token comment"># requests all the items (Simply /api/system?health)</span>
</code></pre><h2>Request HDD S.M.A.R.T. <code>@0.6.0</code></h2>
<p>Requests S.M.A.R.T. infomation of each HDD.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>hddsmart    <span class="token comment"># Request for all the HDDs</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>hddsmart<span class="token operator">=</span><span class="token number">1</span>  <span class="token comment"># Request for the first HDD</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>hddsmart<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>  <span class="token comment"># Request for the first and second HDDs</span>
</code></pre><p>For the request of a list of supported items, the server response JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token comment">// S.M.A.R.T. supports or not (-1:Not tested yet, 0:Not supportd, 1:Supported)</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Supported"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"model"</span><span class="token operator">:</span> <span class="token string">"SanDisk SD9SB8W512G1122"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"\\\\.\\PHYSICALDRIVE0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"smart"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"attribute"</span><span class="token operator">:</span> <span class="token string">"Reallocated Sector Count"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"critical"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string-property property">"raw"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string-property property">"rawHex"</span><span class="token operator">:</span> <span class="token string">"000000000064"</span><span class="token punctuation">,</span>   <span class="token comment">// added @0.9.13 (hexa decimal text string of raw value)</span>
        <span class="token string-property property">"threshold"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"worst"</span><span class="token operator">:</span> <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"attribute"</span><span class="token operator">:</span> <span class="token string">"Power-On Time Count"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"critical"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token string-property property">"raw"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string-property property">"rawHex"</span><span class="token operator">:</span> <span class="token string">"000000000064"</span><span class="token punctuation">,</span>   <span class="token comment">// added @0.9.13 (hexa decimal text string of raw value)</span>
        <span class="token string-property property">"threshold"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">1819</span><span class="token punctuation">,</span>
        <span class="token string-property property">"worst"</span><span class="token operator">:</span> <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... omitted</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h2>Request to restart server process <code>@0.6.0</code></h2>
<p>If you are logged in with administrator privileges, you can restart the server process.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>restart
</code></pre><p>For the request of a list of supported items, the server response JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code>  <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"The server restarts in a few seconds."</span>
  <span class="token punctuation">}</span>
</code></pre><p>The server returns HTTP response code 403 (FORBIDDEN) if you do not have administrator rights.</p>
<h2>Request to reboot server system <code>@0.6.0</code></h2>
<p>If you are logged in with administrator privileges, you can reboot the server system.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>reboot
</code></pre><p>For the request of a list of supported items, the server response JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code>  <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"The system will shut down in less than a minute and then restart."</span>
  <span class="token punctuation">}</span>
</code></pre><p>The server returns HTTP response code 403 (FORBIDDEN) if you do not have administrator rights.</p>
<h2>Request channel status <code>@0.3.0</code></h2>
<p>Requests the status of each channel on the server.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><p>If necessary, the following parameters can be used.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Parameters {#parameters }</span>
ch        <span class="token comment"># Channel number (You can specify multiple channels at the same time, which are separated by a comma (,).)</span>
verbose   <span class="token comment"># Request a message corresponding to a status code</span>
lang      <span class="token comment"># Specify the language to use for the message</span>
recordingStatus <span class="token comment"># Request recording status as well (Added since TS-API@0.9.5)</span>

<span class="token comment"># Examples {#examples }</span>
<span class="token comment"># Specify channel 3 only {#specify-channel-3-only }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">3</span>

<span class="token comment"># Specify only channels 1 to 4 {#specify-only-channels-1-to-4 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span>

<span class="token comment"># Include status messages (if lang is not specified, the server-side language settings are applied.) {#include-status-messages-if-lang-is-not-specified-the-server-side-language-settings-are-applied }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># Include status messages in Spanish {#include-status-messages-in-spanish }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>verbose<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>

<span class="token comment"># Request recording status of all channels {#request-recording-status-of-all-channels }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>recordingStatus

<span class="token comment"># Request the recording status of channels 1 to 4 {#request-the-recording-status-of-channels-1-to-4 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">&amp;</span>recordingStatus
</code></pre><p>Requests, including messages, return JSON data in the following format:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><p>The complete list of status codes is shown below.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">-</span><span class="token number">5</span>    <span class="token comment"># On rebooting</span>
<span class="token operator">-</span><span class="token number">4</span>    <span class="token comment"># On reconnecting</span>
<span class="token operator">-</span><span class="token number">3</span>    <span class="token comment"># On connecting</span>
<span class="token operator">-</span><span class="token number">2</span>    <span class="token comment"># Loading</span>
<span class="token operator">-</span><span class="token number">1</span>    <span class="token comment"># Not used</span>
<span class="token number">0</span>     <span class="token comment"># No response</span>
<span class="token number">1</span>     <span class="token comment"># Used</span>
<span class="token number">2</span>     <span class="token comment"># Has video</span>
<span class="token number">200</span>   <span class="token comment"># Connected</span>
<span class="token number">401</span>   <span class="token comment"># Camera login failed</span>
<span class="token number">403</span>   <span class="token comment"># Camera blocked</span>
<span class="token number">404</span>   <span class="token comment"># No network connection</span>
<span class="token number">408</span>   <span class="token comment"># Camera response timeout</span>
<span class="token number">410</span>   <span class="token comment"># No video input</span>
<span class="token number">503</span>   <span class="token comment"># Camera service failure</span>
<span class="token number">1000</span>  <span class="token comment"># Playback complete, TS-API@0.9.7</span>
<span class="token number">1404</span>  <span class="token comment"># No file found, TS-API@0.9.7</span>
</code></pre><p>If requested, including the recording status, returns JSON data in the following format.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// The time of recording failure (this value is specified only in the failure state)</span>
      <span class="token string-property property">"timestampRecordingFailure"</span><span class="token operator">:</span><span class="token string">"2020-03-25T10:07:09.646-05:00"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><h2>Request various enumeration</h2>
<p>The following requests return the JSON data with an HTTP response code of 200 if it is in <a href="#session-authentication">session authenticated</a> state, or an HTTP response code of 401 if the session is not authenticated.</p>
<h3>Channel list <code>@0.9.4</code></h3>
<p>To get a list of channels in use, request the following:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>channel
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment">// Channel number</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Front door"</span><span class="token punctuation">,</span>  <span class="token comment">// Channel name</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. Front door"</span>  <span class="token comment">// Added since TS-API@0.9.4 ("ptzSupported" removed)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>              <span class="token comment">// Channel number</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token comment">// Channel name</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH2"</span>    <span class="token comment">// Added since TS-API@0.9.4</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h4>Adding stream list <code>@0.9.4</code></h4>
<p>You can add the <code>staticSrc</code> parameter to get the list of streams together.<br>
These streams may not be available depending on the camera connection.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>channel<span class="token operator">&amp;</span>staticSrc
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Front door"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. Front door"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>        
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">360</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">360</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">360</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// omitted</span>
<span class="token punctuation">]</span>
</code></pre><h4>Adding camera capabilities <code>@0.9.4</code></h4>
<p>You can add the <code>caps</code> parameter to get camera capabilities together.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>channel<span class="token operator">&amp;</span>caps
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Front door"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. Front door"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
      <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
      <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h3>Vehicle number recognition device list</h3>
<p>To get a list of vehicle identification devices in use, ask for the following:<br>
The vehicle number recognition device list includes used devices when an external device is interworked, and in case of TS-LPR with built-in car number recognition function, it includes preset car number recognition zones.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>lprSrc
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token comment">// Information received from the interworked car number recognition devices</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                  <span class="token comment">// Device number</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>         <span class="token comment">// Device code</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>         <span class="token comment">// Device name</span>
    <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token comment">// List of channels that are linked when trigger occurs</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">2</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tag"</span><span class="token operator">:</span> <span class="token string">"Normal"</span>           <span class="token comment">// Usage (Normal: Channel in use, NotUsed: Channel not in use, ReadOnly: Read-only channel)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// In the case of TS-LPR, the information recognized by the car number recognition zone</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                  <span class="token comment">// Device number</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>          <span class="token comment">// Device code</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>          <span class="token comment">// Device name</span>
    <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token comment">// List of channels that are linked when trigger occurs (Empty if there is no linked channel)</span>
    <span class="token string-property property">"tag"</span><span class="token operator">:</span> <span class="token string">"Normal"</span><span class="token punctuation">,</span>          <span class="token comment">// Usage (Normal: Channel in use, NotUsed: Channel not in use, ReadOnly: Read-only channel)</span>
    <span class="token string-property property">"zone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                 <span class="token comment">// Recognition zone</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token comment">// Zone number</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment">// Channel number</span>
      <span class="token string-property property">"rect"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// Zone coordinates</span>
        <span class="token number">2622</span><span class="token punctuation">,</span> <span class="token number">1499</span><span class="token punctuation">,</span>           <span class="token comment">// Top-left corner of the rectangle (x0,y0) </span>
        <span class="token number">4297</span><span class="token punctuation">,</span> <span class="token number">4297</span>            <span class="token comment">// Lower-right corner of the rectangle (x1,y1) </span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"mode"</span><span class="token operator">:</span> <span class="token string">"driving"</span><span class="token punctuation">,</span>      <span class="token comment">// Number recognition operation mode (driving: Driving mode, parking: Parking mode)</span>
      <span class="token string-property property">"disabledOnly"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// True if the zone is Disabled parking, false otherwise</span>
      <span class="token string-property property">"noParkingAllowed"</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// True if the zone is prohibited for parking, false otherwise</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parkingLot"</span><span class="token operator">:</span> <span class="token punctuation">{</span>           <span class="token comment">// Connected parking lot id (TS-API@0.9.8)</span>
      <span class="token string-property property">"entrance"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token comment">// Parking lot entrance id</span>
      <span class="token string-property property">"exit"</span><span class="token operator">:</span> <span class="token number">2</span>               <span class="token comment">// Parking lot exit id</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// For the rectangle coordinates of each zone,</span>
<span class="token comment">// instead of the actual video pixel coordinates,</span>
<span class="token comment">// the logical coordinate system of 8K (7680x4320) resolution is used.</span>
<span class="token comment">// For example, if the video is 1920x1080 resolution and the zone is (480, 270, 1440, 810),</span>
<span class="token comment">// the abscissas are multiplied by 7680/1920, and the ordinates are multiplied by 4320/1080, </span>
<span class="token comment">// then be calculated as (1920, 1080, 5760, 3240).</span>
</code></pre><h3>Emergency call device list <code>@0.3.0</code></h3>
<p>To receive a list of registered emergency call devices on the server, request the following:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>emergencyCall
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token comment">// List of registered emergency call devices</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                  <span class="token comment">// Device number</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"0000001"</span><span class="token punctuation">,</span>        <span class="token comment">// Location code</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B1 stairs"</span><span class="token punctuation">,</span>      <span class="token comment">// Device name</span>
    <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token comment">// Linked channels when trigger occurs</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">2</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><h3>Event log type list</h3>
<p>To get a list of supported event log types, request the following:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                  <span class="token comment">// Event log type number</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"System log"</span><span class="token punctuation">,</span>     <span class="token comment">// Event log type name</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                 <span class="token comment">// List of event log codes</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment">// Event log code number</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"System startup"</span>  <span class="token comment">// Event log code name</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"System shutdown"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... omitted</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"User-defined event"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><p>The list of event log codes is defined by each type.</p>
<p>If you do not specify a language, the default is to return results based on the server's language setting.<br>
If needed, you can change the language using the parameters below.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Parameter {#parameter }</span>
lang      <span class="token comment"># Language</span>

<span class="token comment"># Example {#example }</span>
<span class="token comment"># Requesting Spanish {#requesting-spanish }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType<span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Registro del sistema"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Inicio del sistema"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Apagado del sistema"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Apagado anormal"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... omitted</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Evento definido por el usuario"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h3>Parking lot list <code>@0.9.8</code></h3>
<p>To get a list of registered parking lots on the server, request the followings:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>parkingLot
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"counter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B1 Parking Lot"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span>     <span class="token comment">// parking area (in/out counter)</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>           <span class="token comment">// current entrances</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>       <span class="token comment">// Maximum number of parking spaces</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B2 Parking Lot"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span>     <span class="token comment">// parking area (in/out counter)</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>          <span class="token comment">// current entrances</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>       <span class="token comment">// Maximum number of parking spaces</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Basement Parking Lot"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"group"</span><span class="token punctuation">,</span>      <span class="token comment">// Group (a set of parking area)</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>          <span class="token comment">// Total number of current entrances</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>       <span class="token comment">// Total number of parking spaces</span>
      <span class="token string-property property">"member"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           <span class="token comment">// id of the group menmbers</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">2</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Real-time event list <code>@0.9.6</code></h3>
<p>To get a list of real-time events provided by the server, request the followings:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>realtimeEvent
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string">"emergencyCall"</span><span class="token punctuation">,</span>
  <span class="token string">"LPR"</span><span class="token punctuation">,</span>
  <span class="token string">"systemEvent"</span><span class="token punctuation">,</span>
  <span class="token string">"motionChanges"</span><span class="token punctuation">,</span>
  <span class="token string">"recordingStatus"</span><span class="token punctuation">,</span>
  <span class="token string">"parkingCount"</span><span class="token punctuation">,</span>
  <span class="token string">"packing"</span><span class="token punctuation">,</span>
  <span class="token string">"object"</span>
<span class="token punctuation">]</span>
</code></pre><h3>Supported object types <code>@0.9.11</code></h3>
<p>To get a list of object types supported by the server, request the followings:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>objectType
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"face"</span><span class="token punctuation">,</span>
  <span class="token string">"human"</span><span class="token punctuation">,</span>
  <span class="token string">"vehicle"</span>
<span class="token punctuation">]</span>
</code></pre><h3>Supported object attributes <code>@0.9.11</code></h3>
<p>To get a list of object attributes supported by the server, request the followings:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>objectAttr<span class="token operator">&amp;</span>type<span class="token operator">=</span>face  <span class="token comment"># attributes for face</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>objectAttr            <span class="token comment"># attributes for all</span>
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<p>In case of attributes for face:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"young"</span><span class="token punctuation">,</span>
    <span class="token string">"adult"</span><span class="token punctuation">,</span>
    <span class="token string">"middle"</span><span class="token punctuation">,</span>
    <span class="token string">"senior"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"female"</span><span class="token punctuation">,</span>
    <span class="token string">"male"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"glasses"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"hat"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"mask"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>In case of attributes for all:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"face"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"young"</span><span class="token punctuation">,</span>
      <span class="token string">"adult"</span><span class="token punctuation">,</span>
      <span class="token string">"middle"</span><span class="token punctuation">,</span>
      <span class="token string">"senior"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"human"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"bag"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token boolean">false</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token comment">// ... omitted</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"vehicle"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"vehicleType"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"car"</span><span class="token punctuation">,</span>
      <span class="token string">"truck"</span><span class="token punctuation">,</span>
      <span class="token string">"bus"</span><span class="token punctuation">,</span>
      <span class="token string">"bicycle"</span><span class="token punctuation">,</span>
      <span class="token string">"motorcycle"</span><span class="token punctuation">,</span>
      <span class="token string">"train"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h2>Retrieve recorded data</h2>
<p>Use <code>/api/find</code> to search for recorded data.</p>
<h3>Search dates with recorded video</h3>
<p>To get a list of dates with recorded videos, request the following:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays      <span class="token operator">/</span><span class="token operator">/</span> Request all dates with recorded video
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-01-01T00:00:00-05:00"</span><span class="token punctuation">,</span>     <span class="token comment">// The first date time requested (local time of the server)</span>
  <span class="token string-property property">"timeEnd"</span><span class="token operator">:</span> <span class="token string">"2018-02-28T23:59:59.999-05:00"</span><span class="token punctuation">,</span>   <span class="token comment">//  The last date time requested (local time of the server)</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
      <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"days"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// Displays the date in which the data exists in YYYY-MM format as an array</span>
        <span class="token number">8</span><span class="token punctuation">,</span>        <span class="token comment">// The recorded data of 2018-1-1 exists.</span>
        <span class="token number">23</span><span class="token punctuation">,</span>       <span class="token comment">// The recorded data of 2018-1-23 exists.</span>
        <span class="token number">24</span>        <span class="token comment">// The recorded data of 2018-1-24 exists.</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
      <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"days"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token number">14</span><span class="token punctuation">,</span>
        <span class="token number">19</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>You can request to meet certain criteria by adding the following parameters:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Parameters {#parameters-1 }</span>
ch          <span class="token comment"># List of dates on which a specific channel was recorded </span>
            <span class="token comment"># (Multiple channels are listed using commas)</span>
timeBegin   <span class="token comment"># List of dates recorded after a specific date and time</span>
timeEnd     <span class="token comment"># List of recorded dates before a specific date and time</span>
            <span class="token comment"># (If the request is made in UTC time, the date based on UTC is returned, </span>
            <span class="token comment"># otherwise the date based on the server's local time is returned.)</span>

<span class="token comment"># Examples {#examples-1 }</span>
<span class="token comment"># Request date list of channels 1 recorded {#request-date-list-of-channels-1-recorded }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># Request date list of channels 1,2,3 recorded {#request-date-list-of-channels-123-recorded }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>

<span class="token comment"># List of recorded dates since February 2018 (2018-02-01T00: 00:00-05:00) {#list-of-recorded-dates-since-february-2018-2018-02-01t00-0000-0500 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># List of dates recorded in January 2018 {#list-of-dates-recorded-in-january-2018 }</span>
<span class="token comment"># (2018-01-01T00:00:00-05:00 ~ 2018-01-31T23:59:59.999-05:00) {#2018-01-01t000000-0500--2018-01-31t235959999-0500 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># List of dates when channel 1 was recorded in January 2018 {#list-of-dates-when-channel-1-was-recorded-in-january-2018 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00
</code></pre><p>If you specify a condition using parameters such as <code>ch</code>,<code>timeBegin</code>, or <code>timeEnd</code>, the result is returned, including the requested condition, as shown below.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-01-01T00:00:00-05:00"</span><span class="token punctuation">,</span>     <span class="token comment">// First date and time requested</span>
  <span class="token string-property property">"timeEnd"</span><span class="token operator">:</span> <span class="token string">"2018-01-31T23:59:59.999-05:00"</span><span class="token punctuation">,</span>   <span class="token comment">// Last date and time requested</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>   <span class="token comment">// channel number</span>
      <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"days"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">8</span><span class="token punctuation">,</span>
            <span class="token number">23</span><span class="token punctuation">,</span>
            <span class="token number">24</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// ... omitted</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Search minutes with recorded video <code>@0.2.0</code></h3>
<p>To get a list of minutes with recorded videod, request the following:<br>
In the case of minute search, you can not request all of them because the amount of response data can be large, unlike date search.<br>
Specifying only one of timeBegin or timeEnd returns the results of one day's search from the specified date. The date range you can specify is limited to a maximum of 3 days.<br>
The available parameters are the same as <code>/api/find?what=recDays</code>.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># When using local time {#when-using-local-time }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recMinutes<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">25</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">02</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># When using UTC time {#when-using-utc-time }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recMinutes<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">25</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00Z<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">26</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00Z
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-05-25T00:00:00.000-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeEnd"</span><span class="token operator">:</span> <span class="token string">"2018-05-26T00:00:00.000-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">48</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">36</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Search event log</h3>
<p>To retrieve the event log recorded on the server, request the following.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"totalCount"</span><span class="token operator">:</span> <span class="token number">513</span><span class="token punctuation">,</span>    <span class="token comment">// Total number of event logs recorded on the server</span>
  <span class="token string-property property">"at"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>              <span class="token comment">// Current data offset (0 means the first data)</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// Event log data list</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">518</span><span class="token punctuation">,</span>                        <span class="token comment">// Event log number</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token comment">// Event log type number</span>
      <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"System log"</span><span class="token punctuation">,</span>         <span class="token comment">// Event log type name</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>                       <span class="token comment">// Event log code number</span>
      <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"Storage ready"</span><span class="token punctuation">,</span>      <span class="token comment">// Event log code name</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T18:24:26.002-05:00"</span> <span class="token comment">// Occurrence time (events occurring consecutively for a certain period of time include the end time in the second item in the array)</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                            <span class="token comment">// Additional information by event log code</span>
        <span class="token string-property property">"storagePath"</span><span class="token operator">:</span> <span class="token string">"E%3A%5CrecData%5C"</span><span class="token punctuation">,</span> <span class="token comment">// Storage path for recording</span>
        <span class="token string-property property">"statusCode"</span><span class="token operator">:</span> <span class="token number">0</span>                     <span class="token comment">// Storage status codes</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">517</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"Privacy"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"Sign in"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T18:24:20.249-05:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"autoLogin"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"admin: Auto-login"</span>    <span class="token comment">// optional</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">469</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"System log"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
      <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"License applied"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T12:11:08.680-05:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
        <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token number">0</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"mediaType"</span><span class="token operator">:</span> <span class="token string">"USB dongle"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"Genuine license"</span>    <span class="token comment">// optional</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>The event log recorded on the server is a lot of data, so it is not suitable to send all at once. Therefore, if you do not specify the count, only the log entries from the most recent to the maximum 50 items are returned.<br>
You can use <code>totalCount</code>,<code> at</code>, and <code>maxCount</code> to refer to each page of search results.</p>
<p>If you do not specify a language, the default is to return results based on the server's language setting.<br>
If required, you can specify search parameters by combining one or more of the following parameters.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Parameters {#parameters-2 }</span>
lang        <span class="token comment"># Language</span>
timeBegin   <span class="token comment"># List of events recorded after a specific date and time</span>
timeEnd     <span class="token comment"># List of events recorded before a specific date and time</span>
at          <span class="token comment"># Offset from the first data</span>
maxCount    <span class="token comment"># Maximum number of items</span>
sort        <span class="token comment"># Sorting method (desc: Latest data order (default), asc: Oldest data order)</span>
type        <span class="token comment"># Event log type</span>

<span class="token comment"># Examples {#examples-2 }</span>
<span class="token comment"># Requesting Arabic {#requesting-arabic }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ar<span class="token operator">-</span><span class="token constant">AE</span>

<span class="token comment"># Event log requests recorded during January 2018 {#event-log-requests-recorded-during-january-2018 }</span>
<span class="token comment"># (2018-01-01T00:00:00-05:00 ~ 2018-01-31T23:59:59.999-05:00) {#2018-01-01t000000-0500--2018-01-31t235959999-0500-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># Request 20 items from the 10th item in the search results {#request-20-items-from-the-10th-item-in-the-search-results }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment"># Sort by old data order (ascending order) {#sort-by-old-data-order-ascending-order }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc

<span class="token comment"># Request the system log type id list {#request-the-system-log-type-id-list }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType

<span class="token comment"># Request only system log (id: 0) of event log types {#request-only-system-log-id-0-of-event-log-types }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>type<span class="token operator">=</span><span class="token number">0</span>


</code></pre><h3>Vehicle number log search</h3>
<p>If you use the car number recognition function, the recognized car number is saved with the video. To retrieve the car number log you will request as follows:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"totalCount"</span><span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>   <span class="token comment">// Total number of vehicles number recognition logs on the server</span>
  <span class="token string-property property">"at"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>            <span class="token comment">// Current data offset (0 means the first data)</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           <span class="token comment">// List of vehicle number log data</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>                           <span class="token comment">// Vehicle number log number</span>
      <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"55EV96"</span><span class="token punctuation">,</span>                <span class="token comment">// Vehicle number text</span>
      <span class="token string-property property">"score"</span><span class="token operator">:</span><span class="token number">95</span><span class="token punctuation">,</span>                           <span class="token comment">// recognition score (Based on 100 points): May not be supported depending on vehicle identification engine (optioanl)</span>
      <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                            <span class="token comment">// License plate area</span>
        <span class="token string-property property">"offset"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">821</span><span class="token punctuation">,</span><span class="token number">473</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                 <span class="token comment">// Top left coordinates</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">173</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">]</span>                     <span class="token comment">// License plate image size</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                              <span class="token comment">// an array for the same plates captured consecutively</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732385942440.plate.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732386146439.plate.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732386199445.plate.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732386510078.plate.jpg"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                      <span class="token comment">// Date and time the vehicle number was recognized</span>
        <span class="token string">"2018-02-21T09:07:29.000-05:00"</span><span class="token punctuation">,</span>  <span class="token comment">// Starting timestamp</span>
        <span class="token string">"2018-02-21T09:07:34.057-05:00"</span>   <span class="token comment">// Ending timestamp</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>                 <span class="token comment">// Vehicle number recognition device (or zone) code</span>
      <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"The%20Empire%20State"</span><span class="token punctuation">,</span>  <span class="token comment">// Vehicle number recognition device (or zone) name</span>
      <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// The Video at the recognized point (may be several if linked channels are set)</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000-05%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=2&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000-05%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=3&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000-05%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=4&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000-05%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">63</span><span class="token punctuation">,</span>
      <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"DSP963"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"score"</span><span class="token operator">:</span><span class="token number">95</span><span class="token punctuation">,</span>
      <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"offset"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">753</span><span class="token punctuation">,</span><span class="token number">578</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39588.161141.1576732012342440.plate.jpg"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-21T08:00:00.915-05:00"</span><span class="token punctuation">,</span>
        <span class="token string">"2018-02-21T08:00:01.714-05:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915-05%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=2&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915-05%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=3&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915-05%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=4&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915-05%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
      <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"L647AN"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"offset"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">832</span><span class="token punctuation">,</span><span class="token number">380</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-20T18:12:05.828-05:00"</span><span class="token punctuation">,</span>
        <span class="token string">"2018-02-20T18:12:06.253-05:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828-05%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>The vehicle number log recorded on the server is not suitable for sending all at once because it is a large amount of data. Therefore, if you do not specify the count, only the log entries from the most recent to the maximum 50 items are returned.<br>
You can use <code>totalCount</code>,<code> at</code>, and <code>maxCount</code> to refer to each page of search results.</p>
<p>If you do not specify a language, the default is to return results based on the server's language setting.<br>
If required, you can specify search parameters by combining one or more of the following parameters.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Parameters {#parameters-3 }</span>
keyword     <span class="token comment"># Vehicle number text to search (or some characters)</span>
lang        <span class="token comment"># Language</span>
timeBegin   <span class="token comment"># List of vehicle numbers recorded after a specific date and time</span>
timeEnd     <span class="token comment"># List of vehicle numbers recorded before a specific date and time</span>
at          <span class="token comment"># Offset from the first data</span>
maxCount    <span class="token comment"># Maximum number of items</span>
sort        <span class="token comment"># Sorting method (desc: Latest data order (default), asc: Oldest data order)</span>
src         <span class="token comment"># Vehicle number recognition device id (separated by a comma (,) if multiple channels are specified at the same time)</span>

<span class="token comment"># Examples {#examples-3 }</span>
<span class="token comment"># Search for vehicle number including "12" (keyword search) {#search-for-vehicle-number-including-12-keyword-search }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">12</span>

<span class="token comment"># Request Arabic {#request-arabic }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ar<span class="token operator">-</span><span class="token constant">AE</span>

<span class="token comment"># Request vehicle number logs recorded during January 2018 {#request-vehicle-number-logs-recorded-during-january-2018 }</span>
<span class="token comment"># (2018-01-01T00:00:00-05:00 ~ 2018-01-31T23:59:59.999-059:00) {#2018-01-01t000000-0500--2018-01-31t235959999-05900 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># Request 20 items from the 10th item in the search results {#request-20-items-from-the-10th-item-in-the-search-results-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment"># Sort by old data order (ascending order) {#sort-by-old-data-order-ascending-order-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc

<span class="token comment"># Search by specifying vehicle number recognition device 1, 2 {#search-by-specifying-vehicle-number-recognition-device-1-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>src<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>
</code></pre><p>To display the video in the retrieved result data, use the method used in <a href="#display-recorded-video">Display recorded video</a>.</p>
<p>For example, if you want to display a video of the following search results</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code>  <span class="token comment">// ... omitted</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"55EV96"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"2018-02-20T18:12:05.828-05:00"</span><span class="token punctuation">,</span>
      <span class="token string">"2018-02-20T18:12:06.253-05:00"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828-05%3A00"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ... omitted</span>
</code></pre><p>In here, you can display video using  <code>http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828-05%3A00</code> corresponding to the value of <code>"videoSrc"</code> in <code>"vod"</code>.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># If the session is authenticated, use it as it is {#if-the-session-is-authenticated-use-it-as-it-is }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token number">.0</span><span class="token number">.100</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">%</span><span class="token number">2</span>D02<span class="token operator">%</span><span class="token number">2</span>D20T18<span class="token operator">%</span><span class="token number">3</span>A12<span class="token operator">%</span><span class="token number">3</span>A05<span class="token operator">%</span><span class="token number">2E828</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># If the session is not authenticated, add the auth parameter {#if-the-session-is-not-authenticated-add-the-auth-parameter }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token number">.0</span><span class="token number">.100</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">%</span><span class="token number">2</span>D02<span class="token operator">%</span><span class="token number">2</span>D20T18<span class="token operator">%</span><span class="token number">3</span>A12<span class="token operator">%</span><span class="token number">3</span>A05<span class="token operator">%</span><span class="token number">2E828</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><h3>Export the search result of vehicle numbers log <code>@0.9.18</code></h3>
<p>You can download the searched vehicle numbers log as Excel files.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>export<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre><p>If you request by adding <code>export=true</code> parameter to vehicle number log search<br>
The server returns JSON data in the format shown below with an HTTP response code of 200 as follows:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"http://host/download/2018-01-01T00.00.00.xls"</span><span class="token punctuation">,</span>   <span class="token comment">// Excel file download URL</span>
  <span class="token string">"http://host/download/2018-01-01T00.00.00(2).xls"</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><h3>Search for similar vehicle numbers <code>@0.2.0</code></h3>
<p>Can be used to verify that a similar vehicle number exists.<br>
To retrieve similar vehicle numbers from the log, request the following:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>similarCarNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">1234</span>

<span class="token comment"># Parameters {#parameters-4 }</span>
keyword     <span class="token comment"># Vehicle number text to search (or some characters)</span>
maxCount    <span class="token comment"># Maximum number of items</span>

<span class="token comment"># Examples {#examples-4 }</span>
<span class="token comment"># Request up to 10 results {#request-up-to-10-results }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>similarCarNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">123</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">10</span>
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"AVF4123"</span><span class="token punctuation">,</span>
  <span class="token string">"123MTB"</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><h3>Object Search <code>@0.9.11</code></h3>
<p>When using the object detection function, the detected objects (<code>face</code>,<code> human</code>, <code>vehicle</code>) are saved with the video. To search the object detection log, request as follows.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"totalCount"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token string-property property">"at"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:58:15.819-05:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # channel id
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">837</span><span class="token punctuation">,</span>            # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same object<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"face"</span><span class="token punctuation">,</span>          # object type
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">82.59</span>      # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          # object <span class="token function">attributes</span> <span class="token punctuation">(</span>list only detected attributes<span class="token punctuation">)</span>
        <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"female"</span><span class="token punctuation">,</span>    # gender
        <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token string">"middle"</span><span class="token punctuation">,</span>       # age 
        <span class="token string-property property">"glasses"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       # <span class="token function">glasses</span> <span class="token punctuation">(</span>wearing<span class="token punctuation">)</span>
        <span class="token string-property property">"mask"</span><span class="token operator">:</span> <span class="token boolean">false</span>          # <span class="token function">mask</span> <span class="token punctuation">(</span>not wearing<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>  
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673911/7673911.4412659.1590386295819221.object._c1_t2_s392x504.jpg"</span> # image address
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:58:14.449-05:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # channel id
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">842</span><span class="token punctuation">,</span>            # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same object<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"face"</span><span class="token punctuation">,</span>          # object type
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">90.09</span><span class="token punctuation">,</span>     # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          # object <span class="token function">attributes</span> <span class="token punctuation">(</span>list only detected attributes<span class="token punctuation">)</span>
        <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"male"</span>       # gender
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673911/7673911.4412660.1590386294449281.object._c1_t2_s744x624.jpg"</span> # image address
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:58:14.185-05:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # channel id
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">834</span><span class="token punctuation">,</span>            # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same object<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"human"</span><span class="token punctuation">,</span>         # object type
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">62.20</span><span class="token punctuation">,</span>     # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          # object <span class="token function">attributes</span> <span class="token punctuation">(</span>list only detected attributes<span class="token punctuation">)</span>
        <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"male"</span><span class="token punctuation">,</span>      
        <span class="token string-property property">"clothes"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           
          <span class="token punctuation">{</span>
            <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"tops"</span><span class="token punctuation">,</span>    
            <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span>  # the length <span class="token keyword keyword-of">of</span> sleeves
            <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        
              <span class="token string">"red"</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"bottoms"</span><span class="token punctuation">,</span> 
            <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span>  # the length <span class="token keyword keyword-of">of</span> pants
            <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        
              <span class="token string">"red"</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673911/7673911.4412658.1590386294185653.object._c1_t1_s296x464.jpg"</span> # image address
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:55:21.557-05:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # channel id
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">748</span><span class="token punctuation">,</span>            # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same object<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"vehicle"</span><span class="token punctuation">,</span>       # object type
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">95.80</span><span class="token punctuation">,</span>     # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          object <span class="token function">attributes</span> <span class="token punctuation">(</span>list only detected attributes<span class="token punctuation">)</span>
        <span class="token string-property property">"vehicleType"</span><span class="token operator">:</span> <span class="token string">"car"</span><span class="token punctuation">,</span>  # vehicle type
        <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            
          <span class="token string">"gray"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673909/7673909.4412630.1590386121557955.object._c1_t3_s440x312.jpg"</span> # image address
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>The contents of the <code>data</code> item of the search result are the same as the contents of [Object Detection Event <code>@ 0.9.11</code>] (#object-detection-event-0911).</p>
<p>You can also search for conditions by specifying parameters for each object as shown below.</p>
<h4>Common parameters</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>lang        <span class="token comment"># language</span>
timeBegin   <span class="token comment"># List of objects recorded after a specific date and time</span>
timeEnd     <span class="token comment"># List of objects recorded before a specific date and time</span>
ch          <span class="token comment"># The channel number, multiple numbers can be used using commas(,)</span>
objectType  <span class="token comment"># The type of object (One of face, human, and vehicle, if not specified, means all kinds of objects)</span>
at          <span class="token comment"># Offset from the first data</span>
maxCount    <span class="token comment"># Maximum number of items</span>
sort        <span class="token comment"># Sorting method (desc: Latest data order (default), asc: Oldest data order)</span>


<span class="token comment"># Requests for objects stored during January 2020 {#requests-for-objects-stored-during-january-2020 }</span>
<span class="token comment"># (2020-01-01T00:00:00-05:00 ~ 2020-01-31T23:59:59.999-05:00) {#2020-01-01t000000-0500--2020-01-31t235959999-0500 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># Request only objects of channels 1 and 2 {#request-only-objects-of-channels-1-and-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>

<span class="token comment"># Request only face objects {#request-only-face-objects }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face

<span class="token comment"># Request 20 items from the 10th item of the search result {#request-20-items-from-the-10th-item-of-the-search-result }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment"># Requests sorted by oldest data (ascending) {#requests-sorted-by-oldest-data-ascending }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc
</code></pre><h4>Parameters for <code>face</code></h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>gender       <span class="token comment"># Gender designation (either male or female)</span>
age          <span class="token comment"># Age classification (one of young, adult, middle, senior)</span>
hat          <span class="token comment"># Wearing a hat (either true or false)</span>
glasses      <span class="token comment"># Wearing glasses (either true or false)</span>
mask         <span class="token comment"># Wearing a mask (either true or false)</span>

<span class="token comment"># Man only request {#man-only-request }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>gender<span class="token operator">=</span>male

<span class="token comment"># Adults only {#adults-only }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>age<span class="token operator">=</span>adult

<span class="token comment"># Middle-aged woman only {#middle-aged-woman-only }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>gender<span class="token operator">=</span>female<span class="token operator">&amp;</span>age<span class="token operator">=</span>middle

<span class="token comment"># Request only for people with glasses {#request-only-for-people-with-glasses }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>glasses<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># Request only for people wearing glasses and hats {#request-only-for-people-wearing-glasses-and-hats }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>glasses<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>hat<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># Request only for people not wearing a mask {#request-only-for-people-not-wearing-a-mask }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>mask<span class="token operator">=</span><span class="token boolean">false</span>

<span class="token comment"># Request only for people wearing glasses but mask {#request-only-for-people-wearing-glasses-but-mask }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>glasses<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>mask<span class="token operator">=</span><span class="token boolean">false</span>
</code></pre><h4>Parameters for <code>human</code></h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>gender        <span class="token comment"># Gender designation (either male or female)</span>
hat           <span class="token comment"># Wearing a hat (either true or false, or either 1 or 0)</span>
bag           <span class="token comment"># Beloing a bag (either true or false, or either 1 or 0)</span>
topClothes    <span class="token comment"># Top length and colors (Separate multiples with comma (,))</span>
              <span class="token comment"># length (ether short or long)</span>
              <span class="token comment"># colors (multiple choices among brown, black, red, orange, yellow, green, cyan, blue, purple, magenta, gray, pink, beige, white, and other)</span>
bottomClothes <span class="token comment"># Bottom length and colors (The expressions are the same as topColors)</span>

<span class="token comment"># Woman only requests {#woman-only-requests }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>gender<span class="token operator">=</span>female

<span class="token comment"># Request only for people with bags {#request-only-for-people-with-bags }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>bag<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># Request only for people with hats and bags {#request-only-for-people-with-hats-and-bags }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>hat<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>bag<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># people in short-sleeved {#people-in-short-sleeved }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>short

<span class="token comment"># people in yellow top {#people-in-yellow-top }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>yellow

<span class="token comment"># People in red and blue top {#people-in-red-and-blue-top }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>red<span class="token punctuation">,</span>blue

<span class="token comment"># People in shorts {#people-in-shorts }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>bottomClothes<span class="token operator">=</span>short

<span class="token comment"># People in black both upper and lower {#people-in-black-both-upper-and-lower }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>black<span class="token operator">&amp;</span>bottomClothes<span class="token operator">=</span>black

<span class="token comment"># Men in a white top wearing a hat and holding a bag {#men-in-a-white-top-wearing-a-hat-and-holding-a-bag }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>hat<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>bag<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>white<span class="token operator">&amp;</span>gender<span class="token operator">=</span>male
</code></pre><h4>Parameters for <code>vehicle</code></h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>vehicleType  <span class="token comment"># Vehicle type and colors, Separated by comma (,)</span>
             <span class="token comment"># Vehicle type (car, truck, bus, bicycle, motorcycle, train  ) </span>
             <span class="token comment"># Vehicle colors (multiple choices among brown, black, red, orange, yellow, green, cyan, blue, purple, magenta, gray, pink, beige, white, and other)</span>

<span class="token comment"># Bus only request {#bus-only-request }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>vehicle<span class="token operator">&amp;</span>vehicleType<span class="token operator">=</span>bus

<span class="token comment"># Yellow car only request {#yellow-car-only-request }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>vehicle<span class="token operator">&amp;</span>vehicleType<span class="token operator">=</span>car<span class="token punctuation">,</span>yellow
</code></pre><h3>Face Search <code>@0.9.6</code></h3>
<p>You can find faces that resemble using photo of faces.</p>
<p>In order to send a photo image, it is requested using the <code>HTTP POST</code> method.<br>
Set search condition with CGI parameter and send only image as POST data.<br>
Supported image file formats are <code>jpg</code> (<code>Content-Type=image/jpeg</code>) and <code>png</code> (<code>Content-Type=image/png</code>).</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>lang        <span class="token comment"># Language</span>
timeBegin   <span class="token comment"># Faces recorded after a specific date and time</span>
timeEnd     <span class="token comment"># Faces recorded before a specific date and time</span>
ch          <span class="token comment"># The channel number, multiple numbers can be used using commas(,)</span>
threshold   <span class="token comment"># Similarity (specified by 1 ~ 100 percentage)</span>

<span class="token comment"># Search faces recorded during January 2020 {#search-faces-recorded-during-january-2020 }</span>
<span class="token comment"># (2020-01-01T00:00:00-05:00 ~ 2020-01-31T23:59:59.999-059:00) {#2020-01-01t000000-0500--2020-01-31t235959999-05900 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>searchFace<span class="token operator">?</span>timeBegin<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># Search faces of channels 1 and 2 {#search-faces-of-channels-1-and-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>searchFace<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>

<span class="token comment"># 95% similar face search {#95-similar-face-search }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>searchFace<span class="token operator">?</span>threshold<span class="token operator">=</span><span class="token number">95</span>
</code></pre><h2>Search for video sources</h2>
<p>You can use this method if your application uses the video address directly instead of the video display feature using the API you used in <a href="#inserting-video-into-web-page">Inserting video into web page</a>.</p>
<p>This way you can get video address instead of displaying video.</p>
<h3>Real-time video source</h3>
<p>You can request a list of real-time video addresses that the server is streaming by requesting the following without any parameters:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod
</code></pre><p>The server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span> <span class="token comment">// Each channel consists of an array of items</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token comment">// Channel number</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Profile1 (1920x1080)"</span><span class="token punctuation">,</span>  <span class="token comment">// Channel name</span>
    <span class="token string-property property">"display"</span><span class="token operator">:</span> <span class="token string">"CH1: Profile1 (1920x1080)"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// List of video sources</span>
              <span class="token comment">// (Multiple sources are organized into an array in one channel, depending on protocol and resolution)</span>
      <span class="token punctuation">{</span> <span class="token comment">// 1080p RTMP stream</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1main"</span><span class="token punctuation">,</span>  <span class="token comment">// Video address</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>     <span class="token comment">// MIME type: RTMP protocol (Adobe Flash)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>       <span class="token comment">// Resolution name</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// Resolution</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// Number of horizontal pixels</span>
          <span class="token number">1080</span>                  <span class="token comment">// Number of vertical pixels</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// 1080p HTTP-FLV stream</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1main"</span><span class="token punctuation">,</span> <span class="token comment">// Video address</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/x-flv"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: FLV (HTTP protocol)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>       <span class="token comment">// Resolution name</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// Resolution</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// Number of horizontal pixels</span>
          <span class="token number">1080</span>                  <span class="token comment">// Number of vertical pixels</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// 1080p HLS stream</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live/ch1main/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// Video address</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: HLS protocol (HTML5)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>       <span class="token comment">// Resolution name</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// Resolution</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// Number of horizontal pixels</span>
          <span class="token number">1080</span>                  <span class="token comment">// Number of vertical pixels</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// VGA RTMP stream</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1sub"</span><span class="token punctuation">,</span>   <span class="token comment">// RTMP protocol (Adobe Flash)</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>   <span class="token comment">// MIME type: RTMP protocol (Adobe Flash)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">480</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// VGA HTTP-FLV stream</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1sub"</span><span class="token punctuation">,</span> <span class="token comment">// Video address</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/x-flv"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: FLV</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment">// Resolution name</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// Resolution</span>
          <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// Number of horizontal pixels</span>
          <span class="token number">480</span>                 <span class="token comment">// Number of vertical pixels</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// VGA HLS stream</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hlv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live/ch1sub/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// Video address</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: HLS protocol (HTML5)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment">// Resolution name</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// Resolution</span>
          <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// Number of horizontal pixels</span>
          <span class="token number">480</span>                 <span class="token comment">// Number of vertical pixels</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"192.168.0.106"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"display"</span><span class="token operator">:</span> <span class="token string">"CH2: 192.168.0.106"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... omitted</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><blockquote>
<p>[Tips]<br>
Added <code>"ptzSupported"</code> item from <code>TS-API@0.5.0</code>.</p>
</blockquote>
<p>Because of the variety of environments (network bandwidth and protocol supported by the player) in which the video is played, we provide multiple video sources per channel as shown in the example above for compatibility.<br>
In the current version, it is streamed in two formats <code>RTMP</code> and<code> HLS</code>, and if the camera supports it, it can be dual-stream in high resolution and low resolution.</p>
<p>In fact, the <code>when=now</code> parameter, which means live video, is omitted in the example above.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span>now
</code></pre><p>If required, you can specify search parameters by combining one or more of the following parameters.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>ch          <span class="token comment"># Channel number (meaning all channels if not specified)</span>
protocol    <span class="token comment"># Specify a streaming protocol (rtmp, hls)</span>
stream      <span class="token comment"># Specify the resolution of the video (main: High definition video, sbu: Low-resolution video)</span>
nameonly    <span class="token comment"># If true, only the channel name is requested without the video stream data part. </span>

<span class="token comment"># Examples {#examples-5 }</span>
<span class="token comment"># Request channel 1 only {#request-channel-1-only }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># Request only hls protocol streams {#request-only-hls-protocol-streams }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>protocol<span class="token operator">=</span>hls

<span class="token comment"># Request only low-resolution streams {#request-only-low-resolution-streams }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>stream<span class="token operator">=</span>sub

<span class="token comment"># Only request channel name {#only-request-channel-name }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>nameonly<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># Or simply {#or-simply }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>nameonly
</code></pre><h3>Recorded video source</h3>
<p>In general, you will use the <a href="#search-date-with-recorded-video">Search date with recorded video</a> function to access the recorded video, but here are some ways to get a video source recorded at a lower level.</p>
<p>Use <code>/api/vod</code>, which is used when requesting a real-time video sources, and specify different parameters as follows.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token keyword keyword-when">when</span>        <span class="token comment"># Specify the timestamp of recorded video</span>
duration    <span class="token comment"># The time period to search from the time specified by when</span>
id          <span class="token comment"># The file ID of recorded video</span>
<span class="token keyword keyword-next">next</span>        <span class="token comment"># If true, the next video of the specified one</span>
prev        <span class="token comment"># If true, the previous video of the specified one</span>
limit       <span class="token comment"># Specify the number of items in the search results (default 10, maximum 50)</span>
otherwise   <span class="token comment"># If there is no search result,</span>
            <span class="token comment"># If requested with 'nearBefore', near recorded video before the search time period will be returned.</span>
            <span class="token comment"># If requested with 'nearAfter', near recorded video after the search time period will be returned.</span>
nolive      <span class="token comment"># Prevents search results from including real-time videos even timestamp is less than 1 minute from the current time (TS-API@0.9.9)</span>

<span class="token comment"># Examples {#examples-6 }</span>
<span class="token comment"># The channel 1 video source on channel 1 ecorded on January 8, 2018 at 9:30 PM EST {#the-channel-1-video-source-on-channel-1-ecorded-on-january-8-2018-at-930-pm-est }</span>
<span class="token comment"># [Important!] {#important }</span>
<span class="token comment"># 1. For recorded video, HTTP response code 400 (invalid request) occurs if 'ch=' is not specified. {#1-for-recorded-video-http-response-code-400-invalid-request-occurs-if-ch-is-not-specified }</span>
<span class="token comment"># 2. Only data within 1 second is retrieved from the time specified by 'when='. {#2-only-data-within-1-second-is-retrieved-from-the-time-specified-by-when }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># Search the channel 1 video source for data within 1 hour from 9:30 PM 00:00 on January 8, 2018 {#search-the-channel-1-video-source-for-data-within-1-hour-from-930-pm-0000-on-january-8-2018 }</span>
<span class="token comment"># [Time unit notation used by duration] {#time-unit-notation-used-by-duration }</span>
<span class="token comment"># w: week   (eg: 1w = one week) {#w-week---eg-1w--one-week }</span>
<span class="token comment"># d: day    (eg: 5d = 5 days) {#d-day----eg-5d--5-days }</span>
<span class="token comment"># h: hour   (eg: 3h = 3 hours) {#h-hour---eg-3h--3-hours }</span>
<span class="token comment"># m: minute (eg: 10m = 10 minutes) {#m-minute-eg-10m--10-minutes }</span>
<span class="token comment"># s: second (eg: 30s = 30 seconds) {#s-second-eg-30s--30-seconds }</span>
<span class="token comment"># ms: millisecond (1/1000 sec.) (eg: 5000ms = 5000 milliseconds = 5 seconds) {#ms-millisecond-11000-sec-eg-5000ms--5000-milliseconds--5-seconds }</span>
<span class="token comment"># * If units are not specified, seconds is used by the default. {#-if-units-are-not-specified-seconds-is-used-by-the-default }</span>
<span class="token comment"># * Notation combining multiple units (eg: 1h30m) is not supported and must be {#-notation-combining-multiple-units-eg-1h30m-is-not-supported-and-must-be }</span>
<span class="token comment"># calculated (eg: 90m) in the smallest unit if necessary {#calculated-eg-90m-in-the-smallest-unit-if-necessary }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h

<span class="token comment"># Direct request using recording file ID {#direct-request-using-recording-file-id }</span>
<span class="token comment"># If there is a video, it returns 10 consecutive (by default) video sources {#if-there-is-a-video-it-returns-10-consecutive-by-default-video-sources }</span>
<span class="token comment"># from that video. {#from-that-video }</span>
<span class="token comment"># [Tips] {#tips }</span>
<span class="token comment"># Each video file recorded on the server is assigned a unique serial number {#each-video-file-recorded-on-the-server-is-assigned-a-unique-serial-number }</span>
<span class="token comment"># that is represented by an integer. {#that-is-represented-by-an-integer }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1304</span>

<span class="token comment"># If the current file ID of channel 1 is 1034, it requests the next file {#if-the-current-file-id-of-channel-1-is-1034-it-requests-the-next-file }</span>
<span class="token comment"># of the same channel (useful for continuous playback) {#of-the-same-channel-useful-for-continuous-playback }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span><span class="token keyword keyword-next">next</span><span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># Or simply {#or-simply-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span><span class="token keyword keyword-next">next</span>

<span class="token comment"># If the current file ID of channel 1 is 1034, it requests the previous file {#if-the-current-file-id-of-channel-1-is-1034-it-requests-the-previous-file }</span>
<span class="token comment"># of the same channel (useful for continuous backward playback) {#of-the-same-channel-useful-for-continuous-backward-playback }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span>prev<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># Or simply {#or-simply-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span>prev

<span class="token comment"># Receive 30 searched video sources {#receive-30-searched-video-sources }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">-</span><span class="token number">05</span><span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span>

<span class="token comment"># If there is no search result, {#if-there-is-no-search-result }</span>
<span class="token comment"># request near recorded video before the search time period {#request-near-recorded-video-before-the-search-time-period }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span><span class="token operator">&amp;</span>otherwise<span class="token operator">=</span>nearBefore
<span class="token comment"># request near recorded video after the search time period {#request-near-recorded-video-after-the-search-time-period }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span><span class="token operator">&amp;</span>otherwise<span class="token operator">=</span>nearAfter
</code></pre><p>When this request is made, the server returns JSON data in the following format with the HTTP response code 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span> <span class="token comment">// Consists of an array of recorded video file units</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token comment">// Channel number</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"192%2E168%2E0%2E111"</span><span class="token punctuation">,</span>   <span class="token comment">// Channel name</span>
    <span class="token string-property property">"fileId"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>                    <span class="token comment">// File ID</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// Video source</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/storage/e/0/0/0/0/100.mp4"</span><span class="token punctuation">,</span>  <span class="token comment">// Video address</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/mp4"</span><span class="token punctuation">,</span>    <span class="token comment">// MIME type (mp4 file)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// Resolution name</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// Resolution</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// Number of horizontal pixels</span>
          <span class="token number">1080</span>                  <span class="token comment">// Number of vertical pixels</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"2018-02-05T17:57:12.935-05:00"</span><span class="token punctuation">,</span>  <span class="token comment">// Date and time of the beginning of the video file</span>
          <span class="token string">"2018-02-05T17:57:20.036-05:00"</span>   <span class="token comment">// Date and time of the end of the video file</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"192%2E168%2E0%2E111"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"fileId"</span><span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/storage/e/0/0/0/0/104.mp4"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/mp4"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"2018-02-05T18:05:12.147-05:00"</span><span class="token punctuation">,</span>
          <span class="token string">"2018-02-05T18:05:12.229-05:00"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h2>Requesting video using video source <code>@0.3.0</code></h2>
<p>For video request using video source without using <code>/watch</code> provided by API, authentication is supported by each protocol as follows.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># RTMP (auth= parameter supported) {#rtmp-auth-parameter-supported }</span>
<span class="token symbol">rtmp</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">&amp;</span><span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># HTTP (Only basic authentication is supported for file-based resources such as m3u8, JPG, and MP4) {#http-only-basic-authentication-is-supported-for-file-based-resources-such-as-m3u8-jpg-and-mp4 }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>path<span class="token operator">/</span>to

<span class="token comment"># HTTP (The resources of sub path /api/ are supported in both ways) {#http-the-resources-of-sub-path-api-are-supported-in-both-ways }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:passwordn</span><span class="token variable">@host</span><span class="token operator">/</span>api<span class="token operator">/</span>path<span class="token operator">/</span>to
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>api<span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">&amp;</span><span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><h2>Real-time event monitoring <code>@0.3.0</code></h2>
<h3>Web Sockets (RFC6455)</h3>
<p>Supports the ability to receive real-time event messsage using HTML5 Web sockets (RFC6455) method.<br>
Once connection established the server and the client maintain the connection state, and when an event occurs, the server sends a message to the client.</p>
<p>The step-by-step communication procedure is as follows:</p>
<blockquote>
<ol>
<li>Client connects to the server via Web Sockets.</li>
<li>If the authentication to the server succeeds, the subscriber ID is issued.</li>
<li>The client then remains connected and enters the message waiting state.</li>
</ol>
<blockquote>
<ul>
<li>The server sends a ping message every 30 seconds to keep the connection even if there is no message to send.</li>
</ul>
</blockquote>
<ol start="4">
<li>When an event occurs, the server sends a message to the client.</li>
<li>Repeat steps 3 through 4 until the client ends the connection itself.</li>
</ol>
</blockquote>
<blockquote>
<p>[Tips]<br>
The web socket method is supported by all web browsers including Microsoft web browsers.<br>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket">https://developer.mozilla.org/en-US/docs/Web/API/WebSocket</a></p>
</blockquote>
<p>The following event topics are supported:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>channelStatus   <span class="token comment"># Change channel status</span>
<span class="token constant">LPR</span>             <span class="token comment"># Car number recognition</span>
emergencyCall   <span class="token comment"># Emergency call</span>
systemEvent     <span class="token comment"># System Events (added @0.7.0)</span>
motionChanges   <span class="token comment"># Motion detection status changes (added @0.8.0)</span>
parkingCount    <span class="token comment"># Parking count events (added @0.9.0)</span>
packing         <span class="token comment"># Packing event (added @0.9.0)</span>
recordingStatus <span class="token comment"># Recording status event (added @0.9.5)</span>
object          <span class="token comment"># Object detection event (added @0.9.6)</span>
</code></pre><p>The web socket connection path and parameters are as follows.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents

<span class="token comment"># Required parameters {#required-parameters }</span>
auth    <span class="token comment"># Authentication Information (Requires authentication per individual web socket, independent of session authentication)</span>
topics  <span class="token comment"># Specify topics to receive (You can specify multiple topics at the same time, which are separated by a comma (,).)</span>

<span class="token comment"># Optional argument {#optional-argument }</span>
verbose <span class="token comment"># For emergencyCall, request List the live video stream sources of the linked video channels</span>
        <span class="token comment"># For channelStatus, request status messages (Include "title" in initial message immediately after issuing subscriber id</span>
session <span class="token comment"># Can pass authentication credentials by passing session cookie already connected</span>

<span class="token comment"># channelStatus-specific parameters (optional) {#channelstatus-specific-parameters-optional }</span>
ch      <span class="token comment"># Used when specifying specific channels (separated by a comma (,) if multiple channels are specified at the same time)</span>
lang    <span class="token comment"># Specify language for status messages</span>

<span class="token comment"># Example {#example-1 }</span>
<span class="token comment"># Request car number recognition event {#request-car-number-recognition-event }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># Request emergency call event {#request-emergency-call-event }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># Request both events {#request-both-events }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token punctuation">,</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># request List the live video stream sources of the linked video channels {#request-list-the-live-video-stream-sources-of-the-linked-video-channels }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token punctuation">,</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># Request status change events for all channels {#request-status-change-events-for-all-channels }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>channelStatus<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># Requests status change events for all channels including messages {#requests-status-change-events-for-all-channels-including-messages }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>channelStatus<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># Requests status change events of channels 1 and 2 including Spanish messages {#requests-status-change-events-of-channels-1-and-2-including-spanish-messages }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>channelStatus<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>

<span class="token comment"># Requests motion detection status change events for all channels {#requests-motion-detection-status-change-events-for-all-channels }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>motionChanges<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># Requests motion detection status change events of channels 1 and 2 {#requests-motion-detection-status-change-events-of-channels-1-and-2 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>motionChanges<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>

<span class="token comment"># Requests parking count for all the parking lots {#requests-parking-count-for-all-the-parking-lots }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>parkingCount<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># Requests parking count for the parking lot id 1 and 2 (in this case the `ch` used as parking lot id) {#requests-parking-count-for-the-parking-lot-id-1-and-2-in-this-case-the-ch-used-as-parking-lot-id }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>parkingCount<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>
</code></pre><p>The server issues the recipient ID in JSON format as shown below if the requested authentication information and topic are correct.<br>
If the authentication information is incorrect or is not a supported topic, it will be disconnected immediately.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"subscriberId"</span><span class="token operator">:</span> <span class="token string">"cd57c82b-7e8c-4b04-91eb-520f6a9773ce"</span><span class="token punctuation">,</span> <span class="token comment">// subscriber ID (Unique ID per each connection)</span>
  <span class="token string-property property">"topics"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token comment">// Reply to requested topics (Both events are supported)</span>
    <span class="token string">"LPR"</span><span class="token punctuation">,</span>
    <span class="token string">"emergencyCall"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Channel status change events</h3>
<p>You can receive channel status change events in real time by requesting <code>topics=channelStatus</code>.<br>
Unlike other topics, in case of the channel status topic, for status change management, the current channel status is sent once, immediately after issuing the subscriber id.<br>
The rest events are then sent only when there is a change from the initial state.<br>
Channel status change event messages are received in JSON format as shown below.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// subscriber id</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"subscriberId"</span><span class="token operator">:</span><span class="token string">"1a3dc2de-d3b5-4983-933a-49a86ac8ad3d"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topics"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"channelStatus"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// Current all channel status (sent immediately after the subscriber id)</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T15:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"currentStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Camera1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. Camera1"</span><span class="token punctuation">,</span>  <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>   <span class="token comment">// Camera capabilities (Added since TS-API@0.9.4)</span>
        <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// Available stream list (Added since TS-API@0.9.4)</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch3main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"WXGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1280</span><span class="token punctuation">,</span>
            <span class="token number">960</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch3main/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"WXGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1280</span><span class="token punctuation">,</span>
            <span class="token number">960</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch3sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch3sub/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Camera2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH2. Camera2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
        <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>
            <span class="token number">1080</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>
            <span class="token number">1080</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">360</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">360</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// When channel name changes</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"nameChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Camera1"</span><span class="token punctuation">,</span>
  <span class="token string">"displayName: "</span><span class="token constant">CH1</span><span class="token punctuation">.</span> <span class="token property-access"><span class="token maybe-class-name">Camera1</span></span>"  <span class="token comment">// Added since TS-API@0.9.4</span>
<span class="token punctuation">}</span>

<span class="token comment">// When the video address modified</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:01:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"videoSrcModified"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// When the video stream is connected</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:03:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"videoStreamReady"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Video available"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// Available stream list (Added since TS-API@0.9.4)</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1main"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">1920</span><span class="token punctuation">,</span>
        <span class="token number">1080</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">1920</span><span class="token punctuation">,</span>
        <span class="token number">1080</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1sub"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">640</span><span class="token punctuation">,</span>
        <span class="token number">360</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">640</span><span class="token punctuation">,</span>
        <span class="token number">360</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// Video stream has the same address but needs to be reconnected</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:03:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"videoStreamChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// When the camera is connected</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"statusChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// When a channel was added (setting changed)</span>
<span class="token comment">// Added since TS-API@0.9.4</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"channelAdded"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// When a channel was removed (setting changed)</span>
<span class="token comment">// Added since TS-API@0.9.4</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"channelRemoved"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// When channel numbers of two channels are exchanged (setting changed)</span>
<span class="token comment">// Added since TS-API@0.9.4</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"channelSwapped"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>The list of channel status codes is the same as the status code list in <a href="#request-channel-status-030">Request channel status <code>@0.3.0</code></a>.</p>
<h3>Car number recognition events</h3>
<p>If you request <code>topics=LPR</code>, you can receive the car number recognition event in real time.<br>
The car number event message is received in JSON format as shown below.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:42:06.575-05:00"</span><span class="token punctuation">,</span>  <span class="token comment">// Vehicle number recognition time</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                     <span class="token comment">// Car number recognition channel</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. Camera1"</span><span class="token punctuation">,</span> <span class="token comment">// Added since TS-API@0.9.4</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1&amp;when=2018%2D06%2D27T10%3A42%3A06%2E575-05%3A00"</span>  <span class="token comment">// The video at vehicle identification time</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"deviceCode"</span><span class="token operator">:</span><span class="token string">"1-1-7"</span><span class="token punctuation">,</span>                         <span class="token comment">// Car number identification device (zone) code</span>
  <span class="token string-property property">"deviceName"</span><span class="token operator">:</span><span class="token string">"B1 Parking Lot"</span><span class="token punctuation">,</span>                <span class="token comment">// Car number identification device (zone) name</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                            <span class="token comment">// Linked channels</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. Camera2"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2&amp;when=2018%2D06%2D27T10%3A42%3A06%2E575-05%3A00"</span> <span class="token comment">// The video at vehicle identification time</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span><span class="token string">"http://host/storage/e/0/0/0/39/39612.161192.1576732638241699.plate.jpg"</span><span class="token punctuation">,</span> <span class="token comment">// captured still cut image</span>
  <span class="token string-property property">"plateNo"</span><span class="token operator">:</span><span class="token string">"DSP963"</span><span class="token punctuation">,</span>                           <span class="token comment">// License plate number</span>
  <span class="token string-property property">"score"</span><span class="token operator">:</span><span class="token number">98</span><span class="token punctuation">,</span>                                   <span class="token comment">// recognition score (Based on 100 points): May not be supported depending on vehicle identification engine (optional item)</span>
  <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                      <span class="token comment">// License plate area</span>
    <span class="token string-property property">"offset"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">964</span><span class="token punctuation">,</span><span class="token number">560</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                         <span class="token comment">// Top left coordinates</span>
    <span class="token string-property property">"size"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">187</span><span class="token punctuation">,</span><span class="token number">51</span><span class="token punctuation">]</span>                             <span class="token comment">// License plate image size</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:42:02.573-05:00"</span><span class="token punctuation">,</span>  <span class="token comment">// First recognized time of the car</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"LPR"</span><span class="token punctuation">,</span>                                <span class="token comment">// Topic name</span>
  <span class="token string-property property">"parkingLot"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                               <span class="token comment">// Connected parking lot id (TS-API@0.9.8)</span>
    <span class="token string-property property">"entrance"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                              <span class="token comment">// Parking lot entrance id</span>
    <span class="token string-property property">"exit"</span><span class="token operator">:</span> <span class="token number">2</span>                                   <span class="token comment">// Parking lot exit id</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>Emergency call events</h3>
<p>If you request <code>topics=emergencyCall</code>, you can receive the event messages at the start and end of the emergency call in real time.<br>
Emergency call event messages are received in JSON format as shown below.</p>
<p><strong>Call start message</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:56:16.316-05:00"</span><span class="token punctuation">,</span>  <span class="token comment">// Start time of the call</span>
  <span class="token string-property property">"caller"</span><span class="token operator">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           <span class="token comment">// Emergency call device location code</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    <span class="token comment">// Emergency call device name</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span><span class="token string">"callStart"</span><span class="token punctuation">,</span>                          <span class="token comment">// Call start event</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// Linked channels</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. Camera1"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. Camera2"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"B1 Stairs"</span><span class="token punctuation">,</span>                           <span class="token comment">// Emergency call device location name</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"emergencyCall"</span>                       <span class="token comment">// Topic name</span>
<span class="token punctuation">}</span>
</code></pre><p>Emergency call events are events for real-time communication, so all channels are linked to real-time video.<br>
If you request the video stream source of the channels as shown below, the video stream sources are additionally included.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre><pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:56:16.316-05:00"</span><span class="token punctuation">,</span>  <span class="token comment">// Start time of the call</span>
  <span class="token string-property property">"caller"</span><span class="token operator">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           <span class="token comment">// Emergency call device location code</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    <span class="token comment">// Emergency call device name</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span><span class="token string">"callStart"</span><span class="token punctuation">,</span>                          <span class="token comment">// Call start event</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// Linked channels</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. Camera1"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streams"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// vidio stream sources</span>
                <span class="token comment">// (Multiple sources are organized into an array in one channel, depending on protocol and resolution)</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p RTMP stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1main"</span><span class="token punctuation">,</span>  <span class="token comment">// video address</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>     <span class="token comment">// MIME type: RTMP protocol (Adobe Flash format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// resolution name</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// resolution</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// the number of horizontal pixels</span>
            <span class="token number">1080</span>                  <span class="token comment">// the number of verical pixels</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p HLS stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// video address</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: HLS protocol (format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// resolution name</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// resolution</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// the number of horizontal pixels</span>
            <span class="token number">1080</span>                  <span class="token comment">// the number of verical pixels</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA RTMP stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1sub"</span><span class="token punctuation">,</span>   <span class="token comment">// RTMP protocol (Adobe Flash format)</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>   <span class="token comment">// MIME type: RTMP protocol (Adobe Flash format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA HLS stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// video address</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: HLS protocol (HTML5 format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment">// resolution name</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// resolution</span>
            <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// the number of horizontal pixels</span>
            <span class="token number">480</span>                 <span class="token comment">// the number of verical pixels</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. Camera2"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streams"</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token comment">// ... omitted</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"B1 Stairs"</span><span class="token punctuation">,</span>                     <span class="token comment">// Emergency call device location name</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"emergencyCall"</span>                 <span class="token comment">// Topic name</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Call end message</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:59:26.322-05:00"</span><span class="token punctuation">,</span>  <span class="token comment">// End time of then call</span>
  <span class="token string-property property">"caller"</span><span class="token operator">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           <span class="token comment">// Emergency call device location code</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    <span class="token comment">// Emergency call device name</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span><span class="token string">"callEnd"</span><span class="token punctuation">,</span>                            <span class="token comment">// Call end event</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// Linked channels</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. Camera1"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. Camera2"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"B1 Stairs"</span><span class="token punctuation">,</span>                          <span class="token comment">// Emergency call device location name</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"emergencyCall"</span>                      <span class="token comment">// Topic name</span>
<span class="token punctuation">}</span>
</code></pre><p>Emergency call event messages are used for real-time communication, so the video address of the linked channel is linked to the real-time video unlike the case of car number recognition.</p>
<h3>System event <code>@0.7.0</code></h3>
<p>If you request <code>topics = systemEvent</code>, you can receive system events in real time.<br>
System event is received in JSON format as below when "System log" data is generated from <a href="#event-log-type-list">Event log type list</a>.<br>
Each data type is the same as those used in <a href="#search-event-log">Search event log</a>.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"systemEvent"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">16384</span><span class="token punctuation">,</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"System log"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"Storage path changed"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"2018-11-15T13:16:38.054-05:00"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"storagePathBefore"</span><span class="token operator">:</span> <span class="token string">"D:\\recData\\"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"storagePathAfter"</span><span class="token operator">:</span> <span class="token string">"E:\\recData\\"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"Storage path changed from D:\\recData\\ to E:\\recData\\."</span>  <span class="token comment">// optional</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"systemEvent"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">19138</span><span class="token punctuation">,</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"System log"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"System shutdown"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"2018-12-26T15:29:20.013-05:00"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Motion Detection Status Change Event <code>@0.8.0</code></h3>
<p>If you request <code>topics=motionChanges</code>, you can receive the event when changing the motion detection status for each channel in real time.<br>
Immediately after the request, the current motion detection status of all specified channels is received<br>
After this, the status of channels whose motion detection is changed in 1 second cycle is received in JSON format as below.<br>
No events occur for channels with the same motion detection status.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"motionChanges"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"updated"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"motion"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"motion"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token string-property property">"motion"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Parking Count Event <code>@0.9.0</code></h3>
<p>If you ask for <code>topics=parkingCount</code>, you can receive events in real time when the number of cars in each parking lot is changed.<br>
Immediately after the request, the current number of vehicles in all the specified parking lots will be received once.<br>
The number of vehicles in the parking lot will be received in JSON format as shown below.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span> <span class="token operator">:</span><span class="token string">"2019-02-18T23:11:12.119-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"parkingCount"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"updated"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Total"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"group"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">31</span><span class="token punctuation">,</span>
      <span class="token string-property property">"member"</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token number">13</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B1 Parking Lot"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">21</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B2 Parking Lot"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span><span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Recording Status Event <code>@0.9.5</code></h3>
<p>If you request <code>topics = recordingStatus</code>, you can receive real-time events for each channel's recording status.<br>
Immediately after the request, the current status of all channels is received.<br>
After this, whenever a change occurs, it is received in JSON format as shown below.</p>
<ul>
<li>all channels</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-03-25T10:01:53.841-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"recordingStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"currentStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>On status changed</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-03-25T10:08:30.003-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"recordingStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"statusChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// The time of recording failure (this value is specified only in the failure state)</span>
      <span class="token string-property property">"timestampRecordingFailure"</span><span class="token operator">:</span><span class="token string">"2020-03-25T10:07:09.646-05:00"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>Object Detection Event <code>@0.9.11</code></h3>
<p>If you request <code>topics = object</code>, you can receive real-time events at the time when the object is detected by each camera.<br>
The supported object types are as follows.</p>
<ul>
<li>face</li>
<li>human</li>
<li>vehicle</li>
</ul>
<p>You can receive only the object you want by specifying the object type <code>objectType</code> as shown below.<br>
If not specified, all supported object types are sent.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># requests only face {#requests-only-face }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># requests only vehicle {#requests-only-vehicle }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>vehicle<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># requests face and human {#requests-face-and-human }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token punctuation">,</span>human<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><h4><code>face</code> object</h4>
<ol>
<li>Example data</li>
</ol>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2020-05-25T13:56:02.558-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # channel id
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">132</span><span class="token punctuation">,</span>           # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same object<span class="token punctuation">)</span>
  <span class="token string-property property">"parentId"</span><span class="token operator">:</span> <span class="token number">130</span><span class="token punctuation">,</span>        # <span class="token maybe-class-name">In</span> the <span class="token keyword keyword-case">case</span> <span class="token keyword keyword-of">of</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">face</span><span class="token template-punctuation string">`</span></span> objects<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">human</span><span class="token template-punctuation string">`</span></span> can be the parent<span class="token punctuation">,</span> <span class="token maybe-class-name">Relationship</span> <span class="token keyword keyword-of">of</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">face</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">(</span>child<span class="token punctuation">)</span> attached to <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">human</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">(</span>exists only when two objects are detected simultaneously<span class="token punctuation">)</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"face"</span><span class="token punctuation">,</span>         # object type
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">71.10</span><span class="token punctuation">,</span>    # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>         # object <span class="token function">attributes</span> <span class="token punctuation">(</span>list only detected attributes<span class="token punctuation">)</span>
    <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"female"</span><span class="token punctuation">,</span>   # gender
    <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token string">"adult"</span><span class="token punctuation">,</span>       # age devision
    <span class="token string-property property">"hat"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          # <span class="token function">hat</span> <span class="token punctuation">(</span>wearing<span class="token punctuation">)</span> 
    <span class="token string-property property">"glasses"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>     # <span class="token function">glasses</span> <span class="token punctuation">(</span>not wearing<span class="token punctuation">)</span>
    <span class="token string-property property">"mask"</span><span class="token operator">:</span> <span class="token boolean">false</span>         # <span class="token function">mask</span> <span class="token punctuation">(</span>not wearing<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673854/7673854.4411971.1590382562558672.object._c1_t2_s552x400.jpg"</span> # image address
<span class="token punctuation">}</span>
</code></pre><ol start="2">
<li><code>face</code> attributes
<table>
<thead>
<tr>
<th>key</th>
<th>type</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gender</code></td>
<td><code>string</code></td>
<td><code>female</code>, <code>male</code></td>
</tr>
<tr>
<td><code>age</code></td>
<td><code>string</code></td>
<td><code>young</code>, <code>adult</code>, <code>middle</code>, <code>senior</code></td>
</tr>
<tr>
<td><code>hat</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>glasses</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>mask</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h4><code>human</code> object</h4>
<ol>
<li>Example data</li>
</ol>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T13:56:18.461-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # channel id
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">142</span><span class="token punctuation">,</span>           # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same object<span class="token punctuation">)</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"human"</span><span class="token punctuation">,</span>        # object type
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">74.80</span><span class="token punctuation">,</span>    # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>         # object <span class="token function">attributes</span> <span class="token punctuation">(</span>list only detected attributes<span class="token punctuation">)</span>
    <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"female"</span><span class="token punctuation">,</span>   # gender
    <span class="token string-property property">"hat"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          # <span class="token function">hat</span> <span class="token punctuation">(</span>wearing<span class="token punctuation">)</span> 
    <span class="token string-property property">"bag"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          # <span class="token function">bag</span> <span class="token punctuation">(</span>carring<span class="token punctuation">)</span>
    <span class="token string-property property">"clothes"</span><span class="token operator">:</span> <span class="token punctuation">[</span>          # <span class="token function">clothes</span> <span class="token punctuation">(</span><span class="token parameter">multiple notation</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"tops"</span><span class="token punctuation">,</span>   # tops
        <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span> # length <span class="token keyword keyword-of">of</span> clothes
        <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>       # colors <span class="token keyword keyword-of">of</span> <span class="token function">clothes</span> <span class="token punctuation">(</span>multiple notation<span class="token punctuation">)</span>
          <span class="token string">"white"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"bottoms"</span><span class="token punctuation">,</span> # bottoms
        <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span>  # length <span class="token keyword keyword-of">of</span> clothes
        <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        # colors <span class="token keyword keyword-of">of</span> <span class="token function">clothes</span> <span class="token punctuation">(</span>multiple notations<span class="token punctuation">)</span>
          <span class="token string">"blue"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673854/7673854.4411974.1590382578461739.object._c1_t1_s376x600.jpg"</span> # image address
<span class="token punctuation">}</span>
</code></pre><ol start="2">
<li><code>human</code> attributes
<table>
<thead>
<tr>
<th>key</th>
<th>type</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gender</code></td>
<td><code>string</code></td>
<td><code>female</code>, <code>male</code></td>
</tr>
<tr>
<td><code>hat</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>bag</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>clothes</code></td>
<td><code>array</code> of <code>object</code></td>
<td><em>refer to <code>clothes</code> attributeds</em></td>
</tr>
</tbody>
</table>
</li>
<li><code>clothes</code> attributes
<table>
<thead>
<tr>
<th>key</th>
<th>type</th>
<th>list</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code></td>
<td><code>string</code></td>
<td><code>tops</code>, <code>bottoms</code></td>
<td>tops or bottoms</td>
</tr>
<tr>
<td><code>length</code></td>
<td><code>string</code></td>
<td><code>short</code>, <code>long</code></td>
<td>sleeve, pants length</td>
</tr>
<tr>
<td><code>colors</code></td>
<td><code>array</code> of <code>string</code></td>
<td><code>brown</code>, <code>black</code>, <code>red</code>, <code>orange</code>, <code>yellow</code>, <code>green</code>, <code>cyan</code>, <code>blue</code>, <code>purple</code>, <code>magenta</code>, <code>gray</code>, <code>pink</code>, <code>beige</code>, <code>white</code>, <code>other</code></td>
<td>colors of clothes</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h4><code>vehicle</code> object</h4>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token number">1.</span> <span class="token maybe-class-name">Example</span> data
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:23:58.768-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # channel id
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">182</span><span class="token punctuation">,</span>           # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same object<span class="token punctuation">)</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"vehicle"</span><span class="token punctuation">,</span>      # object type
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">99.60</span><span class="token punctuation">,</span>    # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>         # object <span class="token function">attributes</span> <span class="token punctuation">(</span>list only detected attributes<span class="token punctuation">)</span>
    <span class="token string-property property">"vehicleType"</span><span class="token operator">:</span> <span class="token string">"car"</span><span class="token punctuation">,</span> # vehicle type
    <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           # vehicle <span class="token function">colors</span> <span class="token punctuation">(</span>multiple notation<span class="token punctuation">)</span>
      <span class="token string">"white"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673880/7673880.4412174.1590384238768802.object._c1_t3_s944x520.jpg"</span> # image address
<span class="token punctuation">}</span>
</code></pre><ol start="2">
<li><code>vehicle</code> attributes
<table>
<thead>
<tr>
<th>key</th>
<th>type</th>
<th>list</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vehicleType</code></td>
<td><code>string</code></td>
<td><code>car</code>, <code>truck</code>, <code>bus</code>, <code>bicycle</code>, <code>motorcycle</code>, <code>train</code></td>
</tr>
<tr>
<td><code>colors</code></td>
<td><code>array</code> of <code>string</code></td>
<td><code>brown</code>, <code>black</code>, <code>red</code>, <code>orange</code>, <code>yellow</code>, <code>green</code>, <code>cyan</code>, <code>blue</code>, <code>purple</code>, <code>magenta</code>, <code>gray</code>, <code>pink</code>, <code>beige</code>, <code>white</code>, <code>other</code></td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3>Body Temperature Event <code>@0.9.14</code></h3>
<p>If you request <code>topics=bodyTemperature</code>, you can receive real-time events when high temperatures are detected by each thermal imaging camera for body temperature detection.</p>
<p>To receive body temperature detection events, make a request as follows:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>bodyTemperature<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p>Example data</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:23:58.768-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # channel id
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">182</span><span class="token punctuation">,</span>           # object <span class="token function">id</span> <span class="token punctuation">(</span><span class="token maybe-class-name">If</span> the id is the same<span class="token punctuation">,</span> it is divided into the same person<span class="token punctuation">)</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"vehicle"</span><span class="token punctuation">,</span>      # object type
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">99.60</span><span class="token punctuation">,</span>    # detection <span class="token function">accuracy</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// Linked channels</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"Camera1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. Camera1"</span><span class="token punctuation">,</span>             <span class="token comment">// Added since TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streams"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// vidio stream sources</span>
                <span class="token comment">// (Multiple sources are organized into an array in one channel, depending on protocol and resolution)</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p RTMP stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1main"</span><span class="token punctuation">,</span>  <span class="token comment">// video address</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>     <span class="token comment">// MIME type: RTMP protocol (Adobe Flash format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// resolution name</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// resolution</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// the number of horizontal pixels</span>
            <span class="token number">1080</span>                  <span class="token comment">// the number of verical pixels</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p HLS stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// video address</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: HLS protocol (format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// resolution name</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// resolution</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// the number of horizontal pixels</span>
            <span class="token number">1080</span>                  <span class="token comment">// the number of verical pixels</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA RTMP stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1sub"</span><span class="token punctuation">,</span>   <span class="token comment">// RTMP protocol (Adobe Flash format)</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>   <span class="token comment">// MIME type: RTMP protocol (Adobe Flash format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA HLS stream</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// video address</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME type: HLS protocol (HTML5 format)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment">// resolution name</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// resolution</span>
            <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// the number of horizontal pixels</span>
            <span class="token number">480</span>                 <span class="token comment">// the number of verical pixels</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>Now, let's create an example that uses the Web socket to receive event messages.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>utf-8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">body</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span>Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">}</span>
    <span class="token selector">div</span> <span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#control</span></span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span><span class="token color">beige</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#url</span><span class="token punctuation">,</span> <span class="token id">#messages</span></span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">0.8</span><span class="token unit">em</span><span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'Courier New'</span><span class="token punctuation">,</span> Courier<span class="token punctuation">,</span> monospace<span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.open</span><span class="token punctuation">,</span> li<span class="token class">.close</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">blue</span><span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.error</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">red</span><span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Ex3. Receiving Events (Web Socket)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>control<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>host-name<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>Server IP address:port<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>user-id<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>User ID<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>Password<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      Topics:
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>channelStatus<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>channelStatus
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LPR<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>LPR 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emergencyCall<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>emergencyCall
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>systemEvent<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>systemEvent
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>motionChanges<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>motionChanges
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parkingCount<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>parkingCount
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>packing<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>packing
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>recordingStatus<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>recordingStatus
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>object<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>object
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>verbose<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>Verbose
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Connect<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Disconnect<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Clear all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>url<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>messages<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-typeof">typeof</span><span class="token punctuation">(</span><span class="token maybe-class-name">WebSocket</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Your web browser does\'nt support Web Socket.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Already connected'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
      
    <span class="token keyword keyword-var">var</span> hostName <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter the host.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> userId <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter your user ID.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> password <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter your password.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> topics <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'topic'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-var">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>el<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token operator">!</span>el<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-continue">continue</span><span class="token punctuation">;</span>

      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>topics<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        topics <span class="token operator">+=</span> <span class="token string">','</span><span class="token punctuation">;</span>
       topics <span class="token operator">+=</span> el<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>topics<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please select at least one topic.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> encodedData <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// base64 encoding</span>
    url <span class="token operator">=</span> <span class="token punctuation">(</span>hostName<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">'ws://'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'ws://'</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      hostName <span class="token operator">+</span> <span class="token string">'/api/subscribeEvents?topics='</span> <span class="token operator">+</span> topics <span class="token operator">+</span> 
      <span class="token string">'&amp;auth='</span> <span class="token operator">+</span> encodedData<span class="token punctuation">;</span>
    
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'verbose'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">)</span>
      url <span class="token operator">+=</span> <span class="token string">'&amp;verbose=true'</span><span class="token punctuation">;</span>
      
    <span class="token comment">//url += '&amp;ch=4';</span>
    <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token parameter">tagClass<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword keyword-var">var</span> li <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createTextNode</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>tagClass<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>

    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> url<span class="token punctuation">;</span>

    <span class="token comment">// WebSocket instance and it's handler functions</span>
    <span class="token keyword keyword-var">var</span> ws <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onopen</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'Connected'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclose</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'Disconnected: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onerror</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'Error: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> ws<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span><span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword keyword-function">function</span> <span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">"messages"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-while">while</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      el<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><p><a href="./examples/ex3.html">Run</a></p>
<h2>Exporting recorded video <code>@0.3.0</code></h2>
<p>You can use the web socket to receive recorded video from the server.<br>
The server creates the files one by one and deletes them when the client finishes downloading, and then creates the next file.<br>
All progress is made while the server and the client remain connected,<br>
If the connection is lost, the server immediately stops the operation and deletes the generated file.</p>
<p>The step-by-step communication procedure is as follows.</p>
<blockquote>
<ol>
<li>Client connects to server via Web socket</li>
<li><code>Server -&gt; Client [stage:ready]</code> If authenticated successful, the server send ready stage which contains the summary of the task.</li>
<li><code>Server -&gt; Client [stage:begin]</code> Start the requested operation from the server</li>
<li><code>Server -&gt; Client [stage:channelBegin]</code> Start task on a channel</li>
<li><code>Server -&gt; Client [stage:fileBegin]</code> Start creating a file</li>
<li><code>Server -&gt; Client [stage:fileWriting]</code> Writing data to a file</li>
<li><code>Server -&gt; Client [stage:fileEnd]</code> Completed a file (download link provided)</li>
<li><code>Server -&gt; Client [stage:timeoutAlert]</code> Sent immediately before the time specified at <code>ttl</code> in<code> fileEnd</code> is exceeded</li>
<li><code>Client -&gt; Server [cmd:wait]</code> Making server wait while the client is downloading</li>
<li><code>Client -&gt; Server [cmd:next]</code> Making server create next file after the file has finished downloading</li>
<li><code>Server -&gt; Client [stage:channelEnd]</code> Completed task on a channel</li>
<li><code>Server -&gt; Client [stage:end]</code></li>
<li>If there are next files, repeat steps 6 to 10</li>
<li>If there are next channels, repeat steps 5 through 12</li>
<li><code>Client -&gt; Server [cmd:cancel]</code> Clients can cancel jobs at any time after step 2</li>
</ol>
</blockquote>
<p>The web socket connection path and parameters are as follows.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport

<span class="token comment"># Required parameters {#required-parameters-1 }</span>
auth            <span class="token comment"># Authentication Information (Requires authentication per individual web socket, independent of session authentication)</span>
timeBegin       <span class="token comment"># Start time of data range to export (ISO8601 format)</span>
timeEnd         <span class="token comment"># End time of data range to export (ISO8601 format)</span>

<span class="token comment"># Optional parameters {#optional-parameters }</span>
ch              <span class="token comment"># Used when specifying specific channels (separated by a comma (,) if multiple channels are specified at the same time)</span>
                <span class="token comment"># If you do not specify a channel, it means all channels</span>
subtitleFormat  <span class="token comment"># Specify the type of subtitle file to be used for the date time display of video</span>
                <span class="token comment"># Supports VTT, SRT, and SMI formats. If not specified or set to None, subtitle files are not generated.</span>
mediaSize   <span class="token comment"># Specify the maximum size of the video file (Can be expressed in units of GB, MB, KB, B, eg: 1GB, 700MB)</span>
statusInterval  <span class="token comment"># Displays the interval of receiving the progress (stage:fileWriting) of the video file to be exported from the server</span>
                <span class="token comment"># (Can be expressed in units of s, ms, eg: 1s, 500ms)</span>
                <span class="token comment"># If statusInterval is not specified, no progress is sent</span>
lang            <span class="token comment"># Specify the language to be used for backup progress status and subtitle file</span>

<span class="token comment"># Parameters used for server-side logging for privacy (multiple lines of text can be used) {#parameters-used-for-server-side-logging-for-privacy-multiple-lines-of-text-can-be-used }</span>
submitter       <span class="token comment"># Specify video submitter</span>
recipient       <span class="token comment"># Specify video recipient</span>
purpose         <span class="token comment"># Specify the purpose of the video to submit</span>

<span class="token comment"># including md5 {#including-md5 }</span>
md5             <span class="token comment"># added at v0.9.2</span>


<span class="token comment"># Examples {#examples-7 }</span>
<span class="token comment"># July 27, 2018 to receive all recorded videos from 9:00 am to 9:30 am {#july-27-2018-to-receive-all-recorded-videos-from-900-am-to-930-am }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A

<span class="token comment"># Exporting video recorded on channel 1 {#exporting-video-recorded-on-channel-1 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># Exporting video recorded on channel 1 with md5 {#exporting-video-recorded-on-channel-1-with-md5 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>md5<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># Exporting video recorded on channel 1,2 and 3 {#exporting-video-recorded-on-channel-12-and-3 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>

<span class="token comment"># Save the file as 500MB {#save-the-file-as-500mb }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB

<span class="token comment"># Create VTT subtitle file {#create-vtt-subtitle-file }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span>

<span class="token comment"># Receiving progress in 1 second interval {#receiving-progress-in-1-second-interval }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span><span class="token operator">&amp;</span>statusInterval<span class="token operator">=</span><span class="token number">1</span>s

<span class="token comment"># Specify language to Spanish {#specify-language-to-spanish }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span><span class="token operator">&amp;</span>statusInterval<span class="token operator">=</span><span class="token number">1</span>s<span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>

<span class="token comment"># Specify Video submitter(Begger), recipient(Prince), purpose(cold\nand hungry) {#specify-video-submitterbegger-recipientprince-purposecoldnand-hungry }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span><span class="token operator">&amp;</span>statusInterval<span class="token operator">=</span><span class="token number">1</span>s<span class="token operator">&amp;</span>submitter<span class="token operator">=</span>Begger<span class="token operator">&amp;</span>recipient<span class="token operator">=</span>Prince<span class="token operator">&amp;</span>purpose<span class="token operator">=</span>cold<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>Aand<span class="token operator">%</span><span class="token number">20</span>hungry
</code></pre><p>The message format sent by the server for each stage is as follows.<br>
<strong>stage:ready - Ready</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"ready"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Success"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # task id<span class="token operator">-</span><span class="token number">05</span>
    <span class="token string-property property">"ch"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token number">3</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"2018-07-27T09:00:00.000-05:00"</span><span class="token punctuation">,</span>
      <span class="token string">"2018-07-27T09:30:00.000-05:00"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"mediaSize"</span><span class="token operator">:</span> <span class="token number">524288000</span><span class="token punctuation">,</span>
    <span class="token string-property property">"subtitleFormat"</span><span class="token operator">:</span> <span class="token string">"VTT"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"language"</span><span class="token operator">:</span> <span class="token string">"en-US"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>In some situations, it may fail and terminate immediately.<br>
The types of <code>status</code> code are as follows.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">0</span><span class="token operator">:</span> Succcess
<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> No data <span class="token keyword keyword-in">in</span> the requested time range <span class="token keyword keyword-and">and</span> channels
<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> Invalid parameters
<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> Out of storage space <span class="token punctuation">(</span>If there is no free space on the server<span class="token punctuation">)</span>    
</code></pre><p><strong>stage:begin - Start task</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"begin"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"0%"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Overall</span> progress
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:00:00.000-05:00"</span> # <span class="token maybe-class-name">Current</span> time stamp <span class="token keyword keyword-in">in</span> progress
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:channelBegin - Start a channel</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"channelBegin"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"0%"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Overall</span> progress
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:00:00.000-05:00"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Current</span> time stamp <span class="token keyword keyword-in">in</span> progress
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # <span class="token maybe-class-name">Channel</span> number
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"0%"</span>   # <span class="token maybe-class-name">Channel</span> progress
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:fileBegin - Start file creation</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"fileBegin"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"37%"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">Overall</span> progress
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:11:19.825-05:00"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Current</span> time stamp <span class="token keyword keyword-in">in</span> progress
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # <span class="token maybe-class-name">Channel</span> number
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"37%"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Channel</span> progress
    <span class="token string-property property">"file"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        # <span class="token maybe-class-name">File</span> id
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"CH1.2018-07-27T09.11.19.mp4"</span>  # <span class="token maybe-class-name">File</span> name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:fileWriting -File writing in progress</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"fileWriting"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"42%"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">Overall</span> progress
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:12:49.466-05:00"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Current</span> time stamp <span class="token keyword keyword-in">in</span> progress
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # <span class="token maybe-class-name">Channel</span> number
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"42%"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Channel</span> progress
    <span class="token string-property property">"file"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fid"</span><span class="token operator">:</span> <span class="token number">1</span>         # <span class="token maybe-class-name">File</span> id
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:fileEnd - File creation complete</strong><br>
Once a file is created, the download link will be returned with the ttl as follows:<br>
Within ttl, The client must send a command to the server to control the flow, otherwise the server automatically cancels the operation.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"fileEnd"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"51%"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">Overall</span> progress
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:15:25.225-05:00"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Current</span> time stamp <span class="token keyword keyword-in">in</span> progress
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>          # <span class="token maybe-class-name">Channel</span> number
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"51%"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">Channel</span> progress
    <span class="token string-property property">"file"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # <span class="token maybe-class-name">File</span> id
      <span class="token string-property property">"ttl"</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>     # <span class="token maybe-class-name">If</span> the client does not send any commands within <span class="token number">10000</span> <span class="token function">milliseconds</span> <span class="token punctuation">(</span><span class="token number">10</span> seconds<span class="token punctuation">)</span><span class="token punctuation">,</span> 
                        # the server will automatically cancel the operation
      <span class="token string-property property">"download"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        # <span class="token maybe-class-name">Created</span> video file
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileName"</span><span class="token operator">:</span> <span class="token string">"CH1.2018-07-27T09.11.19.mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/download/7963635e-1bff-40e1-bbf3-3f17525aef40/CH1.2018-07-27T09.11.19.mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"md5"</span><span class="token operator">:</span> <span class="token string">"1125ee2c3d20f30b31166c821204603d"</span> # md5<span class="token operator">=</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        # <span class="token maybe-class-name">Created</span> subtitle file
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileName"</span><span class="token operator">:</span> <span class="token string">"CH1.2018-07-27T09.11.19.vtt"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/download/7963635e-1bff-40e1-bbf3-3f17525aef40/CH1.2018-07-27T09.11.19.vtt"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"md5"</span><span class="token operator">:</span> <span class="token string">"9176eec58f3be777ae7bd188a1f14165"</span> # md5<span class="token operator">=</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Download links can be used with the <code>auth</code> parameter.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>download<span class="token operator">/</span><span class="token number">7963635e-1</span>bff<span class="token operator">-</span><span class="token number">40e1</span><span class="token operator">-</span>bbf3<span class="token operator">-</span><span class="token number">3</span>f17525aef40<span class="token operator">/</span><span class="token constant">CH1</span><span class="token number">.2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token punctuation">.</span><span class="token number">11.19</span><span class="token punctuation">.</span>mp4<span class="token operator">&amp;</span>auth<span class="token operator">=</span>YWRtaW46YWRtaW4
</code></pre><p><strong>stage:timeoutAlert - timeout alert</strong><br>
The server sends it to the client to notify the task will be canceled shortly before the time specified in the ttl specified in <code>fileEnd</code>.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"request"</span><span class="token operator">:</span> <span class="token string">"timeoutAlert"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"ttl"</span><span class="token operator">:</span> <span class="token number">2000</span>         # <span class="token number">2</span> seconds remaining
<span class="token punctuation">}</span>
</code></pre><p>When the client receives this message, it must send the <code>wait</code> command to the server within the time specified in<code> ttl</code>, otherwise the task will be automatically canceled.</p>
<p><strong>stage:channelEnd - Channel complete</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"channelEnd"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Overall</span> progress
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:30:00.000-05:00"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Current</span> time stamp <span class="token keyword keyword-in">in</span> progress
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # <span class="token maybe-class-name">Channel</span> number
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"100%"</span> # <span class="token maybe-class-name">Channel</span> progress
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:end - Task complete</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"end"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Overall</span> progress
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:30:00.000-05:00"</span><span class="token punctuation">,</span> # <span class="token maybe-class-name">Current</span> time stamp <span class="token keyword keyword-in">in</span> progress
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span><span class="token string">"Success"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>A typical <code>status</code> code is one of the following:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">0</span><span class="token operator">:</span> Success
<span class="token operator">-</span><span class="token number">1001</span><span class="token operator">:</span> Not enough space to save
<span class="token operator">-</span><span class="token number">1003</span><span class="token operator">:</span> Task canceled by user
<span class="token operator">-</span><span class="token number">1004</span><span class="token operator">:</span> Task terminated by timeout
</code></pre><p>The format of the command that the client sends to the server for each situation is as follows:<br>
<strong>cmd:wait - wait command</strong><br>
Video files created on the server side will be deleted immediately after downloading finished and before creating the next file,<br>
so you should send a wait command during download to prevent the server from deleting the file.</p>
<p>If you send the <code>wait</code> command once, you can make server wait for<code> ttl</code> specified in <code>fileEnd</code>,<br>
If the download takes a long time, you should send the wait command periodically.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">The</span> task number issued at stage<span class="token operator">:</span>ready
  <span class="token string-property property">"cmd"</span><span class="token operator">:</span> <span class="token string">"wait"</span>   # wait command
<span class="token punctuation">}</span>
</code></pre><p><strong>cmd:next - Continue to next file</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">The</span> task number issued at stage<span class="token operator">:</span>ready
  <span class="token string-property property">"cmd"</span><span class="token operator">:</span> <span class="token string">"next"</span>   # <span class="token maybe-class-name">Proceed</span> to the next file operation
<span class="token punctuation">}</span>
</code></pre><p><strong>cmd:cancel - Cancel task</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">The</span> task number issued at stage<span class="token operator">:</span>ready
  <span class="token string-property property">"cmd"</span><span class="token operator">:</span> <span class="token string">"cancel"</span>   # <span class="token maybe-class-name">Client</span> cancel the task
<span class="token punctuation">}</span>
</code></pre><p>Now let's create an example that uses a web socket to export the recorded video.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>utf-8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">body</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span>Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">}</span>
    <span class="token selector">div</span> <span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#control</span></span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span><span class="token color">beige</span><span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">0.8</span><span class="token unit">em</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#param</span></span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span><span class="token color">wheat</span><span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#param</span> *</span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#url</span><span class="token punctuation">,</span> <span class="token id">#messages</span></span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">0.8</span><span class="token unit">em</span><span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'Courier New'</span><span class="token punctuation">,</span> Courier<span class="token punctuation">,</span> monospace<span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.open</span><span class="token punctuation">,</span> li<span class="token class">.close</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">blue</span><span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.command</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">orange</span><span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.error</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">red</span><span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Ex4. Exporting recorded video (Web Socket)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>control<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>host-name<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>Server IP address:port<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>user-id<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>User ID<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>Password<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>param<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Data range : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>datetime-local<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>timeBegin<span class="token punctuation">'</span></span> <span class="token attr-name">step</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>1<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2019-06-16T09:00:00<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
        ~ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>datetime-local<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>timeEnd<span class="token punctuation">'</span></span> <span class="token attr-name">step</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>1<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2019-06-16T16:30:00<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Channels: 
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onSelectAllChannels</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Select all
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>1<span class="token punctuation">'</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>1
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>2
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>3<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>3
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>4<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>4    
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>5<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>5
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>6<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>6
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>7<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>7
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>8
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>9<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>9
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>10<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>10
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>11<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>11
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>12<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>12   
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>13<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>13
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>14<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>14
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>15<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>15
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>16<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>16
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        File size unit: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>mediaSize<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ex) 500MB<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Subtitle format: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>subtitleFormat<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>SRT<span class="token punctuation">'</span></span> <span class="token attr-name">selected</span><span class="token punctuation">&gt;</span></span>SRT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>SMI<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>SMI<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>VTT<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>VTT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>None<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>None<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Submitter: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>submitter<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ex) submitter<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Recipient: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>recipient<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ex) recipient<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Purpose: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>40<span class="token punctuation">'</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>3<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>purpose<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ex) purpose...<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Status interval: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>statusInterval<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ex) 2s<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2s<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        Language: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lang<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>en-US<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ko-KR<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Korean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>es-ES<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Spanish<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>zh-CN<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Chinese (Simplified)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>zh-TW<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Chinese (Traditional)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>md5<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>md5<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>md5
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Connect<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Disconnect<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Clear all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>cancel<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value css language-css"><span class="token property">visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">red</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>Cancel task<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>url<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>messages<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span> <span class="token operator">=</span> <span class="token punctuation">{</span> 
      <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">task</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fname</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">downloadJobs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-typeof">typeof</span><span class="token punctuation">(</span><span class="token maybe-class-name">WebSocket</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Your web browser does\'nt support Web Socket.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Already connected'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword keyword-var">var</span> hostName <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter the host.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> userId <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter your user ID.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> password <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter your password.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">// parameters</span>
    <span class="token keyword keyword-var">var</span> timeBegin <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'timeBegin'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>timeBegin <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter the data range.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> timeEnd <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'timeEnd'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>timeEnd <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter the data range.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> ch <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-var">var</span> chk <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'chid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-var">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chk<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>chk<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">checked</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>ch<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
          ch <span class="token operator">+=</span> <span class="token string">','</span><span class="token punctuation">;</span>
        ch <span class="token operator">+=</span> chk<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>ch<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Select channels.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token keyword keyword-var">var</span> mediaSize <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'mediaSize'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>mediaSize <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter the maximum video file size.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> subtitleFormat <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'subtitleFormat'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>subtitleFormat <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Select subtitle format.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> submitter <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'submitter'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>submitter <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter submitter.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> recipient <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'recipient'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>submitter <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Enter the recipient.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> purpose <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'purpose'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>purpose <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Enter your purpose.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> statusInterval <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'statusInterval'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>statusInterval <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Please enter the progress display interval.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> lang <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'lang'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>lang <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Choose your language.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> encodedData <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// base64 encoding</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">auth</span> <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>encodedData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    url <span class="token operator">=</span> <span class="token punctuation">(</span>hostName<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">'ws://'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'ws://'</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      hostName <span class="token operator">+</span> <span class="token string">'/wsapi/dataExport?auth='</span> <span class="token operator">+</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">auth</span><span class="token punctuation">;</span>

    url <span class="token operator">+=</span> 
      <span class="token string">'&amp;timeBegin='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>timeBegin<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;timeEnd='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>timeEnd<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;ch='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;subtitleFormat='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>subtitleFormat<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;mediaSize='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>mediaSize<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;statusInterval='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>statusInterval<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;submitter='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>submitter<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;recipient='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>recipient<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;purpose='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>purpose<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;lang='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span><span class="token punctuation">;</span>
     
    <span class="token keyword keyword-var">var</span> md5 <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'md5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>md5<span class="token punctuation">.</span><span class="token property-access">checked</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      url <span class="token operator">+=</span> <span class="token string">'&amp;md5=true'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token parameter">tagClass<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword keyword-var">var</span> li <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createTextNode</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>tagClass<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">addDownloadItem</span><span class="token punctuation">(</span><span class="token parameter">fname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> li <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-var">var</span> span <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    span<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token string">'&lt;progress value="0" max="100"&gt;&lt;/progress&gt; &lt;label&gt;'</span> <span class="token operator">+</span> fname <span class="token operator">+</span> <span class="token string">'&lt;label&gt;'</span><span class="token punctuation">;</span>
    span<span class="token punctuation">.</span><span class="token method function property-access">setAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> fname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">showCancelButton</span><span class="token punctuation">(</span><span class="token parameter">bShow</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'param'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> bShow <span class="token operator">?</span> <span class="token string">'none'</span> <span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">;</span>

    el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'cancel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">visibility</span> <span class="token operator">=</span> bShow <span class="token operator">?</span> <span class="token string">'visible'</span> <span class="token operator">:</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>

    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> url<span class="token punctuation">;</span>

    <span class="token comment">// WebSocket instance and it's handler functions</span>
    <span class="token keyword keyword-var">var</span> ws <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onopen</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'Connected'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclose</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'Disconnected: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onerror</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'Error: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token keyword keyword-var">var</span> msg <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-switch">switch</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token property-access">stage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-case">case</span> <span class="token string">'ready'</span><span class="token operator">:</span>
        <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token property-access">status</span><span class="token punctuation">.</span><span class="token property-access">code</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span> <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token property-access">task</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">;</span>

        <span class="token function">showCancelButton</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'fileBegin'</span><span class="token operator">:</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">fname</span> <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token property-access">channel</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'fileEnd'</span><span class="token operator">:</span>
        <span class="token function">downloadFiles</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token property-access">channel</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">,</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">bSuccess</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">sendCommand</span><span class="token punctuation">(</span>bSuccess <span class="token operator">?</span> <span class="token string">"next"</span> <span class="token operator">:</span> <span class="token string">"cancel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'timeoutAlert'</span><span class="token operator">:</span>
        <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token function">sendCommand</span><span class="token punctuation">(</span><span class="token string">"wait"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'end'</span><span class="token operator">:</span>
        <span class="token function">showCancelButton</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> ws<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span><span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'param'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">"messages"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-while">while</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span>
      el<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'param'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">downloadFiles</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> onFinished</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">onFinished</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> downloadCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> successCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-function">function</span> <span class="token function">onDone</span><span class="token punctuation">(</span><span class="token parameter">bSuccess</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>bSuccess<span class="token punctuation">)</span>
        successCnt<span class="token operator">++</span><span class="token punctuation">;</span>

      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token operator">++</span>downloadCnt <span class="token operator">&lt;</span> file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">downloadFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">[</span>downloadCnt<span class="token punctuation">]</span><span class="token punctuation">,</span> onDone<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword control-flow keyword-else">else</span> <span class="token punctuation">{</span>
        <span class="token function">onFinished</span><span class="token punctuation">(</span>successCnt <span class="token operator">==</span> downloadCnt<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">downloadFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">[</span>downloadCnt<span class="token punctuation">]</span><span class="token punctuation">,</span> onDone<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token parameter">download<span class="token punctuation">,</span> onFinish</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">addDownloadItem</span><span class="token punctuation">(</span>download<span class="token punctuation">.</span><span class="token property-access">fileName</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-var">var</span> req <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Requesting download link with auth parameter</span>
    req<span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> download<span class="token punctuation">.</span><span class="token property-access">src</span> <span class="token operator">+</span> <span class="token string">'?auth='</span> <span class="token operator">+</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">auth</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token property-access">responseType</span> <span class="token operator">=</span> <span class="token string">"blob"</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">readyState</span> <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> req<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-var">var</span> a <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token property-access">href</span> <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token method function property-access">createObjectURL</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token property-access">download</span> <span class="token operator">=</span> download<span class="token punctuation">.</span><span class="token property-access">fileName</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token method function property-access">revokeObjectURL</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onprogress</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-var">var</span> prog <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> download<span class="token punctuation">.</span><span class="token property-access">fileName</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>prog<span class="token punctuation">)</span>
        prog<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">ceil</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">loaded</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> e<span class="token punctuation">.</span><span class="token property-access">total</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onerror</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>onFinish<span class="token punctuation">)</span>
        <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-var">var</span> pos <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onloadend</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-var">var</span> pos <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>onFinish<span class="token punctuation">)</span>
        <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">sendCommand</span><span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> str <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">task</span><span class="token operator">:</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cmd</span><span class="token operator">:</span> command
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'command'</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span><span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// abort all downloading jobs</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">jobs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      jobs<span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">sendCommand</span><span class="token punctuation">(</span><span class="token string">"cancel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onSelectAllChannels</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> ch <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'chid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-var">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> cnt<span class="token operator">=</span>ch<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">checked</span> <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre><p><a href="./examples/ex4.html">Run</a></p>
<h2>Pushing events to the server <code>@0.4.0</code></h2>
<p>You can send events from an external device or software to the server by <code>HTTP POST</code> method.</p>
<p>The following event topics are supported:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">LPR</span>             <span class="token comment"># Car number recognition</span>
emergencyCall   <span class="token comment"># Emergency call</span>
</code></pre><p>The path and parameters for sending events to the server are:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>push

<span class="token comment"># Parameter</span>
auth    <span class="token comment"># authentication information</span>
</code></pre><p>Specify event data in JSON format in contents data.</p>
<p><strong>Car number recognition data</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"LPR"</span><span class="token punctuation">,</span>         <span class="token comment">// Car number data</span>
  <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>        <span class="token comment">// Car number recognition device code</span>
  <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"DSP963"</span><span class="token punctuation">,</span>    <span class="token comment">// the car number</span>
  <span class="token comment">// Below are optional.</span>
  <span class="token string-property property">"when"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:15-05:00"</span><span class="token punctuation">,</span>    <span class="token comment">// Vehicle number recognition time, if not specified, the server uses the time when the event was received</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:14-05:00"</span>  <span class="token comment">// For car parked, specify the first recognition time</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Emergency call data</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"emergencyCall"</span><span class="token punctuation">,</span>   <span class="token comment">// Emergency call data</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"vendor/device"</span><span class="token punctuation">,</span>  <span class="token comment">// Emergency call device model name</span>
  <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"0000001"</span><span class="token punctuation">,</span>           <span class="token comment">// Emergency call device location code</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"callStart"</span><span class="token punctuation">,</span>       <span class="token comment">// call start (or "callEnd" for call end)</span>
  <span class="token string-property property">"camera"</span><span class="token operator">:</span> <span class="token string">"1,2,3,4"</span><span class="token punctuation">,</span>        <span class="token comment">// Camera list to popup screen (to restore "camera": "") (@0.9.19)</span>
  <span class="token string-property property">"when"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:15-05:00"</span> <span class="token comment">// Event occurrence time</span>
<span class="token punctuation">}</span>
</code></pre><p>If the request is successful, the server returns an HTTP response code of 200 and no additional Contents data is returned.</p>
<p>It can be created as multiple events in the array as shown below and sent at once.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"LPR"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"DSP963"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"emergencyCall"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"vendor/device"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"0000001"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"callStart"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"camera"</span><span class="token operator">:</span> <span class="token string">"1,2,3,4"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"when"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:15-05:00"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><p>You can test it by using the curl command in the console window.</p>
<blockquote>
<ol>
<li>At first copy the above json data and save it as a <code>test.json</code> in a UTF-8 encoded text file.</li>
<li>Let's assume the server address is <code>192.168.0.100</code>, the web port is <code>80</code>, the user ID is <code>demo</code>, and the password is<code>!1234qwer</code>.</li>
<li>Open a console window, navigate to the directory where the <code>test.json</code> file is located, and run the curl command as shown below.</li>
</ol>
</blockquote>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">curl</span> http://192.168.0.100/api/push <span class="token parameter variable">-H</span> <span class="token string">"Content-Type: application/json; charset=UTF-8"</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-u</span> demo:<span class="token operator">!</span>1234qwer <span class="token parameter variable">-d</span> @test.json
</code></pre><blockquote>
<ol start="4">
<li>Alternatively, you can use the <code>auth =</code> parameter for Base64-encoded and URL-encoded user accounts.</li>
</ol>
</blockquote>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">curl</span> http://192.168.0.100/api/push?auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI%3D <span class="token parameter variable">-H</span> <span class="token string">"Content-Type: application/json; charset=UTF-8"</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-d</span> @test.json
</code></pre><h2>Channel information and device control <code>@0.5.0</code></h2>
<p>You can get a list of devices connected to each channel, a list of features supported by each device, and control each device.</p>
<h3>Request Device Information and Support Function List</h3>
<p>The connected device information requests:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info

<span class="token comment"># Parameters</span>
caps    <span class="token comment"># Only requested "caps" item, If not specified, includes all information</span>
ch      <span class="token comment"># specify channels, If not specified, all channels in use</span>
reload  <span class="token comment"># Request updated information with the latest information from your channel's camera (@0.9.1)</span>

<span class="token comment"># Examples</span>
<span class="token comment"># Only requests device capabilities for each channel in use</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps

<span class="token comment"># Only requests device capabilities connected to channels 1</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># Only requests devices capabilities connected to channels 1, 2 and 3</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>

<span class="token comment"># Request renewal of camera information of all channels to latest information</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps<span class="token operator">&amp;</span>reload
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"onvif"</span>         <span class="token comment">// ONVIF device</span>
    <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>               <span class="token comment">// Device capabilities</span>
      <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// Supports pan tilt function</span>
      <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span>          <span class="token comment">// Supports zoom function</span>
      <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>       <span class="token comment">// Supports focus function</span>
      <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token comment">// Supports iris function</span>
      <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         <span class="token comment">// Supports home position function</span>
      <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">255</span><span class="token punctuation">,</span>     <span class="token comment">// Up to 255 PTZ presets can be registered</span>
      <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>             <span class="token comment">// No AUX output</span>
      <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>   <span class="token comment">// Supports two digital inputs</span>
      <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    <span class="token comment">// Supports two relay outputs</span>
      <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       <span class="token comment">// Supports remote reboot</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"onvif"</span><span class="token operator">:</span> <span class="token punctuation">{</span>              <span class="token comment">// ONVIF device information</span>
      <span class="token string-property property">"basic"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"city"</span><span class="token operator">:</span> <span class="token string">"seoul"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"country"</span><span class="token operator">:</span> <span class="token string">"korea"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"deviceType"</span><span class="token operator">:</span> <span class="token string">"NVT"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"host"</span><span class="token operator">:</span> <span class="token string">"192.168.0.211:4500"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"location"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"SNP-3120"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"firmwareVersion"</span><span class="token operator">:</span> <span class="token string">"3.01_140915"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"hardwareId"</span><span class="token operator">:</span> <span class="token string">"SNP-3120"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"macAddress"</span><span class="token operator">:</span> <span class="token string">"00:09:18:73:E9:98"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Samsung Techwin"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"model"</span><span class="token operator">:</span> <span class="token string">"SNP-3120"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"serialNumber"</span><span class="token operator">:</span> <span class="token string">"C5FS6V3D401101R"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><p><strong>Device control response code</strong></p>
<p>If each channel on the server supports device control, it can be remotely controlled from the client side.<br>
The remote control functions will only work if the logged-in user account has <code>Device control permission</code>.</p>
<p>The device control commands are of the form <code>/api/channel/</code> followed by an individual command and a destination channel and additional required parameters.<br>
In the example we will use here, let's assume that the destination channel is `ch = 1 '.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>home<span class="token operator">&amp;</span>indent<span class="token operator">=</span><span class="token number">2</span>
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>          <span class="token comment">// response code</span>
  <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Success"</span>
<span class="token punctuation">}</span>
</code></pre><p>The server sends control commands and immediately resonse with JSON data, including one of the following codes, as an HTTP response code 200, asynchronously with the device, without waiting for the device's execution result.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">0</span>     <span class="token comment"># Sucess</span>
<span class="token operator">-</span><span class="token number">1</span>    <span class="token comment"># No user rights</span>
<span class="token operator">-</span><span class="token number">2</span>    <span class="token comment"># Features not supported by the device</span>
<span class="token operator">-</span><span class="token number">3</span>    <span class="token comment"># The device is not ready to execute the command</span>
<span class="token operator">-</span><span class="token number">4</span>    <span class="token comment"># Device is still processing previous command (busy status)</span>
<span class="token operator">-</span><span class="token number">5</span>    <span class="token comment"># Invalid channel</span>
<span class="token operator">-</span><span class="token number">6</span>    <span class="token comment"># Invalid channel token</span>
<span class="token operator">-</span><span class="token number">7</span>    <span class="token comment"># Invalid request</span>
<span class="token operator">-</span><span class="token number">8</span>    <span class="token comment"># Invalid parameters</span>
<span class="token operator">-</span><span class="token number">9</span>    <span class="token comment"># Device response error</span>
</code></pre><p>The above response codes are common to all device control commands.</p>
<p>In the <code>message</code> part, if no language is specified, the language set on the server side is used.<br>
You can specify the language for the parameter as shown below.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>home<span class="token operator">&amp;</span>lang<span class="token operator">=</span>en_US
</code></pre><p>For <a href="#list-of-languages-supported">a list of supported languages</a>, see the appendix.</p>
<h3>Pan tilt control</h3>
<p>If your device supports the pan tilt function, you can control it with the following commands.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Commands without parameters</span>
home    <span class="token comment"># Return to home position</span>
stop    <span class="token comment"># Stop (Common to all move commands)</span>

<span class="token comment"># Commands used with parameters (Commands to move continuously)</span>
move    <span class="token comment"># Move horizontally and vertically</span>
zoom    <span class="token comment"># Zoom in / out    </span>
focus   <span class="token comment"># Focus near / far</span>
iris    <span class="token comment"># Open / close iris</span>
</code></pre><p>A control command consists of one target channel and a command.<br>
For example, for the <code>home</code> command, you must specify the target channel as a parameter.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>home
</code></pre><p>Commands used with parameters must specify the direction and velocity of movement.<br>
Commands with direction and speed will continue to move until you issue a <code>stop</code> command.<br>
The <code>move</code> command uses two parameters to represent the direction of movement in the horizontal and vertical directions.<br>
The velocity of movement is expressed as a decimal value between <code>0</code> and <code>1</code>.<br>
Two decimal values between <code>-1</code> and <code>1</code> can be used to express both the direction and velocity of movement from the current position in 2D space.</p>
<p><img src="../img/ptz.png" alt="Alt Direction and velocity of movement"></p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span>  <span class="token comment"># Moves at medium speed in the upper right diagonal</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>       <span class="token comment"># Moves to the left at maximum speed (can be omitted if vertical value is zero)</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.1</span>    <span class="token comment"># Move slowly downward</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move          <span class="token comment"># Can be omitted if both horizontal and vertical are 0, same as stop command</span>
</code></pre><p>The rest of the <code>zoom</code>,<code> focus</code>, and <code>iris</code> commands are all camera lens controls and use one parameter to express forward and backward.<br>
Likewise, you can express both the direction and velocity of movement from the current position in a one-dimensional space, using one decimal value between <code>-1</code> and<code> 1</code> to express both the speed and direction of movement.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>zoom<span class="token operator">=</span><span class="token number">0.5</span>      <span class="token comment"># Zoom in at medium speed</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>zoom<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.5</span>     <span class="token comment"># Zoom out at medium speed</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>focus<span class="token operator">=</span><span class="token number">0.1</span>     <span class="token comment"># Focus near at very slow speed</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>focus<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.5</span>    <span class="token comment"># Focus far at medium speed</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>iris<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.1</span>    <span class="token comment"># Close iris at very slow speed</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>iris<span class="token operator">=</span><span class="token number">1</span>       <span class="token comment"># Open iris at maximum speed</span>
</code></pre><p>The physical travel limit and speed for the move command can vary depending on the unique characteristics of each device.</p>
<h3>Pan tilt preset control</h3>
<p>Available when the device supports the pan tilt preset function.</p>
<p><strong>Request a preset list</strong><br>
This command requests a list of presets that the server has already obtained (cached).</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Request a list of presets from channel 1</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>list

<span class="token comment"># Request a list of presets from multiple channels</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">&amp;</span>list

<span class="token comment"># Request a preset list of all channels</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>list
</code></pre><p>While the response time is fast because you do not reload from the device each time, if the preset list modified by the other software (for example, the embedded web page of the device), the server responds with the list of past.</p>
<p>If the request is successful, the server responds with JSON data in the following format:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Success"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"preset"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Front Door"</span><span class="token punctuation">,</span>  <span class="token comment">// The name that the user places conveniently for each preset position</span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"1"</span>           <span class="token comment">// Unique ID indicating each preset position</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Garage"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"2"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... omitted</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... omitted</span>
<span class="token punctuation">]</span>
</code></pre><p><strong>Preset list reload request</strong><br>
This command reloads the preset list from the device and sends it back.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Request to reload the preset list of channel 1</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>reload

<span class="token comment">#  Request to reload the preset list of multiple channels</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">&amp;</span>reload

<span class="token comment">#  Request to reload the preset list of all channels</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>reload
</code></pre><p>Contrary to the <code>list</code> command, while the response time is slow, you can always receive the same data as the preset list that the device has.</p>
<p><strong>Adding a preset</strong><br>
Adds the current position of the camera as a preset.</p>
<p>Adding a preset generates a preset token from the camera.<br>
You can specify <code>name</code> as an option. Since the camera does not support various characters, it is recommended to use English letters and numbers whenever possible.<br>
If <code>name</code> is not specified, it will be saved with the same name as the preset token generated by the camera.</p>
<p>The maximum number of presets supported by the camera can be found at <a href="#request-device-information-and-support-function-list">Request Device Information and Support Function List</a>.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># adding a new preset</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>add<span class="token operator">&amp;</span>name<span class="token operator">=</span>door

<span class="token comment"># adding a new preset (If name is omitted)</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>add
</code></pre><p><strong>Setting preset</strong><br>
Sets the camera's current position as a preset.</p>
<p>Two parameters are required to set a preset.<br>
The first parameter is the <code>preset token</code> and the second parameter is the <code>preset name</code>.<br>
If you do not specify a preset name, the name of the preset token will be used.<br>
If the presets of the same <code>Preset Token</code> already exist, it will be overwritten, otherwise added as a new one.</p>
<p>The maximum number of presets supported by the camera can be found at <a href="#request-device-information-and-support-function-list">Request Device Information and Support Function List</a>.</p>
<p>Since the camera does not support various character sets, it is recommended to use numeric charactors for the <code>preset token</code>.<br>
However, since the preset name is stored in the server instead of the camera, you can use the <code>preset name</code> without any character restrictions.<br>
Don't forget to URL-encode to send the text string normally.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># When changing the existing preset position</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>set<span class="token operator">=</span>preset1 

<span class="token comment"># When changing the position and name of an existing preset</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>set<span class="token operator">=</span>preset1<span class="token operator">&amp;</span>name<span class="token operator">=</span>Sweet<span class="token operator">%</span><span class="token number">20</span>home<span class="token operator">%</span><span class="token number">20</span><span class="token operator">%</span><span class="token number">5</span>E<span class="token operator">%</span><span class="token number">5</span>E
</code></pre><p>For a preset assignment request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"deviceResponseCode"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token comment">// Camera's response code</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                 <span class="token comment">// Response code</span>
  <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Success"</span><span class="token punctuation">,</span>      <span class="token comment">// Message</span>
  <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"preset3"</span><span class="token punctuation">,</span>        <span class="token comment">// Preset token generated by the camera</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Sweet home ^^"</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Remove presets</strong><br>
Removes the preset of the specified preset tokens.</p>
<p>To remove presets, you must specify the <code>preset token</code> as a parameter.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Remove presets token 1</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>rm<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># Remove multiple presets</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>rm<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>
</code></pre><p>For a preset removing request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"preset"</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"deviceResponseCode"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>  <span class="token comment">// Camera's response code</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                  <span class="token comment">// Response code</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Success"</span><span class="token punctuation">,</span>       <span class="token comment">// Message</span>
      <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"preset1"</span>          <span class="token comment">// Removed preset token</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... omitted</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Go to preset position</strong><br>
Goes to the preset position of the specified preset token.</p>
<p>To move to the preset position, <code>preset token</code> must be specified as a parameter.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>go<span class="token operator">=</span><span class="token number">1</span> <span class="token comment"># Goes to the preset token 1</span>
</code></pre><h3>Relay output</h3>
<p>If your device supports relay output, you can request a list of relay outputs as follows:<br>
To get a list of relay outputs, you must specify one channel to which the device is connected.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ls<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>    <span class="token comment"># Request relay output list connected to channel 1</span>
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>          <span class="token comment">// Response code</span>
  <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Success"</span><span class="token punctuation">,</span>  <span class="token comment">// Message</span>
  <span class="token string-property property">"relay"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Stairway"</span><span class="token punctuation">,</span>   <span class="token comment">// name</span>
      <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"7657b9aa-61d6-4b4f-a70a-c91e8657dfcf"</span> <span class="token comment">// relay output token</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Warehouse"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"cffd1289-cb2c-4d82-8c6f-c7634b432f57"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>Relay output command is specified using the <code>on</code> or<code> off</code> command and one or more relay output tokens.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Turn on the relay output of 7657b9aa-61d6-4b4f-a70a-c91e8657dfcf</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf

<span class="token comment"># Turn off the relay output of 7657b9aa-61d6-4b4f-a70a-c91e8657dfcf</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf

<span class="token comment"># Simultaneously turn on two relay outputs</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf<span class="token punctuation">,</span>cffd1289<span class="token operator">-</span>cb2c<span class="token operator">-</span><span class="token number">4</span>d82<span class="token operator">-</span><span class="token number">8</span>c6f<span class="token operator">-</span>c7634b432f57

<span class="token comment"># If both on and off are specified at the same time, the off command is ignored.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf<span class="token operator">&amp;</span>off<span class="token operator">=</span>cffd1289<span class="token operator">-</span>cb2c<span class="token operator">-</span><span class="token number">4</span>d82<span class="token operator">-</span><span class="token number">8</span>c6f<span class="token operator">-</span>c7634b432f57

<span class="token comment"># If one is turned on and the other is turned off, each must be sent separately for each command.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span>cffd1289<span class="token operator">-</span>cb2c<span class="token operator">-</span><span class="token number">4</span>d82<span class="token operator">-</span><span class="token number">8</span>c6f<span class="token operator">-</span>c7634b432f57
</code></pre><h3>AUX output</h3>
<p>If your device supports AUX output, use the <code>on</code> or<code> off</code> command as <code>relay output</code>.<br>
The AUX outputs are specified using a zero-based number instead of a token.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># Turn on AUX 1 output</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span>

<span class="token comment"># Turn off AUX 1 output</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># Simultaneously turn on two AUX outputs</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>

<span class="token comment"># If both on and off are specified at the same time, the off command is ignored.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># If one is turned on and the other is turned off, each must be sent separately for each command.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">1</span>
</code></pre><h3>Reboot the device</h3>
<p>If your device supports it, you can reboot it remotely with the following command:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>reboot<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span>    <span class="token comment"># Reboot camera on channel 1</span>
</code></pre><p>For the request, the server returns JSON data in the following format with an HTTP response code of 200:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Success"</span>
<span class="token punctuation">}</span>
</code></pre><p>After sending the response, the camera will start rebooting in a few seconds.<br>
Typically, the reboot takes approximately one minute to complete, which may vary from each camera.</p>
<p>From the perspective of the client software, it is necessary to monitor the completion of the reboot by attempting to reconnect periodically from the video connection is disconnected after sending the reboot command.</p>
<h2>Adding channels <code>@0.9.7</code></h2>
<p>You can add channels as shown below.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel

<span class="token comment"># Available parameters</span>
auth  <span class="token comment"># If you are not already logged in, log in when calling the API</span>
lang  <span class="token comment"># Specify the language to be used for error code messages</span>

<span class="token comment"># Usage example</span>
<span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
<span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">?</span>lang<span class="token operator">=</span>vi<span class="token operator">-</span><span class="token constant">VN</span>   <span class="token comment"># Set in Vietnamese</span>
</code></pre><h3>Request data</h3>
<p>Defines channels to be added in POST data as <code>JSON</code> format.<br>
Array format is used to specify multiple channels.</p>
<p>Some data items are defined differently depending on the type of video source.</p>
<h4>Camera</h4>
<p>Cameras that support the <code>ONVIF</code> protocol can be added.<br>
If not specified, default values are used.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                                        # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token maybe-class-name">Channel</span> number to register 
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My video stream"</span><span class="token punctuation">,</span>                        # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Channel</span> name to register
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.220:554/stream1"</span><span class="token punctuation">,</span>     # <span class="token punctuation">[</span><span class="token maybe-class-name">Required</span><span class="token punctuation">]</span> <span class="token constant">RTSP</span> <span class="token constant">URL</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                                      # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token constant">RTP</span> protocol<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token constant">TCP</span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token constant">UDP</span>
    <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                               # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token maybe-class-name">Whether</span> to use <span class="token maybe-class-name">Substream</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token maybe-class-name">Use</span> <span class="token function"><span class="token maybe-class-name">Substream</span></span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token maybe-class-name">Not</span> use <span class="token maybe-class-name">Substream</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                                   # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token constant">RTSP</span> auth id
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                              # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token constant">RTSP</span> auth password
    <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                       # <span class="token punctuation">[</span><span class="token maybe-class-name">Required</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Register</span> <span class="token keyword module keyword-as">as</span> an <span class="token constant">ONVIF</span> <span class="token function">camera</span> <span class="token punctuation">(</span><span class="token constant">ONVIF</span> <span class="token keyword keyword-function">function</span> available<span class="token punctuation">)</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My camera"</span><span class="token punctuation">,</span>                            # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Camera</span> name to register
      <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.220:8000"</span>             # <span class="token punctuation">[</span><span class="token maybe-class-name">Required</span><span class="token punctuation">]</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token maybe-class-name">Camera</span> device <span class="token constant">URL</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><ol>
<li><code>chid</code>:
<ul>
<li>Channel number starting from 1</li>
<li>If <code>chid</code> is not specified, it is automatically assigned from the front.</li>
</ul>
</li>
<li><code>substream</code>:
<ul>
<li>When there is a lower resolution stream than the video stream registered from the same input source of the camera, if the display area on the split screen is small, it automatically operates to display the lower resolution stream.</li>
<li>If you want to use only the designated video stream without using this function, set the <code>substream</code> item to <code>false</code>.</li>
</ul>
</li>
<li><code>url</code> (Camera device URL):
<ul>
<li>It is originally in the form of <code>http://192.168.0.220:8000</code>, but it is written as <code>onvif://192.168.0.220:8000</code> to indicate that it is a <code>ONVIF</code> device.</li>
</ul>
</li>
</ol>
<h4>Video stream</h4>
<p>You can add a video stream using the <code>RTSP</code> protocol.<br>
The camera can also be used when you are not using any function other than a video stream.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                                        # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Channel</span> number to register<span class="token punctuation">,</span> <span class="token maybe-class-name">Automatically</span> assigned <span class="token keyword control-flow keyword-if">if</span> not specified
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My video stream"</span><span class="token punctuation">,</span>                        # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Channel</span> name to register
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.220:554/stream1"</span><span class="token punctuation">,</span>     # <span class="token punctuation">[</span><span class="token maybe-class-name">Required</span><span class="token punctuation">]</span> <span class="token constant">RTSP</span> <span class="token constant">URL</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                                      # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token constant">RTP</span> protocol<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token constant">TCP</span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token constant">UDP</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                                   # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token constant">RTSP</span> auth id
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                              # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token constant">RTSP</span> auth password
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h4>Video file</h4>
<p>You can add video files from a local PC or Windows shared folder.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                                         # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Channel</span> number to register<span class="token punctuation">,</span> <span class="token maybe-class-name">Automatically</span> assigned <span class="token keyword control-flow keyword-if">if</span> not specified
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Video file in my PC"</span><span class="token punctuation">,</span>                          # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Channel</span> name to register
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\videos\\sample.mp4"</span><span class="token punctuation">,</span>                # <span class="token punctuation">[</span><span class="token maybe-class-name">Required</span><span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token maybe-class-name">Video</span> file <span class="token function">name</span> <span class="token punctuation">(</span>full path<span class="token punctuation">)</span>
    <span class="token string-property property">"playback"</span><span class="token operator">:</span> <span class="token string">"once"</span>                                 # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> once<span class="token operator">:</span> <span class="token maybe-class-name">Play</span> once<span class="token punctuation">,</span> <span class="token literal-property property">repeat</span><span class="token operator">:</span> <span class="token maybe-class-name">Repeat</span> <span class="token function">play</span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                                         # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Channel</span> number to register<span class="token punctuation">,</span> <span class="token maybe-class-name">Automatically</span> assigned <span class="token keyword control-flow keyword-if">if</span> not specified
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Video file in my freind PC"</span><span class="token punctuation">,</span>                   # <span class="token punctuation">[</span><span class="token maybe-class-name">Optional</span><span class="token punctuation">]</span> <span class="token maybe-class-name">Channel</span> name to register
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"\\\\192.168.0.14\\videos\\sample.mp4"</span><span class="token punctuation">,</span>  # <span class="token punctuation">[</span><span class="token maybe-class-name">Required</span><span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token maybe-class-name">Video</span> file <span class="token function">name</span> <span class="token punctuation">(</span>full path<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><ol>
<li><code>videoSrc</code> (Video file name):
<ul>
<li>If only one <code>\</code> character is used, it is interpreted as <code>ESCAPE</code> character, so <code>\\</code> is used to indicate the file path.</li>
</ul>
</li>
</ol>
<h3>Response</h3>
<ul>
<li>Request data example</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My video stream"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My camera"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.30:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My camera"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.30:80"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Video file in my PC"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"playback"</span><span class="token operator">:</span> <span class="token string">"once"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h4>Response data</h4>
<p>When requested as in the example above, the server responds with JSON data with an HTTP response code as follows:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  # <span class="token known-class-name class-name">Error</span> code
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Channels were added successfully."</span>  # <span class="token known-class-name class-name">Error</span> message
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"added"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                  # <span class="token maybe-class-name">Assigned</span> channel number
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My video stream"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtsp"</span><span class="token punctuation">,</span>             # <span class="token maybe-class-name">Channel</span> <span class="token function">type</span> <span class="token punctuation">(</span><span class="token constant">RTSP</span> stream<span class="token punctuation">)</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://admin:admin@192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>      # <span class="token maybe-class-name">Frame</span> buffer <span class="token keyword keyword-interface">interface</span> <span class="token class-name">when</span> using the shared frame buffer <span class="token constant">API</span> <span class="token keyword keyword-function">function</span>
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch1"</span><span class="token punctuation">,</span>   # <span class="token maybe-class-name">Shared</span> memory name <span class="token keyword keyword-of">of</span> frame buffer
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch1"</span>  # <span class="token maybe-class-name">Frame</span> buffer update event name
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                  # <span class="token maybe-class-name">Assigned</span> channel number
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My cmamea"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"onvif"</span><span class="token punctuation">,</span>            # <span class="token maybe-class-name">Channel</span> <span class="token function">type</span> <span class="token punctuation">(</span><span class="token constant">ONVIF</span> camera<span class="token punctuation">)</span>
      <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.30:80"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">Device</span> <span class="token constant">URL</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.30:554/stream1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                # <span class="token constant">RTP</span> protocol<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> use <span class="token constant">TCP</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token constant">UDP</span>
      <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>         # <span class="token maybe-class-name">Whether</span> to use substream <span class="token keyword control-flow keyword-for">for</span> <span class="token constant">ONVIF</span> cameras
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch2"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch2"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                  # <span class="token maybe-class-name">Assigned</span> channel number
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My video file"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span>             # <span class="token maybe-class-name">Channel</span> <span class="token function">type</span> <span class="token punctuation">(</span>file<span class="token punctuation">)</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"playback"</span><span class="token operator">:</span> <span class="token string">"once"</span><span class="token punctuation">,</span>         # once<span class="token operator">:</span> <span class="token maybe-class-name">Play</span> once<span class="token punctuation">,</span> <span class="token literal-property property">repeat</span><span class="token operator">:</span> <span class="token maybe-class-name">Repeat</span> play
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch3"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch3"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>If an error occurs, the response data is shown in the example below.</p>
<ul>
<li>If the entire requested channel cannot be added</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span>               # <span class="token known-class-name class-name">Error</span> code
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Channels cannot be added."</span>  # <span class="token known-class-name class-name">Error</span> message
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                 # <span class="token maybe-class-name">List</span> <span class="token keyword keyword-of">of</span> failed channels
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://admin:admin@192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>If some of the requested channels could not be added</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span>               # <span class="token known-class-name class-name">Error</span> code
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Only some channels have been added."</span>  # <span class="token known-class-name class-name">Error</span> message
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"added"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                  # <span class="token maybe-class-name">List</span> <span class="token keyword keyword-of">of</span> failed channels
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>              # <span class="token maybe-class-name">Assigned</span> channel number
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"My camera"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"onvif"</span><span class="token punctuation">,</span>        # <span class="token maybe-class-name">Channel</span> <span class="token function">type</span> <span class="token punctuation">(</span><span class="token constant">ONVIF</span> camera<span class="token punctuation">)</span>
      <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.30:80"</span><span class="token punctuation">,</span>  # <span class="token maybe-class-name">Device</span> <span class="token constant">URL</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.30:554/stream1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            # <span class="token constant">RTP</span> protocol<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> use <span class="token constant">TCP</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token constant">UDP</span>
      <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>     # <span class="token maybe-class-name">Whether</span> to use substream <span class="token keyword control-flow keyword-for">for</span> <span class="token constant">ONVIF</span> cameras
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch2"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch2"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                 # <span class="token maybe-class-name">List</span> <span class="token keyword keyword-of">of</span> failed channels
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://admin:admin@192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>
<p>Error code<br>
The <code>code</code> entry in <code>status</code> returns one of the following error codes.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>Success</td>
</tr>
<tr>
<td><code>-1</code></td>
<td>When the specified channel number is already in use</td>
</tr>
<tr>
<td><code>-2</code></td>
<td>If the required item <code>source</code> is missing</td>
</tr>
<tr>
<td><code>-3</code></td>
<td>If there is a <code>device</code> item, the required item <code>url</code> is missing</td>
</tr>
<tr>
<td><code>-4</code></td>
<td>If the request exceeds the maximum number of channels in the license</td>
</tr>
<tr>
<td><code>-5</code></td>
<td>Some channels could not be added</td>
</tr>
<tr>
<td><code>-6</code></td>
<td>If the entire requested channel cannot be added</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Deleting channels <code>@0.9.7</code></h2>
<p>You can delete a channel as shown below.<br>
Specifies the channel to delete with only parameters, without using request data.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span>

<span class="token comment"># In the {id} section, specify the channel numbers to be deleted.</span>
<span class="token comment"># Multiple channels can be specified using the comma (,) character.</span>
<span class="token comment"># Or 'all' can be used to specify the entire channel.</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token number">1</span>          <span class="token comment"># Delete channel 1</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>      <span class="token comment"># Delete channels 1,2,3</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>all        <span class="token comment"># Delete all channels</span>


<span class="token comment"># Available parameters</span>
auth  <span class="token comment"># If you are not already logged in, log in when calling the API</span>
lang  <span class="token comment"># Specify the language to be used for error code messages</span>

<span class="token comment"># Usage example</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>all<span class="token operator">?</span>lang<span class="token operator">=</span>vi<span class="token operator">-</span><span class="token constant">VN</span>   <span class="token comment"># Set in Vietnamese</span>
</code></pre><h4>Rsponse data</h4>
<p>For channel delete requests, the server responds with JSON data with an HTTP response code as follows:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>          # <span class="token known-class-name class-name">Error</span> code
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Channels were deleted successfully."</span>  # <span class="token known-class-name class-name">Error</span> message
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"deleted"</span><span class="token operator">:</span> <span class="token punctuation">[</span>          # <span class="token maybe-class-name">List</span> <span class="token keyword keyword-of">of</span> deleted channels
    <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token number">3</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>If an error occurs, the response data is shown in the example below.</p>
<ul>
<li>If the entire requested channel cannot be deleted</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span>         # <span class="token known-class-name class-name">Error</span> code
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Channels cannot be deleted."</span>  # <span class="token known-class-name class-name">Error</span> message
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           # <span class="token maybe-class-name">List</span> <span class="token keyword keyword-of">of</span> failed channels
    <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">,</span>    
    <span class="token number">3</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>If some of the requested channels could not be deleted</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span>         # <span class="token known-class-name class-name">Error</span> code
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Only some channels have been deleted."</span>  # <span class="token known-class-name class-name">Error</span> message
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"deleted"</span><span class="token operator">:</span> <span class="token punctuation">[</span>          # <span class="token maybe-class-name">List</span> <span class="token keyword keyword-of">of</span> deleted channels
    <span class="token number">1</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           # <span class="token maybe-class-name">List</span> <span class="token keyword keyword-of">of</span> failed channels
    <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token number">3</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>
<p>Error code<br>
The <code>code</code> entry in <code>status</code> returns one of the following error codes.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>Succcess</td>
</tr>
<tr>
<td><code>-7</code></td>
<td>When the channel number to be deleted is not specified</td>
</tr>
<tr>
<td><code>-8</code></td>
<td>If the specified channel does not exist</td>
</tr>
<tr>
<td><code>-9</code></td>
<td>If some channels cannot be deleted</td>
</tr>
<tr>
<td><code>-10</code></td>
<td>If all requested channels cannot be deleted</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Event Backup <code>@0.9.17</code></h2>
<p>By generating an event trigger with an API call on the client side, a copy of the normal recorded video can be saved in the dedicated storage for event backup.<br>
In the server, event backup starts automatically after normal recording progresses up to the post-event recording (<code>postAlarm</code>) section.<br>
<code>preAlarm</code>, <code>postAlarm</code> are up to 1 hour each.</p>
<h4>Request</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">PUT</span> <span class="token operator">/</span>api<span class="token operator">/</span>event<span class="token operator">-</span>videos<span class="token operator">/</span>trigger
</code></pre><ul>
<li>Request body<br>
Event backup details can be specified with parameters.</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                              <span class="token comment">// channel number</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2022-11-29T10:13:09.646"</span>  <span class="token comment">// (Optional) If not specified, server reception time is applied</span>
  <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"fire outbreak"</span><span class="token punctuation">,</span>               <span class="token comment">// title (Appears in search results)</span>
  <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                            <span class="token comment">// comment (content is free form)</span>
    <span class="token string-property property">"location"</span><span class="token operator">:</span> <span class="token string">"Building 101, 5th floor"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tel"</span><span class="token operator">:</span> <span class="token string">"119"</span><span class="token punctuation">,</span>                 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"tasks"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"command"</span><span class="token operator">:</span> <span class="token string">"presetGo"</span><span class="token punctuation">,</span>                <span class="token comment">// (Optional) Move PTZ preset</span>
      <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"preset1"</span>                    <span class="token comment">// preset token</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"command"</span><span class="token operator">:</span> <span class="token string">"eventBackup"</span><span class="token punctuation">,</span>             <span class="token comment">// (Optional) Event video backup (Video backup is performed only when this item is specified)</span>
      <span class="token string-property property">"preAlarm"</span><span class="token operator">:</span> <span class="token string">"5s"</span><span class="token punctuation">,</span>                     <span class="token comment">// The recorded section before the event occurs, counted in seconds when the number is indicated (e.g., 60 means 60 seconds)</span>
      <span class="token string">"postAlarm"</span> <span class="token string">"1m"</span><span class="token punctuation">,</span>                     <span class="token comment">// Recording section after the event occurred</span>
      <span class="token string-property property">"chids"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>                 <span class="token comment">// (Optional) Channel number to back up (included by default even if you do not specify yourself)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h4>Response data</h4>
<p>For the request, the server responds with the URL of the video to be saved as JSON data along with the HTTP response code as follows.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"eventId"</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>  <span class="token comment">// stored event id</span>
  <span class="token string-property property">"videoURLs"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// Video url to be created</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch1-20221129-101309.mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch2-20221129-101309.mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch3-20221129-101309.mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch4-20221129-101309.mp4"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>If the same file already exists in the same directory, it is numbered as shown below to prevent duplication.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"eventId"</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>  <span class="token comment">// stored event id</span>
  <span class="token string-property property">"videoURLs"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// Video url to be created</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch1-20221129-101309(2).mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch2-20221129-101309(2).mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch3-20221129-101309(2).mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch4-20221129-101309(2).mp4"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>Since the response is sent first, the event backup starts at the time scheduled with <code>postAlarm</code>, so<br>
The client cannot immediately access the response URL, but can access the video file after the backup is completed (approximately 2 minutes after <code>postAlarm</code>).</p>
<p>The file name included in the <code>videoURL</code> of the response data is created based on the local time on the server side and has the following format.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>ch1<span class="token operator">-</span><span class="token number">20221129</span><span class="token operator">-</span><span class="token number">101309.</span>mp4
<span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span>
 <span class="token operator">|</span>      <span class="token operator">|</span>       <span class="token operator">|</span> 
 <span class="token operator">|</span>      <span class="token operator">|</span>       <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> HHmmss <span class="token punctuation">(</span>Hour<span class="token punctuation">,</span> minute<span class="token punctuation">,</span> second <span class="token number">2</span> digits <span class="token keyword keyword-each">each</span><span class="token punctuation">)</span>
 <span class="token operator">|</span>      <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token constant">YYYYMMDD</span> <span class="token punctuation">(</span><span class="token number">4</span> digits <span class="token keyword keyword-for">for</span> year<span class="token punctuation">,</span> <span class="token number">2</span> digits <span class="token keyword keyword-each">each</span> <span class="token keyword keyword-for">for</span> month <span class="token keyword keyword-and">and</span> day<span class="token punctuation">)</span>
 <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> channel number <span class="token punctuation">(</span>variable length after ch<span class="token punctuation">)</span>
</code></pre><h2>Appendix</h2>
<h3>base64 Encoding</h3>
<p>For more information on base64 encoding, see the links below.</p>
<ul>
<li><a href="https://www.base64encode.org/">https://www.base64encode.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding">https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding</a></li>
<li><a href="https://www.w3schools.com/jsref/met_win_btoa.asp">https://www.w3schools.com/jsref/met_win_btoa.asp</a></li>
</ul>
<h3>URL Encoding</h3>
<p>For more information on URL encoding, see the links below.</p>
<ul>
<li><a href="http://www.convertstring.com/ko/EncodeDecode/UrlEncode">http://www.convertstring.com/ko/EncodeDecode/UrlEncode</a></li>
<li><a href="https://www.urlencoder.org/">https://www.urlencoder.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_encodeuricomponent.asp">https://www.w3schools.com/jsref/jsref_encodeuricomponent.asp</a></li>
</ul>
<h3>URL decoding</h3>
<p>For more information on URL decoding, see the links below.</p>
<ul>
<li><a href="http://www.convertstring.com/ko/EncodeDecode/UrlDecode">http://www.convertstring.com/ko/EncodeDecode/UrlDecode</a></li>
<li><a href="https://www.urldecoder.org/">https://www.urldecoder.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_decodeuricomponent.asp">https://www.w3schools.com/jsref/jsref_decodeuricomponent.asp</a></li>
</ul>
<h3>Date and time notation in ISO 8601 format</h3>
<pre data-role="codeBlock" data-info="" class="language-text"><code>YYYY-MM-DDThh:mm:ss.sssHh:Mm (Local time representation)
or
YYYY-MM-DDThh:mm:ss.sssZ (UTC time representation)
or, yet another
YYYY-MM-DDThh:mm:ss.sss (The server's Local time)

In here,
  YYYY: year
  MM: month
  DD: day
  hh: hour (24 hour notation)
  mm: minute
  ss: second
  sss: 1/n second
  Hh: Hour part of UTC time offset
  Mm: Minutes part of UTC time offset
</code></pre><p>For example, In the case of <code>February 1, 2018 at 2:30:15</code></p>
<blockquote>
<ol>
<li>The year, month, and day of the date part are each represented by four digits, two digits, or two digits, and the hyphen character (<code>-</code>) is used as a delimiter. If any digits remain, '0' is prefilled.<br>
<code>eg: 2018-02-01</code></li>
<li>The hour, minute, and second of the time portion are each represented by two numbers, two characters, and two characters, is used as a delimiter. If any digits remain, '0' is prefilled.<br>
<code>eg: 14:30:15</code><br>
Since video is typically composed of images from multiple scenes for one second, you might use units of seconds or less to specify the correct scene. In this case, you can use decimal notation for values less than a second.<br>
<code>eg: 14:30:15.253 =&gt; 14:30:15 and 253 milliseconds (1/1000 second)</code></li>
<li>Use the <code>T</code> character as a separator between dates and times.<br>
<code>eg: 2018-02-01T14:30:15.253</code></li>
<li>Use the time zone to specify the local time.<br>
Because EST is 5 hours behind UTC, it is represented as follows.<br>
<code>eg: -05:00 (or simply -0500 or more simply -05)</code><br>
If you want to use UTC time, you can use <code>Z</code> character instead of <code>+00:00</code>.</li>
<li>Combine all of the above pieces.<br>
<code>eg: 2018-02-01T14:30:15-05:00  (Local time as EST)</code></li>
<li>URL encoding this string is as follows:<br>
<code>eg: 2018-02-01T14%3A30%3A15-05%3A00</code></li>
</ol>
</blockquote>
<h3>List of languages supported</h3>
<p>The server supports a total of 104 languages as follows:</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>af<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment"># Afrikaans</span>
sq<span class="token operator">-</span><span class="token constant">AL</span>       <span class="token comment"># Shqip, Albanian</span>
am<span class="token operator">-</span><span class="token constant">ET</span>       <span class="token comment"># , Amharic</span>
ar<span class="token operator">-</span><span class="token constant">AE</span>       <span class="token comment"># , Arabic</span>
hy<span class="token operator">-</span><span class="token constant">AM</span>       <span class="token comment"># , Armenian</span>
az<span class="token operator">-</span>Latn     <span class="token comment"># Azrbaycan, Azerbaijani</span>
eu<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># Euskara, Basque</span>
be<span class="token operator">-</span><span class="token constant">BY</span>       <span class="token comment"># , Belarusian</span>
bn<span class="token operator">-</span><span class="token constant">BD</span>       <span class="token comment"># , Bengali</span>
bs<span class="token operator">-</span>Latn     <span class="token comment"># Bosanski, Bosnian</span>
bg<span class="token operator">-</span><span class="token constant">BG</span>       <span class="token comment"># , Bulgarian</span>
ca<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># Catal, Catalan</span>
ceb         <span class="token comment"># Cebuano</span>
ny          <span class="token comment"># Chichewa</span>
zh<span class="token operator">-</span><span class="token constant">CN</span>       <span class="token comment"># , Chinese (Simplified)</span>
zh<span class="token operator">-</span><span class="token constant">TW</span>       <span class="token comment"># , Chinese (Traditional)</span>
co<span class="token operator">-</span><span class="token constant">FR</span>       <span class="token comment"># Corsu, Corsican</span>
hr<span class="token operator">-</span><span class="token constant">HR</span>       <span class="token comment"># Hrvatski, Croatian</span>
cs<span class="token operator">-</span><span class="token constant">CZ</span>       <span class="token comment"># etina, Czech</span>
da<span class="token operator">-</span><span class="token constant">DK</span>       <span class="token comment"># Dansk, Danish</span>
nl<span class="token operator">-</span><span class="token constant">NL</span>       <span class="token comment"># Nederlands, Dutch</span>
en<span class="token operator">-</span><span class="token constant">US</span>       <span class="token comment"># English</span>
eo          <span class="token comment"># Esperanto</span>
et<span class="token operator">-</span><span class="token constant">EE</span>       <span class="token comment"># Eesti keel, Estonian</span>
fil<span class="token operator">-</span><span class="token constant">PH</span>      <span class="token comment"># Filipino</span>
fi<span class="token operator">-</span><span class="token constant">FI</span>       <span class="token comment"># Suomalainen, Finnish</span>
fr<span class="token operator">-</span><span class="token constant">FR</span>       <span class="token comment"># Franais, French</span>
fy<span class="token operator">-</span><span class="token constant">NL</span>       <span class="token comment"># Frysk, Frisian</span>
gl<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># Galego, Galician</span>
ka<span class="token operator">-</span><span class="token constant">GE</span>       <span class="token comment"># , Georgian</span>
de<span class="token operator">-</span><span class="token constant">DE</span>       <span class="token comment"># Deutsch, German</span>
el<span class="token operator">-</span><span class="token constant">GR</span>       <span class="token comment"># , Greek</span>
gu<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Gujarati</span>
ht          <span class="token comment"># Kreyl ayisyen, Haitian Creole</span>
ha          <span class="token comment"># Hausa</span>
haw<span class="token operator">-</span><span class="token constant">U</span>       <span class="token comment"># lelo Hawaii, Hawaiian,</span>
he<span class="token operator">-</span><span class="token constant">IL</span>       <span class="token comment"># , Hebrew</span>
hi<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Hindi</span>
hmn         <span class="token comment"># Hmong</span>
hu<span class="token operator">-</span><span class="token constant">HU</span>       <span class="token comment"># Magyar, Hungarian</span>
is<span class="token operator">-</span><span class="token constant">IS</span>       <span class="token comment"># slensku, Icelandic</span>
ig<span class="token operator">-</span><span class="token constant">NG</span>       <span class="token comment"># Igbo</span>
id<span class="token operator">-</span><span class="token constant">ID</span>       <span class="token comment"># Bahasa Indonesia, Indonesian</span>
ga<span class="token operator">-</span><span class="token constant">IE</span>       <span class="token comment"># Gaeilge, Irish</span>
it<span class="token operator">-</span><span class="token constant">IT</span>       <span class="token comment"># Italiano, Italian</span>
ja<span class="token operator">-</span><span class="token constant">JP</span>       <span class="token comment"># , Japanese</span>
jv<span class="token operator">-</span>Latn     <span class="token comment"># Jawa, Javanese</span>
kn<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Kannada</span>
kk<span class="token operator">-</span><span class="token constant">KZ</span>       <span class="token comment">#  , Kazakh</span>
km<span class="token operator">-</span><span class="token constant">KH</span>       <span class="token comment"># , Khmer</span>
ko<span class="token operator">-</span><span class="token constant">KR</span>       <span class="token comment"># Korean</span>
ku<span class="token operator">-</span>Arab<span class="token operator">-</span><span class="token constant">IR</span>  <span class="token comment"># Kurd, Kurdish (Kurmanji)</span>
ru<span class="token operator">-</span><span class="token constant">KG</span>       <span class="token comment"># , Kyrgyz</span>
lo<span class="token operator">-</span><span class="token constant">LA</span>       <span class="token comment"># , Lao</span>
sr<span class="token operator">-</span>Latn     <span class="token comment"># Latine, Latin</span>
lv<span class="token operator">-</span><span class="token constant">LV</span>       <span class="token comment"># Latvieu, Latvian</span>
lt<span class="token operator">-</span><span class="token constant">LT</span>       <span class="token comment"># Lietuvikai, Lithuanian</span>
lb<span class="token operator">-</span><span class="token constant">LU</span>       <span class="token comment"># Ltzebuergesch, Luxembourgish</span>
mk<span class="token operator">-</span><span class="token constant">MK</span>       <span class="token comment"># , Macedonian</span>
mg<span class="token operator">-</span><span class="token constant">MG</span>       <span class="token comment"># Malagasy</span>
ms<span class="token operator">-</span><span class="token constant">MY</span>       <span class="token comment"># Melayu, Malay</span>
ml<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Malayalam</span>
mt<span class="token operator">-</span><span class="token constant">MT</span>       <span class="token comment"># Malti, Maltese</span>
mi<span class="token operator">-</span><span class="token constant">NZ</span>       <span class="token comment"># Maori</span>
mr<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Marathi</span>
mn<span class="token operator">-</span><span class="token constant">MN</span>       <span class="token comment">#   , Mongolian</span>
my<span class="token operator">-</span><span class="token constant">MM</span>       <span class="token comment"># ", Myanmar (Burmese)</span>
ne<span class="token operator">-</span><span class="token constant">NP</span>       <span class="token comment"># , Nepali</span>
nb<span class="token operator">-</span><span class="token constant">NO</span>       <span class="token comment"># Norwegian</span>
ps<span class="token operator">-</span><span class="token constant">AF</span>       <span class="token comment"># , Pashto</span>
fa<span class="token operator">-</span><span class="token constant">IR</span>       <span class="token comment"># , Persian</span>
pl<span class="token operator">-</span><span class="token constant">PL</span>       <span class="token comment"># Polskie, Polish</span>
pt<span class="token operator">-</span><span class="token constant">PT</span>       <span class="token comment"># Portugus, Portuguese</span>
pa<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Punjabi</span>
ro<span class="token operator">-</span><span class="token constant">RO</span>       <span class="token comment"># Romn, Romanian</span>
ru<span class="token operator">-</span><span class="token constant">RU</span>       <span class="token comment"># , Russian</span>
sm          <span class="token comment"># Samoan</span>
gd<span class="token operator">-</span><span class="token constant">GB</span>       <span class="token comment"># Gidhlig, Scots Gaelic</span>
sr<span class="token operator">-</span>Cyrl<span class="token operator">-</span><span class="token constant">RS</span>  <span class="token comment"># , Serbian</span>
nso<span class="token operator">-</span><span class="token constant">ZA</span>      <span class="token comment"># Sesotho</span>
sn<span class="token operator">-</span>Latn<span class="token operator">-</span><span class="token constant">ZW</span>  <span class="token comment"># Shona</span>
sd<span class="token operator">-</span>Arab<span class="token operator">-</span><span class="token constant">PK</span>  <span class="token comment"># , Sindhi</span>
si<span class="token operator">-</span><span class="token constant">LK</span>       <span class="token comment"># , Sinhala</span>
sk<span class="token operator">-</span><span class="token constant">SK</span>       <span class="token comment"># Slovensk, Slovak</span>
sl<span class="token operator">-</span><span class="token constant">SI</span>       <span class="token comment"># Slovenina, Slovenian</span>
so<span class="token operator">-</span><span class="token constant">SO</span>       <span class="token comment"># Soomaali, Somali</span>
es<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># Espaol, Spanish</span>
su          <span class="token comment"># Basa Sunda, Sundanese</span>
swc<span class="token operator">-</span><span class="token constant">CD</span>      <span class="token comment"># Kiswahili, Swahili</span>
sv<span class="token operator">-</span><span class="token constant">SE</span>       <span class="token comment"># Svenska, Swedish</span>
tg<span class="token operator">-</span>Cyrl<span class="token operator">-</span><span class="token constant">TJ</span>  <span class="token comment"># , Tajik</span>
ta<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Tamil</span>
te<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># , Telugu</span>
th<span class="token operator">-</span><span class="token constant">TH</span>       <span class="token comment"># , Thai</span>
tr<span class="token operator">-</span><span class="token constant">TR</span>       <span class="token comment"># Trke, Turkish</span>
uk<span class="token operator">-</span><span class="token constant">UA</span>       <span class="token comment"># , Ukrainian</span>
ur<span class="token operator">-</span><span class="token constant">PK</span>       <span class="token comment"># , Urdu</span>
uz<span class="token operator">-</span>Latn<span class="token operator">-</span><span class="token constant">UZ</span>  <span class="token comment"># O'zbek, Uzbek</span>
vi<span class="token operator">-</span><span class="token constant">VN</span>       <span class="token comment"># Ting Vit, Vietnamese</span>
cy<span class="token operator">-</span><span class="token constant">GB</span>       <span class="token comment"># Cymraeg, Welsh</span>
xh<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment"># isiXhosa, Xhosa</span>
yi          <span class="token comment"># , Yiddish</span>
yo<span class="token operator">-</span><span class="token constant">NG</span>       <span class="token comment"># Yorb, Yoruba</span>
zu<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment"># isiZulu, Zulu</span>
</code></pre><h3>JSON data format</h3>
<p>The server does not use line breaks or white space characters in JSON data for data optimization. For example, use the following form of text:</p>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span><span class="token property">"apiVersion"</span><span class="token operator">:</span><span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span><span class="token property">"siteName"</span><span class="token operator">:</span><span class="token string">"My%20home%20server"</span><span class="token punctuation">,</span><span class="token property">"timezone"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"America/New_York"</span><span class="token punctuation">,</span><span class="token property">"bias"</span><span class="token operator">:</span><span class="token string">"-05:00"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"product"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"TS-LPR"</span><span class="token punctuation">,</span><span class="token property">"version"</span><span class="token operator">:</span><span class="token string">"v0.5.0A (64-bit)"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"license"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"genuine"</span><span class="token punctuation">,</span><span class="token property">"maxChannels"</span><span class="token operator">:</span><span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><p>This is a long line, so it can be a little uncomfortable for the human to read.</p>
<p>In this case, use the following tools to convert easily readable.</p>
<ul>
<li><a href="http://www.csvjson.com/json_beautifier">http://www.csvjson.com/json_beautifier</a></li>
<li><a href="https://codebeautify.org/jsonviewer">https://codebeautify.org/jsonviewer</a></li>
<li><a href="https://jsonformatter.curiousconcept.com/">https://jsonformatter.curiousconcept.com/</a></li>
<li><a href="https://jsonformatter.org/">https://jsonformatter.org/</a></li>
</ul>
<p>The readable JSON data has the following form:</p>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span>
  <span class="token property">"siteName"</span><span class="token operator">:</span> <span class="token string">"My%20home%20server"</span><span class="token punctuation">,</span>
  <span class="token property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"America/New_York"</span><span class="token punctuation">,</span>
    <span class="token property">"bias"</span><span class="token operator">:</span> <span class="token string">"-05:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">64</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Of course, both are completely the same data in terms of content.</p>
<h3>Feedback</h3>
<p>We are always listening to your feedback.<br>
If you have any development questions or want to improve, please leave them at <a href="https://github.com/bobhyun/TS-API/issues">https://github.com/bobhyun/TS-API/issues</a>.</p>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>