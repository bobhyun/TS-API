<!DOCTYPE html><html><head>
      <title>TS-API.ko</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1>TS-API 프로그래밍 안내서</h1>
<h2>TS-API@0.9.19</h2>
<p>이 문서는 <strong>(주)티에스 솔루션</strong>의 <strong>TS-CMS</strong>, <strong>TS-NVR</strong>, <strong>TS-LPR</strong>에 내장된 <strong>TS-API</strong>를 사용하여 응용 소프트웨어를 개발하는 분들을 위한 프로그래밍 안내서입니다.<br>
이 문서를 참고하여 실시간 영상, 녹화 영상 보기, 영상 검색 기능을 간단하게 여러분의 응용 소프트웨어에 포함시킬 수 있습니다.</p>
<p>API를 사용하기 위해 간단한 <code>HTML</code>과 <code>자바스크립트</code>를 사용해 본 경험이 있으면 도움이 됩니다.</p>
<blockquote>
<p>[참고]<br>
API와 본 문서는 개발 지원 및 기능 향상을 위해 공지 없이 변경될 수 있습니다.</p>
</blockquote>
<h2>목차</h2>
<ul>
<li><a href="#ts-api-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%95%88%EB%82%B4%EC%84%9C">TS-API 프로그래밍 안내서</a>
<ul>
<li><a href="#ts-api0919">TS-API@0.9.19</a></li>
<li><a href="#%EB%AA%A9%EC%B0%A8">목차</a></li>
<li><a href="#%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0">시작하기</a></li>
<li><a href="#%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">영상 표시</a>
<ul>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">실시간 영상 표시</a></li>
<li><a href="#%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90-%EC%98%81%EC%83%81-%EC%82%BD%EC%9E%85%ED%95%98%EA%B8%B0">웹 페이지에 영상 삽입하기</a></li>
<li><a href="#%EC%8B%A4%EC%A0%9C-%EC%84%9C%EB%B2%84%EC%97%90-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0">실제 서버에 접속하기</a></li>
<li><a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D">사용자 인증</a></li>
<li><a href="#%EC%B1%84%EB%84%90-%EB%B3%80%EA%B2%BD">채널 변경</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">녹화 영상 표시</a></li>
</ul>
</li>
<li><a href="#json-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%93%A4%EC%97%AC%EC%93%B0%EA%B8%B0-050">JSON 데이터 들여쓰기 <code>@0.5.0</code></a></li>
<li><a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>
<ul>
<li><a href="#%EB%A1%9C%EA%B7%B8%EC%9D%B8">로그인</a></li>
<li><a href="#%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83">로그아웃</a></li>
</ul>
</li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%A0%95%EB%B3%B4-%EC%9A%94%EC%B2%AD">서버 정보 요청</a>
<ul>
<li><a href="#api-%EB%B2%84%EC%A0%84">API 버전</a></li>
<li><a href="#%EC%82%AC%EC%9D%B4%ED%8A%B8-%EC%9D%B4%EB%A6%84">사이트 이름</a></li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%8B%9C%EA%B0%84%EB%8C%80">서버 시간대</a></li>
<li><a href="#%EC%A0%9C%ED%92%88-%EC%A0%95%EB%B3%B4">제품 정보</a></li>
<li><a href="#%EB%9D%BC%EC%9D%B4%EC%84%BC%EC%8A%A4-%EC%A0%95%EB%B3%B4">라이센스 정보</a>
<ul>
<li><a href="#%EB%B6%80%EA%B0%80-%EA%B8%B0%EB%8A%A5extension-%EB%AA%A9%EB%A1%9D">부가 기능<code>extension</code> 목록</a></li>
</ul>
</li>
<li><a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EB%B3%B4">사용자 정보</a></li>
<li><a href="#%EB%AA%A8%EB%91%90-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%9A%94%EC%B2%AD">모두 한 번에 요청</a></li>
</ul>
</li>
<li><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%A0%95%EB%B3%B4-%EC%9A%94%EC%B2%AD-030">시스템 정보 요청 <code>@0.3.0</code></a>
<ul>
<li><a href="#%EA%B0%9C%EB%B3%84-%ED%95%AD%EB%AA%A9-%EC%9A%94%EC%B2%AD">개별 항목 요청</a></li>
</ul>
</li>
<li><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%83%81%ED%83%9C-%EC%9A%94%EC%B2%AD-030">시스템 상태 요청 <code>@0.3.0</code></a>
<ul>
<li><a href="#%EA%B0%9C%EB%B3%84-%ED%95%AD%EB%AA%A9-%EC%9A%94%EC%B2%AD-1">개별 항목 요청</a></li>
</ul>
</li>
<li><a href="#hdd-smart-%EC%9A%94%EC%B2%AD-060">HDD S.M.A.R.T. 요청 <code>@0.6.0</code></a></li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%9E%AC%EC%8B%9C%EC%9E%91-%EC%9A%94%EC%B2%AD-060">서버 재시작 요청 <code>@0.6.0</code></a></li>
<li><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%9E%AC%EB%B6%80%ED%8C%85-%EC%9A%94%EC%B2%AD-060">시스템 재부팅 요청 <code>@0.6.0</code></a></li>
<li><a href="#%EC%B1%84%EB%84%90-%EC%83%81%ED%83%9C-%EC%9A%94%EC%B2%AD-030">채널 상태 요청 <code>@0.3.0</code></a></li>
<li><a href="#%EA%B0%81%EC%A2%85-%EB%AA%A9%EB%A1%9D-%EC%9A%94%EC%B2%AD">각종 목록 요청</a>
<ul>
<li><a href="#%EC%B1%84%EB%84%90-%EB%AA%A9%EB%A1%9D-094">채널 목록 <code>@0.9.4</code></a>
<ul>
<li><a href="#%EC%8A%A4%ED%8A%B8%EB%A6%BC-%EB%AA%A9%EB%A1%9D-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0-094">스트림 목록 추가하기 <code>@0.9.4</code></a></li>
<li><a href="#%EC%B9%B4%EB%A9%94%EB%9D%BC-%EC%A7%80%EC%9B%90-%EA%B8%B0%EB%8A%A5-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0-094">카메라 지원 기능 추가하기 <code>@0.9.4</code></a></li>
</ul>
</li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EC%9D%B8%EC%8B%9D-%EC%9E%A5%EC%B9%98-%EB%AA%A9%EB%A1%9D">차량 번호 인식 장치 목록</a></li>
<li><a href="#%EB%B9%84%EC%83%81-%ED%98%B8%EC%B6%9C-%EC%9E%A5%EC%B9%98-%EB%AA%A9%EB%A1%9D-030">비상 호출 장치 목록 <code>@0.3.0</code></a></li>
<li><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EC%A2%85%EB%A5%98-%EB%AA%A9%EB%A1%9D">이벤트 로그 종류 목록</a></li>
<li><a href="#%EC%A3%BC%EC%B0%A8%EC%9E%A5-%EB%AA%A9%EB%A1%9D-098">주차장 목록 <code>@0.9.8</code></a></li>
<li><a href="#%EC%88%98%EC%8B%A0-%EA%B0%80%EB%8A%A5%ED%95%9C-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%AA%A9%EB%A1%9D-096">수신 가능한 실시간 이벤트 목록 <code>@0.9.6</code></a></li>
<li><a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EA%B0%9D%EC%B2%B4-%EB%AA%A9%EB%A1%9D-0911">지원하는 객체 목록 <code>@0.9.11</code></a></li>
<li><a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EA%B0%9D%EC%B2%B4%EB%B3%84-%EC%86%8D%EC%84%B1-%EB%AA%A9%EB%A1%9D-0911">지원하는 객체별 속성 목록 <code>@0.9.11</code></a></li>
</ul>
</li>
<li><a href="#%EC%A0%80%EC%9E%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B2%80%EC%83%89">저장 데이터 검색</a>
<ul>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%82%A0%EC%A7%9C-%EA%B2%80%EC%83%89">녹화 영상이 있는 날짜 검색</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%B6%84-%EB%8B%A8%EC%9C%84-%EA%B2%80%EC%83%89-020">녹화 영상이 있는 분 단위 검색 <code>@0.2.0</code></a></li>
<li><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">이벤트 로그 검색</a></li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">차량 번호 로그 검색</a></li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EB%A1%9C%EA%B7%B8-%EB%82%B4%EB%B3%B4%EB%82%B4%EA%B8%B0-0918">차량 번호 로그 내보내기 <code>@0.9.18</code></a></li>
<li><a href="#%EC%9C%A0%EC%82%AC-%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EA%B2%80%EC%83%89-020">유사 차량 번호 검색 <code>@0.2.0</code></a></li>
<li><a href="#%EA%B0%9D%EC%B2%B4-%EA%B2%80%EC%83%89-0911">객체 검색 <code>@0.9.11</code></a>
<ul>
<li><a href="#%EA%B3%B5%ED%86%B5-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98">공통 매개변수</a></li>
<li><a href="#face%EC%9A%A9-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98">face용 매개변수</a></li>
<li><a href="#human%EC%9A%A9-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98">human용 매개변수</a></li>
<li><a href="#vehicle%EC%9A%A9-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98">vehicle용 매개변수</a></li>
</ul>
</li>
<li><a href="#%EC%96%BC%EA%B5%B4-%EA%B2%80%EC%83%89-096">얼굴 검색 <code>@0.9.6</code></a></li>
</ul>
</li>
<li><a href="#%EB%8F%99%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4-%EA%B2%80%EC%83%89">동영상 소스 검색</a>
<ul>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">실시간 영상 소스</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">녹화 영상 소스</a></li>
</ul>
</li>
<li><a href="#%EB%8F%99%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%98%81%EC%83%81-%EC%9A%94%EC%B2%AD-030">동영상 소스를 사용하여 영상 요청 <code>@0.3.0</code></a></li>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-030">실시간 이벤트 모니터링 <code>@0.3.0</code></a>
<ul>
<li><a href="#%EC%9B%B9-%EC%86%8C%EC%BC%93-rfc6455">웹 소켓 (RFC6455)</a></li>
<li><a href="#%EC%B1%84%EB%84%90-%EC%83%81%ED%83%9C-%EB%B3%80%EA%B2%BD-%EC%9D%B4%EB%B2%A4%ED%8A%B8">채널 상태 변경 이벤트</a></li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EC%9D%B8%EC%8B%9D-%EC%9D%B4%EB%B2%A4%ED%8A%B8">차량 번호 인식 이벤트</a></li>
<li><a href="#%EB%B9%84%EC%83%81-%ED%98%B8%EC%B6%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8">비상 호출 이벤트</a></li>
<li><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-070">시스템 이벤트 <code>@0.7.0</code></a></li>
<li><a href="#%EC%9B%80%EC%A7%81%EC%9E%84-%EA%B0%90%EC%A7%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8-080">움직임 감지 이벤트 <code>@0.8.0</code></a></li>
<li><a href="#%EC%A3%BC%EC%B0%A8-%EC%B9%B4%EC%9A%B4%ED%8A%B8-%EC%9D%B4%EB%B2%A4%ED%8A%B8-090">주차 카운트 이벤트 <code>@0.9.0</code></a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%83%81%ED%83%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-095">녹화 상태 이벤트 <code>@0.9.5</code></a></li>
<li><a href="#%EA%B0%9D%EC%B2%B4-%EA%B0%90%EC%A7%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8-0911">객체 감지 이벤트 <code>@0.9.11</code></a>
<ul>
<li><a href="#face-%EA%B0%9D%EC%B2%B4"><code>face</code> 객체</a></li>
<li><a href="#human-%EA%B0%9D%EC%B2%B4"><code>human</code> 객체</a></li>
<li><a href="#vehicle-%EA%B0%9D%EC%B2%B4"><code>vehicle</code> 객체</a></li>
</ul>
</li>
<li><a href="#%EC%B2%B4%EC%98%A8-%EA%B0%90%EC%A7%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8-0914">체온 감지 이벤트 <code>@0.9.14</code></a></li>
</ul>
</li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%EB%B0%9B%EC%95%84%EB%82%B4%EA%B8%B0-030">녹화 영상 받아내기 <code>@0.3.0</code></a></li>
<li><a href="#%EC%84%9C%EB%B2%84%EC%97%90-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B0%80%EC%96%B4%EB%84%A3%EA%B8%B0-040">서버에 이벤트 밀어넣기 <code>@0.4.0</code></a></li>
<li><a href="#%EC%B1%84%EB%84%90-%EC%A0%95%EB%B3%B4-%EB%B0%8F-%EC%9E%A5%EC%B9%98-%EC%A0%9C%EC%96%B4-050">채널 정보 및 장치 제어 <code>@0.5.0</code></a>
<ul>
<li><a href="#%EC%9E%A5%EC%B9%98-%EC%A0%95%EB%B3%B4-%EB%B0%8F-%EC%A7%80%EC%9B%90-%EA%B8%B0%EB%8A%A5-%EB%AA%A9%EB%A1%9D-%EC%9A%94%EC%B2%AD">장치 정보 및 지원 기능 목록 요청</a></li>
<li><a href="#%ED%8C%AC%ED%8B%B8%ED%8A%B8-%EC%A0%9C%EC%96%B4">팬틸트 제어</a></li>
<li><a href="#%ED%8C%AC%ED%8B%B8%ED%8A%B8-%ED%94%84%EB%A6%AC%EC%85%8B-%EC%A0%9C%EC%96%B4">팬틸트 프리셋 제어</a></li>
<li><a href="#%EB%A6%B4%EB%A0%88%EC%9D%B4-%EC%B6%9C%EB%A0%A5">릴레이 출력</a></li>
<li><a href="#aux-%EC%B6%9C%EB%A0%A5">AUX 출력</a></li>
<li><a href="#%EC%9E%A5%EC%B9%98-%EC%9E%AC%EB%B6%80%ED%8C%85">장치 재부팅</a></li>
</ul>
</li>
<li><a href="#%EC%B1%84%EB%84%90-%EC%B6%94%EA%B0%80-097">채널 추가 <code>@0.9.7</code></a>
<ul>
<li><a href="#%EC%9A%94%EC%B2%AD-%EB%8D%B0%EC%9D%B4%ED%84%B0">요청 데이터</a>
<ul>
<li><a href="#%EC%B9%B4%EB%A9%94%EB%9D%BC">카메라</a></li>
<li><a href="#%EB%8F%99%EC%98%81%EC%83%81-%EC%8A%A4%ED%8A%B8%EB%A6%BC">동영상 스트림</a></li>
<li><a href="#%EB%8F%99%EC%98%81%EC%83%81-%ED%8C%8C%EC%9D%BC">동영상 파일</a></li>
<li><a href="#%EC%9D%91%EB%8B%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0">응답 데이터</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%EC%B1%84%EB%84%90-%EC%82%AD%EC%A0%9C-097">채널 삭제 <code>@0.9.7</code></a>
<ul>
<li><a href="#%EC%9A%94%EC%B2%AD">요청</a></li>
<li><a href="#%EC%9D%91%EB%8B%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-1">응답 데이터</a></li>
</ul>
</li>
<li><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%ED%8A%B8%EB%A6%AC%EA%B1%B0-0917">이벤트 트리거 <code>@0.9.17</code></a>
<ul>
<li><a href="#%EC%9A%94%EC%B2%AD-1">요청</a></li>
<li><a href="#%EC%9D%91%EB%8B%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-2">응답 데이터</a></li>
</ul>
</li>
<li><a href="#%EB%B6%80%EB%A1%9D">부록</a>
<ul>
<li><a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a></li>
<li><a href="#url-%EC%9D%B8%EC%BD%94%EB%94%A9">URL 인코딩</a></li>
<li><a href="#url-%EB%94%94%EC%BD%94%EB%94%A9">URL 디코딩</a></li>
<li><a href="#iso-8601-%ED%98%95%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EB%82%A0%EC%A7%9C-%EC%8B%9C%EA%B0%81-%ED%91%9C%ED%98%84%ED%95%98%EA%B8%B0">ISO 8601 형식으로 날짜 시각 표현하기</a></li>
<li><a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EC%96%B8%EC%96%B4-%EB%AA%A9%EB%A1%9D">지원하는 언어 목록</a></li>
<li><a href="#json-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%95%EC%8B%9D">JSON 데이터 형식</a></li>
<li><a href="#%ED%94%BC%EB%93%9C%EB%B0%B1">피드백</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="시작하기">시작하기 </h2>
<p>이 문서 내에서는 TS-API를 줄여서 <strong>API</strong>로 부르고, 각 제품들은 간단히 <strong>서버</strong>로 부르겠습니다.</p>
<h2 id="영상-표시">영상 표시 </h2>
<h3 id="실시간-영상-표시">실시간 영상 표시 </h3>
<p>웹 브라우저 주소 창에 다음과 같이 입력해 보십시오.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>iptime<span class="token punctuation">.</span>org<span class="token operator">:</span><span class="token number">83</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p><a href="http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">실행하기</a></p>
<p>동영상이 표시되나요?</p>
<blockquote>
<p>[참고]<br>
이 예제 코드에 사용된 시연용 영상은 현장 상황에 따라 접속되지 않을 수도 있습니다.</p>
</blockquote>
<h3 id="웹-페이지에-영상-삽입하기">웹 페이지에 영상 삽입하기 </h3>
<p>이 번에는 이 영상을 웹 페이지에 삽입해 봅시다.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>예제1. 동영상 삽입하기<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D<span class="token punctuation">"</span></span> 
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><p><a href="./examples/ex1.html">실행하기</a></p>
<p>예제에서 사용된 동영상 URL과 <code>&lt;iframe&gt;</code> 태그 코드는 표시되는 <strong>영상 위에서 오른쪽 마우스 버튼을 클릭</strong>하면 (모바일인 경우 1초 정도 화면을 누르면) 팝업 메뉴가 나타납니다. 여기서 필요한 메뉴 항목을 선택하면 해당 코드가 클립보드에 복사되며 아래 표와 같이 각각의 용도에 맞게 <strong>붙여넣기</strong> 하면 됩니다.</p>
<table>
<thead>
<tr>
<th>메뉴 항목</th>
<th>용도</th>
</tr>
</thead>
<tbody>
<tr>
<td>동영상 URL 복사</td>
<td>웹 브라우저 주소 창에 붙여넣기</td>
</tr>
<tr>
<td>동영상 태그 코드 복사</td>
<td>HTML 코드의 <code>&lt;iframe&gt;</code>부분에 붙여넣기</td>
</tr>
</tbody>
</table>
<blockquote>
<p>[참고]<br>
보안 상의 이유로 이렇게 복사한 코드에는 <code>auth=ZGVtbzohMTIzNHF3ZXI%3D</code> 부분이 제외됩니다. 이 부분은 로그인에 필요한 코드이며 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>에서 자세히 설명합니다.<br>
이 예제에서는 동영상을 표시하기 위한 최소한의 코드만을 사용했기 때문에 복사된 코드에 비해 빠진 부분이 더 있습니다.</p>
</blockquote>
<h3 id="실제-서버에-접속하기">실제 서버에 접속하기 </h3>
<p>이제 데모용 서버가 아닌 실제 서버의 영상을 표시하는 방법을 알아 보겠습니다.<br>
실제 서버에 접속하려면 기본적으로 아래 두 가지 정보를 알아야 합니다.</p>
<ol>
<li>서버의 <strong>호스트명</strong> (<strong>IP 주소</strong> 또는 <strong>도메인명</strong>, 80 포트가 아닌 경우 <strong>포트 번호</strong>)</li>
</ol>
<blockquote>
<ul>
<li>포트 번호는 사용하시는 제품 설정 창에서 <code>웹 서비스</code> 탭의 <code>HTTP 포트</code> 항목에서 확인할 수 있습니다.</li>
</ul>
</blockquote>
<ol start="2">
<li><strong>원격 접속</strong> 권한이 있는 <strong>사용자 ID</strong>와 <strong>비밀번호</strong></li>
</ol>
<h3 id="사용자-인증">사용자 인증 </h3>
<p>예를 들어, 다음과 같은 접속정보를 사용하는 것으로 가정하면</p>
<table>
<thead>
<tr>
<th>항목</th>
<th>값</th>
</tr>
</thead>
<tbody>
<tr>
<td>IP 주소</td>
<td><code>http://tssolution.iptime.org</code></td>
</tr>
<tr>
<td>웹 포트</td>
<td><code>81</code></td>
</tr>
<tr>
<td>사용자 아이디</td>
<td><code>demo</code></td>
</tr>
<tr>
<td>비밀번호</td>
<td><code>!1234qwer</code></td>
</tr>
</tbody>
</table>
<p>위의 예제에서 주소 부분을 다음과 같이 변경하면 됩니다.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D<span class="token punctuation">"</span></span>
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>여기서 <code>auth=</code> 다음에 있는 <code>ZGVtbzohMTIzNHF3ZXI%3D</code> 부분은 사용자 아이디와 비밀번호를 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>한 부분입니다.<br>
형식은 <code>userid:password</code>와 같이 콜론(<code>:</code>) 구분자를 사용하여 사용자 아이디와 비밀번호를 하나의 텍스트로 만든 다음 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>합니다.<br>
위의 예에서는 <code>demo:!1234qwer</code>을 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>해서 <code>ZGVtbzohMTIzNHF3ZXI%3D</code>가 됩니다.</p>
<p>이번 예제에서는 자바스크립트로 로그인 정보를 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>해서 접속하는 방식으로 개선해 보도록 하겠습니다.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword keyword-function">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> hostName <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"호스트를 입력하십시오."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> userId <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"사용자 아이디를 입력하십시오."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> password <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"비밀번호를 입력하십시오."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> encodedData <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// base64 인코딩</span>
    <span class="token keyword keyword-var">var</span> src <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> hostName <span class="token operator">+</span> <span class="token string">'/watch?ch=1&amp;auth='</span> <span class="token operator">+</span> encodedData<span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> src<span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'player'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">src</span> <span class="token operator">=</span> src<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>예제2. 실제 서버에 접속하기<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>호스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>사용자 아이디<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>비밀번호<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>host-name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user-id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>접속<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>player<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><p><a href="./examples/ex2.html">실행하기</a></p>
<h3 id="채널-변경">채널 변경 </h3>
<p>아래와 같이 동영상 소스의 <code>ch=</code> 부분을 원하는 채널 번호로 변경하면 해당 채널의 동영상이 표시됩니다.<br>
채널 번호는 1부터 시작하는 정수입니다.<br>
예를 들어, 채널 3번을 보고 싶다면 다음과 같이 수정하면 됩니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>iptime<span class="token punctuation">.</span>org<span class="token operator">:</span><span class="token number">83</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">3</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p>실행하기: <a href="http://tssolution.iptime.org:83/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">채널1</a> <a href="http://tssolution.iptime.org:83/watch?ch=2&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">채널2</a> <a href="http://tssolution.iptime.org:83/watch?ch=3&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">채널3</a></p>
<h3 id="녹화-영상-표시">녹화 영상 표시 </h3>
<p>녹화된 영상을 표시하기 위해서는 원하는 동영상의 날짜, 시각 정보(타임스탬프)가 필요합니다.<br>
예를 들어, 위의 예제와 동일한 접속 정보로 <code>채널 1번</code>의 <code>2018년 2월 1일 오후 2시 30분 15초</code>에 녹화된 영상을 표시하기 위해서는 다음과 같이 <code>when=2018-02-01T14%3a30%3a15%2b09%3a00</code> 부분을 추가해야 합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>iptime<span class="token punctuation">.</span>org<span class="token operator">:</span><span class="token number">83</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T14<span class="token operator">%</span><span class="token number">3</span>a30<span class="token operator">%</span><span class="token number">3</span>a15<span class="token operator">%</span><span class="token number">2</span>b09<span class="token operator">%</span><span class="token number">3</span>a00<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p><a href="http://tssolution.iptime.org:83/watch?ch=1&amp;when=2018-02-01T14%3a30%3a15%2b09%3a00&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">실행하기</a></p>
<blockquote>
<p>[참고]<br>
오래된 날짜의 녹화 영상은 저장장치의 용량에 따라 이미 덮어쓰기 되어 존재하지 않을 수 있습니다.</p>
</blockquote>
<p><code>2018-02-01T14%3a30%3a15%2b09%3a00</code> 부분은 <a href="#ISO-8601-%ED%98%95%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EB%82%A0%EC%A7%9C-%EC%8B%9C%EA%B0%81-%ED%91%9C%ED%98%84%ED%95%98%EA%B8%B0">ISO 8601</a> 형식의 날짜, 시각을 <a href="#url-%EC%9D%B8%EC%BD%94%EB%94%A9">URL 인코딩</a>한 것입니다.</p>
<p>실시간 영상을 요청하기 위해서 <code>when=now</code>로 요청해도 되지만, <code>when=</code>이 없으면 실시간을 의미하므로 생략해도 됩니다.<br>
그리고 사용상 편의를 위해 다음과 같은 팁들을 제공합니다.</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>when=yesterday    // 서버의 로컬 타임으로 어제 00시 00분 00초
when=today        // 서버의 로컬 타임으로 오늘 00시 00분 00초
</code></pre><p>실행하기: <a href="http://tssolution.iptime.org:83/watch?ch=1&amp;when=yesterday&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">어제 영상</a> <a href="http://tssolution.iptime.org:83/watch?ch=1&amp;when=today&amp;auth=ZGVtbzohMTIzNHF3ZXI%3D">오늘 영상</a></p>
<p>매개변수를 사용하여 영상 위에 표시되는 자막의 언어를 설정할 수 있습니다.<br>
<a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EC%96%B8%EC%96%B4-%EB%AA%A9%EB%A1%9D">지원하는 언어 목록</a>은 부록을 참고하십시오.<br>
여기서부터는 <code>http://host</code>부분과 <code>auth=</code> 부분은 생략하고 표현합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 매개변수</span>
lang            <span class="token comment"># 자막 언어 지정</span>
showTitle       <span class="token comment"># 채널 이름 표시 (true, false)</span>
showPlayTime    <span class="token comment"># 재생 날짜, 시각 표시 (true, false)</span>

<span class="token comment"># 예제</span>
<span class="token comment"># 한글로 날짜, 시각 표시</span>
<span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T14<span class="token operator">%</span><span class="token number">3</span>a30<span class="token operator">%</span><span class="token number">3</span>a15<span class="token operator">%</span><span class="token number">2</span>b09<span class="token operator">%</span><span class="token number">3</span>a00<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ko<span class="token operator">-</span><span class="token constant">KR</span>

<span class="token comment"># 채널 이름 및 재생 날짜, 시각 표시 안함</span>
<span class="token comment"># showTitle과 showPlayTime은 명시하지 않은 경우 true로 간주함</span>
<span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T14<span class="token operator">%</span><span class="token number">3</span>a30<span class="token operator">%</span><span class="token number">3</span>a15<span class="token operator">%</span><span class="token number">2</span>b09<span class="token operator">%</span><span class="token number">3</span>a00<span class="token operator">&amp;</span>showTitle<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">&amp;</span>showPlayTime<span class="token operator">=</span><span class="token boolean">false</span>
</code></pre><p>지금까지는 <code>/watch</code> 호출을 통해 영상을 표시하는 방법들을 알아 보았습니다. 여기서부터는 <code>/api</code> 호출을 통해 각종 정보를 질의하는 방법을 알아보겠습니다.</p>
<h2 id="json-데이터-들여쓰기-050">JSON 데이터 들여쓰기 <code>@0.5.0</code> </h2>
<p>모든 응답 데이터는 <a href="#JSON-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%95%EC%8B%9D">JSON</a> 형식이며 텍스트는 <code>utf8</code>로 인코딩되어 있습니다.</p>
<p>데이터는 줄바꿈과 공백 문자없이 최적화된 형식을 사용하는 것이 성능을 위해서 좋지만 사람이 읽기에는 불편합니다.<br>
예를 들어, 아래와 같이 서버 시간대(timezone)를 얻기 위해 아래와 같이 요청하면</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>timezone
</code></pre><p>서버는 다음과 같이 줄바꿈과 공백 문자없이 최적화된 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span><span class="token string-property property">"timezone"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span><span class="token string-property property">"bias"</span><span class="token operator">:</span><span class="token string">"+09:00"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><p>개발자 편의를 위해 모든 TS-API에서 들여쓰기<code>indent</code>를 지정하여 읽기 편한 형식의 JSON 데이터를 응답하도록 할 수 있습니다.<br>
<code>indent</code> 값의 범위는 0부터 8까지입니다.</p>
<p>예를 들어, 들여쓰기를 2로 지정하여 요청하면</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>timezone<span class="token operator">&amp;</span>indent<span class="token operator">=</span><span class="token number">2</span>
</code></pre><p>서버는 다음과 같이 공백 문자를 2개씩 들여쓰고 줄바꿈 문자를 넣어서 읽기 편한 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"+09:00"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>물론 들여쓰기 값으로 원하는 숫자를 사용할 수 있으며 모든 TS-API에 동일한 방식으로 사용할 수 있습니다.<br>
이 문서에서는 데이터의 항목들을 쉽게 읽을 수 있도록 들여쓰기를 2로 지정한 형식을 사용합니다.</p>
<h2 id="세션-인증">세션 인증 </h2>
<p>서버는 클라이언트 프로그램(웹 브라우저)이 로그인 한 이후부터 로그아웃할 때까지 쿠키를 사용하여 HTTP 세션을 유지합니다. 세션이 유지되는 동안은 인증 정보를 서버가 유지하고 있으므로 클라이언트 프로그램(웹 브라우저)에서는 서버에 어떤 요청을 할 때마다 매번 로그인할 필요가 없습니다.</p>
<p><em>이렇게 로그인하는 과정을 통칭하여 <strong>세션 인증</strong>이라고 부르겠습니다.</em></p>
<h3 id="로그인">로그인 </h3>
<p>여기서는 API를 사용하여 세션 인증하는 방법을 알아봅니다.<br>
서버에서는 아래 코드와 같이 전통적인 URL 형식으로 로그인하는 Basic authentication 방식도 지원하고 있지만, 대부분의 최신 웹 브라우저에서 로그인 정보가 그대로 노출되는 보안상의 이유로 더 이상 지원하지 않고 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>path<span class="token regex-literal"><span class="token regex">/to/</span></span>
</code></pre><p>이런 이유로 다음과 같이 추가적인 로그인 방식을 제공합니다.<br>
<a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D">사용자 인증</a>에서 사용했던 방법으로 사용자 아이디와 비빌번호를 암호화한 다음, 다음과 같이 <code>login=</code> 매개변수에 붙여서 사용합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>login<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D    <span class="token comment"># http://host 부분 생략함</span>
</code></pre><p>로그인이 성공한 경우 서버는 HTTP 응답 코드 200을 반환합니다.</p>
<p>아래와 같이 <code>auth=</code>를 사용해도 동일하게 로그인할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p><code>auth=</code> 매개변수는 앞으로 소개할 다양한 API에 사용될 수 있으며, 별도의 로그인 과정을 거치지 않고 서버에 어떤 요청을 하면서 사용자 인증 정보를 한꺼번에 전달하는 용도로 사용할 수 있습니다.</p>
<h3 id="로그아웃">로그아웃 </h3>
<p><a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>된 상태에서 다음과 같이 요청하면 세션이 종료됩니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>logout
</code></pre><p>세션이 종료된 상태에서는 서버는 인증이 필요한 요청에 대해 HTTP 응답 코드 401을 반환하여 인증이 필요함을 알립니다.</p>
<h2 id="서버-정보-요청">서버 정보 요청 </h2>
<h3 id="api-버전">API 버전 </h3>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>apiVersion
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.3.0"</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="사이트-이름">사이트 이름 </h3>
<p>서버의 사이트 이름을 얻기 위해 사용합니다. 서버가 여러 대일 경우 각각을 구분할 수 있는 이름을 부여해서 사용할 수 있습니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>siteName
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"siteName"</span><span class="token operator">:</span> <span class="token string">"우리집 서버"</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="서버-시간대">서버 시간대 </h3>
<p>서버 측 표준 시간대(타임 존)를 얻을 수 있습니다.<br>
클라이언트 측과 서버가 다른 시간대로 동작할 경우 구분하기 위해 사용합니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>timezone
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>   <span class="token comment">// IANA 타임 존 이름</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"+09:00"</span>        <span class="token comment">// UTC 오프셋</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><code>Asia/Seoul</code> 부분은 <code>IANA</code> 형식의 타임 존 이름이며, 해당 서버의 운영체제에 따라 <a href="#https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">IANA 타임 존 이름</a> 대신 <code>UTC+09:00</code>와 같이 UTC 오프셋으로 표기될 수도 있습니다.</p>
<h3 id="제품-정보">제품 정보 </h3>
<p>서버의 제품명과 버전 정보를 얻기 위해 사용합니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>product
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// TS-CMS인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-CMS"</span><span class="token punctuation">,</span>               <span class="token comment">// 제품명</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.38.0 (64-bit)"</span>   <span class="token comment">// 버전명</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// TS-NVR인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-NVR"</span><span class="token punctuation">,</span>               <span class="token comment">// 제품명</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.35.0 (64-bit)"</span>   <span class="token comment">// 버전명</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// TS-LPR인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>               <span class="token comment">// 제품명</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.2.0A (64-bit)"</span>   <span class="token comment">// 버전명</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>라이센스 정보</h3>
<p>서버에 설치된 라이센스 정보를 얻기 위해 사용합니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>license
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// 정품인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>         <span class="token comment">// 정품 라이센스</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>         <span class="token comment">// 최대 사용할 수 있는 채널 수</span>
    <span class="token string-property property">"nLprZone"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>            <span class="token comment">// 차번 인식 영역 수 (TS-API@0.9.12)</span>
    <span class="token string-property property">"nDevEmCall"</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>          <span class="token comment">// 비상 호출 비상벨 수 (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChObjDetection"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>     <span class="token comment">// 객체 감지 채널 수 (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChFaceRecognition"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>  <span class="token comment">// 얼굴 인식 채널 수 (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChTrafficCount"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>     <span class="token comment">// 차량 통행량 집계 채널 수 (TS-API@0.9.12)</span>
    <span class="token string-property property">"nChSpeedometer"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>      <span class="token comment">// 차량 속도 측정 채널 (TS-API@0.9.12)</span>
    <span class="token string-property property">"mediaType"</span><span class="token operator">:</span> <span class="token string">"USB dongle"</span><span class="token punctuation">,</span> <span class="token comment">// 라이센스 미디어 종류 ("USB dongle" 또는 "Software") (TS-API@0.9.12)</span>
    <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// 부가 기능</span>
      <span class="token string">"lprExt"</span><span class="token punctuation">,</span>                <span class="token comment">// 차량 번호 인식 장치 연동</span>
      <span class="token string">"emergencyCall"</span>          <span class="token comment">// 비상 호출 장치 연동</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 무료 평가판인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"trial"</span><span class="token punctuation">,</span>    <span class="token comment">// 무료 평가판</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>  <span class="token comment">// 최대 사용할 수 있는 채널 수</span>
    <span class="token string-property property">"trialDays"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>    <span class="token comment">// 30일 무료 사용</span>
    <span class="token string-property property">"leftDays"</span><span class="token operator">:</span> <span class="token number">15</span>      <span class="token comment">// 15일 남음</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h4>부가 기능<code>extension</code> 목록</h4>
<table>
<thead>
<tr>
<th><code>extension</code></th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lprExt</code></td>
<td>차번 인식</td>
</tr>
<tr>
<td><code>emergencyCall</code></td>
<td>비상 호출</td>
</tr>
<tr>
<td><code>lprKiosk</code></td>
<td>키오스크 - 내 차 찾기</td>
</tr>
<tr>
<td><code>packing</code></td>
<td>포장 API</td>
</tr>
<tr>
<td><code>objectDetection</code></td>
<td>객체 감지</td>
</tr>
<tr>
<td><code>faceRecognition</code></td>
<td>얼굴 인식</td>
</tr>
<tr>
<td><code>sharedFrameBuffer</code></td>
<td>공유 프레임 버퍼 <code>TS-API@0.9.7</code></td>
</tr>
</tbody>
</table>
<h3>사용자 정보</h3>
<p>로그인된 사용자 정보를 얻어오기 위해 사용됩니다.<br>
이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태에서만 정상적으로 응답합니다.<br>
여기서부터는 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>을 하기 위한 <code>auth=</code> 사용 부분은 생략하겠습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>whoAmI
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.<br>
만약 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니라면 서버는 HTTP 응답 코드 401 에러를 보냅니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"whoAmI"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span>      <span class="token comment">// 사용자 아이디</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span>     <span class="token comment">// 사용자 이름</span>
    <span class="token string-property property">"##COMMENT1"</span><span class="token operator">:</span> <span class="token string">"---- NOTICE OF CHANGE --------------------------------------------"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"##COMMENT2"</span><span class="token operator">:</span> <span class="token string">"'accessRights' is deprecated and 'accessRights2' is used instead."</span><span class="token punctuation">,</span>
    <span class="token string-property property">"##COMMENT3"</span><span class="token operator">:</span> <span class="token string">"------------------------------------------------------------------"</span><span class="token punctuation">,</span>    
    <span class="token comment">// 0.5.0 이후 새 형식으로 변경됨 </span>
    <span class="token string-property property">"accessRights2"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token comment">// 사용자 권한</span>
      <span class="token string-property property">"DataExport"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>     <span class="token comment">// 이미지, 동영상 받아내기</span>
      <span class="token string-property property">"Control"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token comment">// 팬틸트, 릴레이 제어</span>
      <span class="token string-property property">"Settings"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       <span class="token comment">// 설정 변경</span>
      <span class="token string-property property">"Playback"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       <span class="token comment">// 녹화 데이터 보기</span>
      <span class="token string-property property">"LPR"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token comment">// 차량 번호 조회</span>
      <span class="token string-property property">"Remote"</span><span class="token operator">:</span> <span class="token boolean">true</span>          <span class="token comment">// 원격 접속</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 기존 형식은 삭제 예정이며 하위 호환성을 위해 유지함</span>
    <span class="token string-property property">"accessRights"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"DataExport"</span><span class="token punctuation">,</span>
      <span class="token string">"Control"</span><span class="token punctuation">,</span>
      <span class="token string">"Settings"</span><span class="token punctuation">,</span>
      <span class="token string">"Playback"</span><span class="token punctuation">,</span>
      <span class="token string">"LPR"</span><span class="token punctuation">,</span>
      <span class="token comment">//"SearchEdit",   // 0.5.0 이후 삭제됨 (Playback 권한으로 대체됨)</span>
      <span class="token string">"Remote"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>모두 한 번에 요청</h3>
<p>각각 정보를 개별적으로 요청할 수도 있지만, 편의상 모든 정보를 한 번에 요청하는 방법도 제공합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>all
</code></pre><p>이 요청은 세션 인증 상태인 경우는 HTTP 응답 코드 200과 함께 JSON 데이터를 반환하며, 인증이 되지 않은 경우는 HTTP 응답 코드 401과 함께 <code>"whoAmI"</code> 항목이 빠진 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// 세션 인증된 상태 (HTTP 응답 코드: 200):</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.3.0"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"siteName"</span><span class="token operator">:</span> <span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"+09:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"lprExt"</span><span class="token punctuation">,</span>
      <span class="token string">"emergencyCall"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"whoAmI"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"accessRights"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"DataExport"</span><span class="token punctuation">,</span>
      <span class="token string">"Control"</span><span class="token punctuation">,</span>
      <span class="token string">"Settings"</span><span class="token punctuation">,</span>
      <span class="token string">"Playback"</span><span class="token punctuation">,</span>
      <span class="token string">"LPR"</span><span class="token punctuation">,</span>
      <span class="token string">"SearchEdit"</span><span class="token punctuation">,</span>
      <span class="token string">"Remote"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 세션 인증 안된 상태 (HTTP 응답 코드: 401):</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.3.0"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"siteName"</span><span class="token operator">:</span> <span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"bias"</span><span class="token operator">:</span> <span class="token string">"+09:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"lprExt"</span><span class="token punctuation">,</span>
      <span class="token string">"emergencyCall"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>     <span class="token comment">// whoAmI 부분 없음</span>
<span class="token punctuation">}</span>
</code></pre><h2>시스템 정보 요청 <code>@0.3.0</code></h2>
<p>서버의 시스템 정보를 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system   <span class="token comment"># 생략 가능</span>
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.<br>
<em>@0.7.0에서 disk 데이터 형식 수정됨</em></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"lastUpdate"</span><span class="token operator">:</span> <span class="token string">"2018-09-15T13:49:12.440+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"os"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Microsoft Windows Embedded Standard"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"servicePack"</span><span class="token operator">:</span> <span class="token string">"Service Pack 1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"version"</span><span class="token operator">:</span> <span class="token string">"6.1.7601"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"arch"</span><span class="token operator">:</span> <span class="token string">"64-bit"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"cpu"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel(R) Core(TM) i5-6500 CPU @ 3.20GHz"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"GenuineIntel"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"cores"</span><span class="token operator">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"mainboard"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B150M-A"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"ASUSTeK COMPUTER INC."</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"graphicAdapter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"NVIDIA GeForce GT 1030"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"NVIDIA"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"videoMemory"</span><span class="token operator">:</span> <span class="token number">2147483649</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel(R) HD Graphics 530"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Intel Corporation"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"videoMemory"</span><span class="token operator">:</span> <span class="token number">1073741824</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"physicalMemory"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"DIMM_A1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Samsung"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"bank"</span><span class="token operator">:</span> <span class="token string">"BANK 0"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">4294967296</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"15392520"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"DDR3"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"speed"</span><span class="token operator">:</span> <span class="token number">1600</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"DIMM_B1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Samsung"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"bank"</span><span class="token operator">:</span> <span class="token string">"BANK 2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">4294967296</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"15392519"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"DDR3"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"speed"</span><span class="token operator">:</span> <span class="token number">1600</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"memoryAmount"</span><span class="token operator">:</span> <span class="token number">8589934592</span><span class="token punctuation">,</span>
  <span class="token string-property property">"disk"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">512105932800</span><span class="token punctuation">,</span>
      <span class="token string-property property">"deviceId"</span><span class="token operator">:</span> <span class="token string">"\\\\.\\PHYSICALDRIVE0"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"interface"</span><span class="token operator">:</span> <span class="token string">"IDE"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"(Standard disk drives)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"SanDisk SD9SB8W512G1122"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"partition"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #0"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">204800</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">104857600</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">1048576</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #1"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">16777216</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">8589934592</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">105906176</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"mount"</span><span class="token operator">:</span> <span class="token string">"C:"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #2"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">401210938</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">205420000256</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">8695840768</span><span class="token punctuation">,</span>
          <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"windows"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"mount"</span><span class="token operator">:</span> <span class="token string">"D:"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #3"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">457089024</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">234029580288</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">214116073472</span><span class="token punctuation">,</span>
          <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #0, Partition #4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">124930048</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">63964184576</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">448145653760</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"182168800139"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"smartCaps"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"capacity"</span><span class="token operator">:</span> <span class="token number">1000202273280</span><span class="token punctuation">,</span>
      <span class="token string-property property">"deviceId"</span><span class="token operator">:</span> <span class="token string">"\\\\.\\PHYSICALDRIVE1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"interface"</span><span class="token operator">:</span> <span class="token string">"IDE"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"(Standard disk drives)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"ST1000LM024 HN-M101MBB"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"partition"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"mount"</span><span class="token operator">:</span> <span class="token string">"E:"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Disk #1, Partition #0"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"numberOfBlocks"</span><span class="token operator">:</span> <span class="token number">1953519616</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token number">1000202043392</span><span class="token punctuation">,</span>
          <span class="token string-property property">"startingOffset"</span><span class="token operator">:</span> <span class="token number">1048576</span><span class="token punctuation">,</span>
          <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data.hdd"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"serialNo"</span><span class="token operator">:</span> <span class="token string">"S2R8J9BC700641"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"smartCaps"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"storageAmount"</span><span class="token operator">:</span> <span class="token number">4000784417280</span><span class="token punctuation">,</span>
  <span class="token string-property property">"cdrom"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"HL-DT-ST DVDRAM GP50NB40 USB Device"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"(Standard CD-ROM drives)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"DVD Writer"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>  
  <span class="token string-property property">"networkAdapter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"connectionId"</span><span class="token operator">:</span> <span class="token string">"Ethernet"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"dlSpeed"</span><span class="token operator">:</span> <span class="token number">100000000</span><span class="token punctuation">,</span>
      <span class="token string-property property">"ipv4"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"dhcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"dns"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"210.220.163.82"</span><span class="token punctuation">,</span>
          <span class="token string">"219.250.36.130"</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"gateway"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"192.168.0.1"</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"ip"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"192.168.0.43/24"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"ipv6"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"ip"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"fe80::8f0:3d03:b67f:7025%8/64"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"mac"</span><span class="token operator">:</span> <span class="token string">"80:FA:5B:03:79:5E"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Realtek"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Realtek PCIe GBE Family Controller"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"netEnabled"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"ulSpeed"</span><span class="token operator">:</span> <span class="token number">100000000</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"connectionId"</span><span class="token operator">:</span> <span class="token string">"Wi-Fi"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"mac"</span><span class="token operator">:</span> <span class="token string">"D0:7E:35:F7:86:A4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Intel Corporation"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel(R) Dual Band Wireless-AC 3160"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"netEnabled"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>또는 아래와 같이 개별 항목을 지정해서 요청할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>supported  <span class="token comment"># 지원하는 항목 목록 요청</span>
</code></pre><p>지원하는 항목 목록 요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"os"</span><span class="token punctuation">,</span>
  <span class="token string">"cpu"</span><span class="token punctuation">,</span>
  <span class="token string">"mainboard"</span><span class="token punctuation">,</span>
  <span class="token string">"memory"</span><span class="token punctuation">,</span>
  <span class="token string">"graphicAdapter"</span><span class="token punctuation">,</span>
  <span class="token string">"disk"</span><span class="token punctuation">,</span>
  <span class="token string">"cdrom"</span><span class="token punctuation">,</span>
  <span class="token string">"networkAdapter"</span><span class="token punctuation">,</span>
  <span class="token string">"all"</span>
<span class="token punctuation">]</span>
</code></pre><h3>개별 항목 요청</h3>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>os   <span class="token comment"># OS만 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>cpu  <span class="token comment"># CPU만 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>storage<span class="token punctuation">,</span>network  <span class="token comment"># storage와 network항목을 요청</span>

<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>info<span class="token operator">=</span>all  <span class="token comment"># 모든 항목을 요청 (간단히 /api/system?info 또는 /api/system)</span>
</code></pre><h2>시스템 상태 요청 <code>@0.3.0</code></h2>
<p>서버의 시스템 상태를 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.<br>
<em>@0.7.0에서 cpu 데이터 형식 수정됨</em></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"lastUpdate"</span><span class="token operator">:</span> <span class="token string">"2018-09-15T13:49:12.440+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"cpu"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>                         # 첫번째 <span class="token constant">CPU</span>
      <span class="token string-property property">"temperatureKelvin"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  # <span class="token function">절대온도</span><span class="token punctuation">(</span><span class="token maybe-class-name">Kelvin</span><span class="token punctuation">)</span> 단위
        <span class="token string-property property">"critical"</span><span class="token operator">:</span> <span class="token number">393.2</span><span class="token punctuation">,</span>    # 한계 <span class="token function">온도</span> <span class="token punctuation">(</span>이 온도에 도달하면 시스템을 종료해야 함<span class="token punctuation">)</span>
        <span class="token string-property property">"current"</span><span class="token operator">:</span> <span class="token number">287.2</span>      # 현재 온도
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"usage"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"threads"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">37</span><span class="token punctuation">,</span>                 # 첫번째 <span class="token constant">CPU</span>의 첫번째 쓰레드 사용률
          <span class="token number">19</span><span class="token punctuation">,</span>                 # 첫번째 <span class="token constant">CPU</span>의 두번째 쓰레드 사용률
          <span class="token number">50</span><span class="token punctuation">,</span>
          <span class="token number">6</span><span class="token punctuation">,</span>
          <span class="token number">19</span><span class="token punctuation">,</span>
          <span class="token number">31</span><span class="token punctuation">,</span>
          <span class="token number">31</span><span class="token punctuation">,</span>
          <span class="token number">12</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"total"</span><span class="token operator">:</span> <span class="token number">26</span>           # 첫번째 <span class="token constant">CPU</span> 총 사용률
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>  
  <span class="token string-property property">"memory"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"totalPhysical"</span><span class="token operator">:</span> <span class="token number">12797329408</span><span class="token punctuation">,</span>
    <span class="token string-property property">"freePhysical"</span><span class="token operator">:</span> <span class="token number">4630482944</span><span class="token punctuation">,</span>
    <span class="token string-property property">"totalVirtual"</span><span class="token operator">:</span> <span class="token number">14743486464</span><span class="token punctuation">,</span>
    <span class="token string-property property">"freeVirtual"</span><span class="token operator">:</span> <span class="token number">4666306560</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"disk"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"C:"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"Windows"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalSpace"</span><span class="token operator">:</span> <span class="token number">135794782208</span><span class="token punctuation">,</span>
      <span class="token string-property property">"freeSpace"</span><span class="token operator">:</span> <span class="token number">32854175744</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"D:"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data.ssd"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalSpace"</span><span class="token operator">:</span> <span class="token number">161598140416</span><span class="token punctuation">,</span>
      <span class="token string-property property">"freeSpace"</span><span class="token operator">:</span> <span class="token number">7250055168</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"E:"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeTimePercent"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"readBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"writeBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"fileSystem"</span><span class="token operator">:</span> <span class="token string">"NTFS"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"volumeName"</span><span class="token operator">:</span> <span class="token string">"data.hdd"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalSpace"</span><span class="token operator">:</span> <span class="token number">1000202039296</span><span class="token punctuation">,</span>
      <span class="token string-property property">"freeSpace"</span><span class="token operator">:</span> <span class="token number">199067635712</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"current"</span><span class="token operator">:</span> <span class="token string">"E:\\recData\\"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"storage"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"사용 안함"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"path"</span><span class="token operator">:</span> <span class="token string">"D:\\recData\\"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"usage"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"덮어 쓰기"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"path"</span><span class="token operator">:</span> <span class="token string">"E:\\recData\\"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"usage"</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"network"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Intel[R] Dual Band Wireless-AC 3160"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">650</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recvBytesPerSec"</span><span class="token operator">:</span> <span class="token number">650</span><span class="token punctuation">,</span>
      <span class="token string-property property">"sendBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"curBandwidth"</span><span class="token operator">:</span> <span class="token number">433300000</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Realtek PCIe GBE Family Controller"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"totalBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recvBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"sendBytesPerSec"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"curBandwidth"</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p><code>recording</code> 항목 중 <code>storage</code> 아래 <code>usage</code> 값은 다음 중 하나입니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">-</span><span class="token number">1</span>    <span class="token comment"># 사용 안함</span>
<span class="token number">0</span>     <span class="token comment"># 읽기 전용</span>
<span class="token number">1</span>     <span class="token comment"># 한 번 녹화</span>
<span class="token number">2</span>     <span class="token comment"># 덮어 쓰기</span>
</code></pre><p>또는 아래와 같이 개별 항목을 지정해서 요청할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>supported  <span class="token comment"># 지원하는 항목 목록 요청</span>
</code></pre><p>지원하는 항목 목록 요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"cpu"</span><span class="token punctuation">,</span>
  <span class="token string">"memory"</span><span class="token punctuation">,</span>
  <span class="token string">"disk"</span><span class="token punctuation">,</span>       <span class="token comment">// 마운트된 논리적 디스크(디스크 파티션)을 의미, @0.6.0에 추가됨</span>
  <span class="token string">"recording"</span><span class="token punctuation">,</span>  <span class="token comment">// 녹화용 스토리지 상태, @0.7.0에 추가됨</span>
  <span class="token string">"network"</span><span class="token punctuation">,</span>
  <span class="token string">"all"</span>
<span class="token punctuation">]</span>
</code></pre><h3>개별 항목 요청</h3>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>os   <span class="token comment"># OS만 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>cpu  <span class="token comment"># CPU만 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>disk<span class="token punctuation">,</span>recording<span class="token punctuation">,</span>network  <span class="token comment"># disk, recording, network 항목을 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>health<span class="token operator">=</span>all  <span class="token comment"># 모든 항목을 요청 (간단히 /api/system?health)</span>
</code></pre><h2>HDD S.M.A.R.T. 요청 <code>@0.6.0</code></h2>
<p>서버 각 하드 디스크의 S.M.A.R.T. 정보를 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>hddsmart    <span class="token comment"># 모든 하드 디스크의 S.M.A.R.T. 정보를 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>hddsmart<span class="token operator">=</span><span class="token number">1</span>  <span class="token comment"># 첫번째 하드 디스크의 S.M.A.R.T. 정보를 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>hddsmart<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>  <span class="token comment"># 첫번째와 두번째 하드 디스크의 S.M.A.R.T. 정보를 요청</span>
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token comment">// S.M.A.R.T. 지원 여부 (-1:아직 테스트 안됨, 0:지원안됨, 1:지원)</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"지원"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"model"</span><span class="token operator">:</span> <span class="token string">"SanDisk SD9SB8W512G1122"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"\\\\.\\PHYSICALDRIVE0"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"smart"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"attribute"</span><span class="token operator">:</span> <span class="token string">"Reallocated Sector Count"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"critical"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token string-property property">"raw"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string-property property">"rawHex"</span><span class="token operator">:</span> <span class="token string">"000000000064"</span><span class="token punctuation">,</span>   <span class="token comment">// TS-API@0.9.13에 추가됨 (raw의 16진수 표기)</span>
        <span class="token string-property property">"threshold"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"worst"</span><span class="token operator">:</span> <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"attribute"</span><span class="token operator">:</span> <span class="token string">"Power-On Time Count"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"critical"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token string-property property">"raw"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token string-property property">"rawHex"</span><span class="token operator">:</span> <span class="token string">"000000000064"</span><span class="token punctuation">,</span>   <span class="token comment">// TS-API@0.9.13에 추가됨 (raw의 16진수 표기)</span>
        <span class="token string-property property">"threshold"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"value"</span><span class="token operator">:</span> <span class="token number">1819</span><span class="token punctuation">,</span>
        <span class="token string-property property">"worst"</span><span class="token operator">:</span> <span class="token number">100</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... 중략</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h2>서버 재시작 요청 <code>@0.6.0</code></h2>
<p>관리자 권한을 가진 계정으로 로그인 한 경우, 서버 프로세스를 재시작 시킬 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>restart
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code>  <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"서버가 수 초 내로 다시 시작됩니다."</span>
  <span class="token punctuation">}</span>
</code></pre><p>관리자 권한이 없는 경우에 대해 서버는 HTTP 응답 코드 403 (FORBIDDEN)을 반환합니다.</p>
<h2>시스템 재부팅 요청 <code>@0.6.0</code></h2>
<p>관리자 권한을 가진 계정으로 로그인 한 경우, 서버 시스템을 재부팅 시킬 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>system<span class="token operator">?</span>reboot
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code>  <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"1 분 안에 시스템이 종료된 후 다시 시작됩니다."</span>
  <span class="token punctuation">}</span>
</code></pre><p>관리자 권한이 없는 경우에 대해 서버는 HTTP 응답 코드 403 (FORBIDDEN)을 반환합니다.</p>
<h2>채널 상태 요청 <code>@0.3.0</code></h2>
<p>서버의 각 채널 상태를 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><p>필요한 경우, 아래 매개변수를 사용할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 매개변수 {#매개변수 }</span>
ch        <span class="token comment"># 채널 번호 (여러 채널을 동시에 지정할 경우 쉼표 문자(,)로 구분)</span>
verbose   <span class="token comment"># 상태 코드에 해당하는 메시지 요청</span>
lang      <span class="token comment"># 메시지에 사용될 언어 지정</span>
recordingStatus <span class="token comment"># 현재 녹화 상태  (@0.9.5부터 지원)</span>

<span class="token comment"># 예제 {#예제 }</span>
<span class="token comment"># 3번 채널만 지정 {#3번-채널만-지정 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">3</span>

<span class="token comment"># 1~4번 채널만 지정 {#14번-채널만-지정 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span>

<span class="token comment"># 상태 메시지를 포함 (lang을 명시하지 않으면 서버 측 언어 설정을 따름) {#상태-메시지를-포함-lang을-명시하지-않으면-서버-측-언어-설정을-따름 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># 상태 메시지를 스페인어로 포함 {#상태-메시지를-스페인어로-포함 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>verbose<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>

<span class="token comment"># 모든 채널의 녹화 상태를 요청 {#모든-채널의-녹화-상태를-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>recordingStatus

<span class="token comment"># 1~4번 채널의 녹화 상태를 요청 {#14번-채널의-녹화-상태를-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>status<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">&amp;</span>recordingStatus
</code></pre><p>메시지를 포함하여 요청하면 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"연결됨"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"연결됨"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"연결됨"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"연결됨"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><p>전체 상태 코드 목록은 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">-</span><span class="token number">5</span>    <span class="token comment"># 재부팅 중</span>
<span class="token operator">-</span><span class="token number">4</span>    <span class="token comment"># 재접속 중</span>
<span class="token operator">-</span><span class="token number">3</span>    <span class="token comment"># 접속 중</span>
<span class="token operator">-</span><span class="token number">2</span>    <span class="token comment"># 로딩 중</span>
<span class="token operator">-</span><span class="token number">1</span>    <span class="token comment"># 사용 안함</span>
<span class="token number">0</span>     <span class="token comment"># 응답 없음</span>
<span class="token number">1</span>     <span class="token comment"># 사용함</span>
<span class="token number">2</span>     <span class="token comment"># 동영상 있음</span>
<span class="token number">200</span>   <span class="token comment"># 연결됨</span>
<span class="token number">401</span>   <span class="token comment"># 카메라 로그인 실패</span>
<span class="token number">403</span>   <span class="token comment"># 카메라 차단됨</span>
<span class="token number">404</span>   <span class="token comment"># 네트워크 접속 안됨</span>
<span class="token number">408</span>   <span class="token comment"># 카메라 응답 시간 초과</span>
<span class="token number">410</span>   <span class="token comment"># 영상 입력 없음</span>
<span class="token number">503</span>   <span class="token comment"># 카메라 서비스 오류</span>
<span class="token number">1000</span>  <span class="token comment"># 동영상 재생 완료, TS-API@0.9.7</span>
<span class="token number">1404</span>  <span class="token comment"># 파일 없음, TS-API@0.9.7</span>
</code></pre><p>녹화 상태를 포함하여 요청하면 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"recordingStatus"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// 녹화 장애 발생 시각 (이 값은 장애 상태에만 명시됨)</span>
      <span class="token string-property property">"timestampRecordingFailure"</span><span class="token operator">:</span><span class="token string">"2020-03-25T10:07:09.646+09:00"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><h2>각종 목록 요청</h2>
<p>다음 요청들은 <code>auth=</code>를 사용하여 로그인 정보를 전달하거나 이미 로그인된 세션의 경우는 HTTP 응답 코드 200과 함께 JSON 데이터를 반환하며, 로그인 인증이 되지 않은 경우는 HTTP 응답 코드 401이 반환합니다.</p>
<h3>채널 목록 <code>@0.9.4</code></h3>
<p>사용 중인 채널 목록을 얻기 위해 아래와 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>channel
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token comment">// 채널 번호</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"카메라1"</span><span class="token punctuation">,</span>     <span class="token comment">// 채널 이름</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. 카메라1"</span>  <span class="token comment">// TS-API@0.9.4 이후 추가됨 ("ptzSupported" 항목 삭제됨)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>            <span class="token comment">// 채널 번호</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>          <span class="token comment">// 채널 이름</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH2"</span>  <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h4>스트림 목록 추가하기 <code>@0.9.4</code></h4>
<p>스트림 목록을 함께 얻으려면 <code>staticSrc</code> 매개변수를 추가합니니다.<br>
이 스트림들은 카메라 접속 상태에 따라 가용하지 않을 수도 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>channel<span class="token operator">&amp;</span>staticSrc
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"카메라1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>        
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">360</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">360</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
      <span class="token punctuation">{</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>        
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">360</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 중략</span>
<span class="token punctuation">]</span>
</code></pre><h4>카메라 지원 기능 추가하기 <code>@0.9.4</code></h4>
<p>카메라 지원 기능 목록을 함께 얻으려면 <code>caps</code> 매개변수를 추가합니니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>channel<span class="token operator">&amp;</span>caps
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"카메라1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
      <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH2"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
      <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h3>차량 번호 인식 장치 목록</h3>
<p>사용 중인 차량 번호 인식 장치 목록을 얻기 위해 아래와 같이 요청합니다.<br>
차량 번호 인식 장치 목록에는 차량 번호 인식 장치 연동 기능을 사용하는 경우는 해당 장치들이 포함되고, 차량 번호 인식 기능이 내장된 TS-LPR의 경우는 설정된 차량 번호 인식 영역들이 포함됩니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>lprSrc
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token comment">// 연동된 차량 번호 인식 장치로부터 수신한 정보</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                  <span class="token comment">// 장치 번호</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>         <span class="token comment">// 장치 코드</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>         <span class="token comment">// 장치 이름</span>
    <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token comment">// 트리거 발생 시 연동되는 채널 목록</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">2</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tag"</span><span class="token operator">:</span> <span class="token string">"Normal"</span>           <span class="token comment">// 상태 (Normal: 사용중인 채널, NotUsed: 사용 안하는 채널, ReadOnly: 읽기 전용 채널)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// TS-LPR의 경우 차량 번호 인식 영역에 의해 인식된 정보</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                  <span class="token comment">// 장치 번호</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>          <span class="token comment">// 장치 코드</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>          <span class="token comment">// 장치 이름</span>
    <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token comment">// 트리거 발생 시 연동되는 채널 목록 (추가 연동 채널이 없는 경우 비어있음)</span>
    <span class="token string-property property">"tag"</span><span class="token operator">:</span> <span class="token string">"Normal"</span><span class="token punctuation">,</span>          <span class="token comment">// 상태 (Normal: 사용중인 채널, NotUsed: 사용 안하는 채널, ReadOnly: 읽기 전용 채널)</span>
    <span class="token string-property property">"zone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                 <span class="token comment">// 인식 영역</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token comment">// 영역 번호</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment">// 채널 번호</span>
      <span class="token string-property property">"rect"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 영역 좌표</span>
        <span class="token number">2622</span><span class="token punctuation">,</span> <span class="token number">1499</span><span class="token punctuation">,</span>           <span class="token comment">// 사각형 테두리의 왼쪽 위 좌표 (x0,y0) </span>
        <span class="token number">4297</span><span class="token punctuation">,</span> <span class="token number">4297</span>            <span class="token comment">// 사각형 테두리의 오른쪽 아래 좌표 (x1,y1) </span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"mode"</span><span class="token operator">:</span> <span class="token string">"driving"</span><span class="token punctuation">,</span>      <span class="token comment">// 번호 인식 동작 모드 (driving: 주행 모드, parking: 주차 모드)</span>
      <span class="token string-property property">"disabledOnly"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// 장애인 전용 주차면일 경우 true, 아니면 false</span>
      <span class="token string-property property">"noParkingAllowed"</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 주차 금지 구역일 경우 true, 아니면 false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"parkingLot"</span><span class="token operator">:</span> <span class="token punctuation">{</span>           <span class="token comment">// 연결된 주차장 id (TS-API@0.9.8)</span>
      <span class="token string-property property">"entrance"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>          <span class="token comment">// 주차장 입구 id</span>
      <span class="token string-property property">"exit"</span><span class="token operator">:</span> <span class="token number">2</span>               <span class="token comment">// 주차장 출구 id</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// 여기서,</span>
<span class="token comment">// zone의 rect를 표현하는 좌푯값은 다양한 실제 해상도와 무관하게 영상 위의 위치를</span>
<span class="token comment">// 표현하기 위해 논리적 좌표계 8K(7680x4320)를 기준으로 물리적 좌표계(실제 영상의</span>
<span class="token comment">// 해상도)를 비례식으로 계산한 값을 사용합니다.</span>
<span class="token comment">// 예를 들어, 1920x1080 영상에서 사각형 영역의 좌표가 (480, 270, 1440, 810)일 경우 </span>
<span class="token comment">// 각각 가로 좌표에는 7680/1920을 곱하고, 세로 좌표에는 각각 4320/1080을 곱해서</span>
<span class="token comment">// (1920, 1080, 5760, 3240)으로 표현합니다.</span>
</code></pre><h3>비상 호출 장치 목록 <code>@0.3.0</code></h3>
<p>서버에 등록된 비상 호출 장치 목록을 얻기 위해 아래와 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>emergencyCall
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token comment">// 등록된 비상 호출 장치 목록</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                  <span class="token comment">// 장치 번호</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token string">"0000001"</span><span class="token punctuation">,</span>        <span class="token comment">// 위치 코드</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B1 계단"</span><span class="token punctuation">,</span>        <span class="token comment">// 장치 이름</span>
    <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token comment">// 트리거 발생 시 연동되는 채널 목록</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">2</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><h3>이벤트 로그 종류 목록</h3>
<p>지원하는 이벤트 로그 종류 목록을 얻으려면 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                  <span class="token comment">// 이벤트 로그 유형 번호</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>     <span class="token comment">// 이벤트 로그 유형 이름</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                 <span class="token comment">// 이벤트 로그 코드 목록</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment">// 이벤트 로그 코드 번호</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"시스템 시작"</span>  <span class="token comment">// 이벤트 로그 코드 이름</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"시스템 종료"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... 중략</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"사용자 정의 이벤트"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><p>이처럼 이벤트 로그 종류 목록은 유형별로 코드가 정의되어 있습니다.</p>
<p>언어를 지정하지 않으면 기본값으로 서버의 언어 설정에 따라 결과를 반환합니다.<br>
필요한 경우, 아래 매개변수를 사용하여 언어를 변경할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 매개변수 {#매개변수-1 }</span>
lang      <span class="token comment"># 언어</span>

<span class="token comment"># 예제 {#예제-1 }</span>
<span class="token comment"># 영어로 요청한 경우 {#영어로-요청한-경우 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType<span class="token operator">&amp;</span>lang<span class="token operator">=</span>en<span class="token operator">-</span><span class="token constant">US</span>
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"System log"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"System startup"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"System shutdown"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Abnormal shutdown"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... 중략</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"User-defined event"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h3>주차장 목록 <code>@0.9.8</code></h3>
<p>서버에 등록된 주차장 목록을 얻으려면 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>parkingLot
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"counter:"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B1 주차장"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span>     <span class="token comment">// 주차 구역 (입출차 카운터)</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>           <span class="token comment">// 현재 입차 수 </span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>       <span class="token comment">// 최대 주차 수</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B2 주차장"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span>     <span class="token comment">// 주차 구역 (입출차 카운터)</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>          <span class="token comment">// 현재 입차 수 </span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>       <span class="token comment">// 최대 주차 수</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"group"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"지하주차장"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"group"</span><span class="token punctuation">,</span>      <span class="token comment">// 그룹 (주차 구역의 집합)</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>          <span class="token comment">// 현재 입차 수 합계</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>       <span class="token comment">// 최대 주차 수 합계</span>
      <span class="token string-property property">"member"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           <span class="token comment">// 그룹 멤버 id</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token number">2</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>수신 가능한 실시간 이벤트 목록 <code>@0.9.6</code></h3>
<p>서버에서 제공하는 실시간 이벤트 종류를 얻으려면 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>realtimeEvent
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string">"emergencyCall"</span><span class="token punctuation">,</span>
  <span class="token string">"LPR"</span><span class="token punctuation">,</span>
  <span class="token string">"systemEvent"</span><span class="token punctuation">,</span>
  <span class="token string">"motionChanges"</span><span class="token punctuation">,</span>
  <span class="token string">"recordingStatus"</span><span class="token punctuation">,</span>
  <span class="token string">"parkingCount"</span><span class="token punctuation">,</span>
  <span class="token string">"packing"</span><span class="token punctuation">,</span>
  <span class="token string">"object"</span>
<span class="token punctuation">]</span>
</code></pre><h3>지원하는 객체 목록 <code>@0.9.11</code></h3>
<p>서버에서 지원하는 객체 종류를 얻으려면 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>objectType
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"face"</span><span class="token punctuation">,</span>
  <span class="token string">"human"</span><span class="token punctuation">,</span>
  <span class="token string">"vehicle"</span>
<span class="token punctuation">]</span>
</code></pre><h3>지원하는 객체별 속성 목록 <code>@0.9.11</code></h3>
<p>서버에서 지원하는 객체별 속성을 얻으려면 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>objectAttr<span class="token operator">&amp;</span>type<span class="token operator">=</span>face  <span class="token comment"># 얼굴 객체의 속성</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>objectAttr            <span class="token comment"># type을 명시하지 않으면 모든 객체별 속성</span>
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<p>얼굴 객체의 속성을 요청한 경우:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"young"</span><span class="token punctuation">,</span>
    <span class="token string">"adult"</span><span class="token punctuation">,</span>
    <span class="token string">"middle"</span><span class="token punctuation">,</span>
    <span class="token string">"senior"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"female"</span><span class="token punctuation">,</span>
    <span class="token string">"male"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"glasses"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"hat"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"mask"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>모든 객체의 속성을 요청한 경우:</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"face"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"young"</span><span class="token punctuation">,</span>
      <span class="token string">"adult"</span><span class="token punctuation">,</span>
      <span class="token string">"middle"</span><span class="token punctuation">,</span>
      <span class="token string">"senior"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"human"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"bag"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token boolean">false</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token comment">// ... 중략</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"vehicle"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"vehicleType"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"car"</span><span class="token punctuation">,</span>
      <span class="token string">"truck"</span><span class="token punctuation">,</span>
      <span class="token string">"bus"</span><span class="token punctuation">,</span>
      <span class="token string">"bicycle"</span><span class="token punctuation">,</span>
      <span class="token string">"motorcycle"</span><span class="token punctuation">,</span>
      <span class="token string">"train"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h2>저장 데이터 검색</h2>
<p>녹화데이터를 검색하기 위해서는 <code>/api/find</code>를 사용합니다.</p>
<h3>녹화 영상이 있는 날짜 검색</h3>
<p>녹화된 영상이 있는 날짜 목록을 얻기 위해 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays      <span class="token operator">/</span><span class="token operator">/</span> 녹화된 영상이 있는 모든 날짜를 요청
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-01-01T00:00:00+09:00"</span><span class="token punctuation">,</span>     <span class="token comment">// 처음 날짜, 시각 (서버의 로컬 타임)</span>
  <span class="token string-property property">"timeEnd"</span><span class="token operator">:</span> <span class="token string">"2018-02-28T23:59:59.999+09:00"</span><span class="token punctuation">,</span>   <span class="token comment">//  마지막 날짜, 시각 (서버의 로컬 타임)</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
      <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"days"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// YYYY-MM 형식으로 데이터가 존재하는 날짜를 배열로 표시</span>
        <span class="token number">8</span><span class="token punctuation">,</span>        <span class="token comment">// 2018-1-18  녹화 데이터 있음</span>
        <span class="token number">23</span><span class="token punctuation">,</span>       <span class="token comment">// 2018-1-23  녹화 데이터 있음</span>
        <span class="token number">24</span>        <span class="token comment">// 2018-1-24  녹화 데이터 있음</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
      <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"days"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token number">14</span><span class="token punctuation">,</span>
        <span class="token number">19</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>아래와 같은 매개변수를 추가하여 특정 조건에 해당하는 결과를 요청할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 매개변수 {#매개변수-2 }</span>
ch          <span class="token comment"># 특정 채널이 녹화된 날짜 목록 </span>
            <span class="token comment"># (여러 채널은 쉼표를 사용하여 나열)</span>
timeBegin   <span class="token comment"># 특정 날짜, 시각 이후 녹화된 날짜 목록</span>
timeEnd     <span class="token comment"># 특정 날짜, 시각 이전 녹화된 날짜 목록</span>
            <span class="token comment"># (UTC 타임으로 요청하면 UTC를 기준으로한 날짜가 반환되며, </span>
            <span class="token comment"># 그렇지 않으면 서버의 로컬 타임을 기준으로하는 날짜가 반환됨)</span>

<span class="token comment"># 예제 {#예제-2 }</span>
<span class="token comment"># 1번 채널이 녹화된 날짜 목록 요청 {#1번-채널이-녹화된-날짜-목록-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 1,2,3번 채널이 녹화된 날짜 목록 요청 {#123번-채널이-녹화된-날짜-목록-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>

<span class="token comment"># 2018년 2월 (2018-02-01T00:00:00+09:00) 이후 녹화된 날짜 목록 {#2018년-2월-2018-02-01t0000000900-이후-녹화된-날짜-목록 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 2018년 1월 중에 녹화된 날짜 목록 {#2018년-1월-중에-녹화된-날짜-목록 }</span>
<span class="token comment"># (2018-01-01T00:00:00+09:00 ~ 2018-01-31T23:59:59.999+09:00) {#2018-01-01t0000000900--2018-01-31t2359599990900 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 2018년 1번 채널이 1월 중에 녹화된 날짜 목록 {#2018년-1번-채널이-1월-중에-녹화된-날짜-목록 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00
</code></pre><p><code>ch</code>, <code>timeBegin</code> 또는 <code>timeEnd</code>와 같은 매개변수를 사용하여 조건을 지정한 경우는 아래와 같이 요청받은 시간을 포함하여 결과가 반환됩니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-01-01T00:00:00+09:00"</span><span class="token punctuation">,</span>     <span class="token comment">// 처음 날짜, 시각 (서버의 로컬 타임)</span>
  <span class="token string-property property">"timeEnd"</span><span class="token operator">:</span> <span class="token string">"2018-01-31T23:59:59.999+09:00"</span><span class="token punctuation">,</span>   <span class="token comment">//  마지막 날짜, 시각 (서버의 로컬 타임)</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>   <span class="token comment">// 채널 번호</span>
      <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"days"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">8</span><span class="token punctuation">,</span>
            <span class="token number">23</span><span class="token punctuation">,</span>
            <span class="token number">24</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// ... 중략</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>녹화 영상이 있는 분 단위 검색 <code>@0.2.0</code></h3>
<p>녹화된 영상이 있는 분 단위 목록을 얻기 위해 다음과 같이 요청합니다.<br>
분 단위 검색 경우는 날짜 검색과 달리 응답 데이터량이 클 수 있으므로 전체를 모두 요청할 수 없으며 반드시 시간을 명시해야 합니다.<br>
timeBegin 또는 timeEnd 중 하나만 지정하면 저정한 날짜로 부터 하루 동안의 검색 결과를 반환합니다. 지정할 수 있는 날짜 범위는 최대 3일로 제한됩니다.<br>
사용할 수 있는 매개변수들은 <code>/api/find?what=recDays</code>와 동일합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 로컬 타임을 사용하는 경우 {#로컬-타임을-사용하는-경우 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recMinutes<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">25</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">02</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># UTC 타임을 사용하는 경우 {#utc-타임을-사용하는-경우 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recMinutes<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">25</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00Z<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">26</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00Z
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-05-25T00:00:00.000+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeEnd"</span><span class="token operator">:</span> <span class="token string">"2018-05-26T00:00:00.000+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">48</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">36</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"year"</span><span class="token operator">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
          <span class="token string-property property">"month"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token string-property property">"day"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
          <span class="token string-property property">"hour"</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
          <span class="token string-property property">"minutes"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>이벤트 로그 검색</h3>
<p>서버에 기록된 이벤트 로그를 검색하기 위해서는 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"totalCount"</span><span class="token operator">:</span> <span class="token number">513</span><span class="token punctuation">,</span>    <span class="token comment">// 서버에 기록된 총 이벤트 로그 개수</span>
  <span class="token string-property property">"at"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>              <span class="token comment">// 데이터 오프셋 표시 (0이므로 첫 번째 위치의 데이터를 의미함)</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// 이벤트 로그 데이터 목록</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">518</span><span class="token punctuation">,</span>                        <span class="token comment">// 이벤트 로그 번호</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token comment">// 이벤트 로그 유형 번호</span>
      <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>         <span class="token comment">// 이벤트 로그 유형 이름</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>                       <span class="token comment">// 이벤트 로그 코드 번호</span>
      <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"저장 장치 준비 완료"</span><span class="token punctuation">,</span>  <span class="token comment">// 이벤트 로그 코드 이름</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T18:24:26.002+09:00"</span> <span class="token comment">// 발생 시각 (일정 기간 연속적으로 발생한 이벤트는 배열의 두 번 째 항목에 종료 시각이 포함됨)</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                            <span class="token comment">// 이벤트 로그 코드별 추가 정보</span>
        <span class="token string-property property">"storagePath"</span><span class="token operator">:</span> <span class="token string">"E%3A%5CrecData%5C"</span><span class="token punctuation">,</span> <span class="token comment">// 녹화용으로 사용할 스토리지 경로</span>
        <span class="token string-property property">"statusCode"</span><span class="token operator">:</span> <span class="token number">0</span>                     <span class="token comment">// 스토리지 상태 코드</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">517</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"개인 정보"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"로그인"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T18:24:20.249+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"autoLogin"</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"admin: 자동 로그인"</span> <span class="token comment">// 옵션</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">469</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
      <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"라이센스 적용"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T12:11:08.680+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
        <span class="token string-property property">"extension"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token number">0</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"mediaType"</span><span class="token operator">:</span> <span class="token string">"USB dongle"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"정품 라이센스"</span>  <span class="token comment">// 옵션</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>서버에 기록된 이벤트 로그는 대량의 데이터이므로 모두 한꺼번에 전송하기 적합하지 않습니다. 이 때문에 개수를 명시하지 않을 경우 가장 최근 것부터 최대 50개까지만 로그 항목을 반환합니다.<br>
<code>totalCount</code>, <code>at</code> 그리고 다음에 언급할 <code>maxCount</code>를 사용하여 검색 결과 페이지 단위로 표현할 수 있습니다.</p>
<p>언어를 지정하지 않으면 기본값으로 서버의 언어 설정에 따라 결과를 반환합니다.<br>
필요한 경우 아래와 같은 매개변수들을 하나 또는 여러 개를 조합하여 검색 조건들을 지정할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 매개변수 {#매개변수-3 }</span>
lang        <span class="token comment"># 언어</span>
timeBegin   <span class="token comment"># 특정 날짜, 시각 이후에 기록된 이벤트 목록</span>
timeEnd     <span class="token comment"># 특정 날짜, 시각 이전에 기록된 이벤트 목록</span>
at          <span class="token comment"># 데이터 오프셋</span>
maxCount    <span class="token comment"># 최대 항목 개수</span>
sort        <span class="token comment"># 정렬 방식 (desc: 최신 데이터 순(기본값), asc: 오래된 데이터 순)</span>
type        <span class="token comment"># 이벤트 로그 유형</span>

<span class="token comment"># 예제 {#예제-3 }</span>
<span class="token comment"># 아랍어로 요청한 경우 {#아랍어로-요청한-경우 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ar<span class="token operator">-</span><span class="token constant">AE</span>

<span class="token comment"># 2018년 1월 동안 기록된 이벤트 로그 요청 {#2018년-1월-동안-기록된-이벤트-로그-요청 }</span>
<span class="token comment"># (2018-01-01T00:00:00+09:00 ~ 2018-01-31T23:59:59.999+09:00) {#2018-01-01t0000000900--2018-01-31t2359599990900-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 검색 결과의 10번째 항목부터 20개를 요청 {#검색-결과의-10번째-항목부터-20개를-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment"># 오래된 데이터 순(오름차순)으로 정렬하여 요청 {#오래된-데이터-순오름차순으로-정렬하여-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc

<span class="token comment"># 시스템 로그 유형 id 목록 요청 {#시스템-로그-유형-id-목록-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType

<span class="token comment"># 이벤트 로그 유형 중 시스템 로그(id: 0)만 요청 {#이벤트-로그-유형-중-시스템-로그id-0만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>type<span class="token operator">=</span><span class="token number">0</span>

</code></pre><h3>차량 번호 로그 검색</h3>
<p>차량 번호 인식 기능을 사용하는 경우 인식된 차량 번호는 해당 동영상과 함께 저장됩니다. 차량 번호 로그를 조회하기 위해서는 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"totalCount"</span><span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>   <span class="token comment">// 서버에 기록된 전체 차량 번호 로그 개수</span>
  <span class="token string-property property">"at"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>            <span class="token comment">// 데이터 오프셋 표시 (0이므로 첫 번째 위치의 데이터를 의미함)</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           <span class="token comment">// 차량 번호 로그 데이터 목록</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>                           <span class="token comment">// 차량 번호 로그 번호</span>
      <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"13다5939"</span><span class="token punctuation">,</span>              <span class="token comment">// 차량 번호 텍스트</span>
      <span class="token string-property property">"score"</span><span class="token operator">:</span><span class="token number">98</span><span class="token punctuation">,</span>                         <span class="token comment">// 인식 점수 (100점 만점): 차번인식 엔진에 따라 지원하지 않을 수 있음 (항목 없을 수 있음)</span>
      <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                            <span class="token comment">// 번호판 이미지 영역</span>
        <span class="token string-property property">"offset"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">943</span><span class="token punctuation">,</span><span class="token number">635</span><span class="token punctuation">]</span><span class="token punctuation">,</span>              <span class="token comment">// 좌상단 좌표</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">132</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">]</span>                  <span class="token comment">// 번호판 이미지 크기</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                          <span class="token comment">// 동일 번호판이 연속으로 저장된 경우를 위해 배열로 표현함 (항목 없을 수 있음)</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732385942440.plate.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732386146439.plate.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732386199445.plate.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39589.161142.1576732386510078.plate.jpg"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                      <span class="token comment">// 차량 번호 인식 날짜, 시각</span>
        <span class="token string">"2018-02-21T09:07:29.000+09:00"</span><span class="token punctuation">,</span>  <span class="token comment">// 시작 시점</span>
        <span class="token string">"2018-02-21T09:07:34.057+09:00"</span>   <span class="token comment">// 종료 시점</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>                 <span class="token comment">// 차량 번호 인식 장치 (또는 영역) 코드</span>
      <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"정문 입구"</span><span class="token punctuation">,</span>              <span class="token comment">// 차량 번호 인식 장치 (또는 영역) 이름</span>
      <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// 인식된 시점의 영상 (연동 채널이 설정된 경우 여러 개가 될 수 있음)</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=2&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=3&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=4&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">63</span><span class="token punctuation">,</span>
      <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"02루2841"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"score"</span><span class="token operator">:</span><span class="token number">95</span><span class="token punctuation">,</span>
      <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"offset"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">753</span><span class="token punctuation">,</span><span class="token number">578</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"http://192.168.0.100/storage/e/0/0/0/39/39588.161141.1576732012342440.plate.jpg"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-21T08:00:00.915+09:00"</span><span class="token punctuation">,</span>
        <span class="token string">"2018-02-21T08:00:01.714+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=2&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=3&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=4&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
      <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"64다3736"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"offset"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">832</span><span class="token punctuation">,</span><span class="token number">380</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">122</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-20T18:12:05.828+09:00"</span><span class="token punctuation">,</span>
        <span class="token string">"2018-02-20T18:12:06.253+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828%2B09%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>서버에 기록된 차량 번호 로그는 대량의 데이터이므로 모두 한꺼번에 전송하기 적합하지 않습니다. 이 때문에 개수를 명시하지 않을 경우 가장 최근 것부터 최대 50개까지만 로그 항목을 반환합니다.<br>
totalCount, at 그리고 다음에 언급할 maxCount를 사용하여 검색 결과를 페이지 단위로 표현할 수 있습니다.</p>
<p>언어를 지정하지 않으면 기본값으로 서버의 언어 설정에 따라 결과를 반환합니다.<br>
필요한 경우 아래와 같은 매개변수들을 하나 또는 여러 개를 조합하여 검색 조건들을 지정할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 매개변수 {#매개변수-4 }</span>
keyword     <span class="token comment"># 검색할 차량 번호 (또는 일부 문자)</span>
lang        <span class="token comment"># 언어</span>
timeBegin   <span class="token comment"># 특정 날짜, 시각 이후에 기록된 차량 번호 목록</span>
timeEnd     <span class="token comment"># 특정 날짜, 시각 이전에 기록된 차량 번호 목록</span>
at          <span class="token comment"># 데이터 오프셋</span>
maxCount    <span class="token comment"># 최대 항목 개수</span>
sort        <span class="token comment"># 정렬 방식 (desc: 최신 데이터 순(기본값), asc: 오래된 데이터 순)</span>
src         <span class="token comment"># 차량 번호 인식 장치 id (여러 장치를 동시에 지정할 경우 쉼표 문자(,)로 구분)</span>

<span class="token comment"># 예제 {#예제-4 }</span>
<span class="token comment"># "12"가 포함된 차량 번호를 검색 (키워드 검색) {#12가-포함된-차량-번호를-검색-키워드-검색 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">12</span>

<span class="token comment"># 아랍어로 요청한 경우 {#아랍어로-요청한-경우-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ar<span class="token operator">-</span><span class="token constant">AE</span>

<span class="token comment"># 2018년 1월 동안 기록된 이벤트 로그 요청 {#2018년-1월-동안-기록된-이벤트-로그-요청-1 }</span>
<span class="token comment"># (2018-01-01T00:00:00+09:00 ~ 2018-01-31T23:59:59.999+09:00) {#2018-01-01t0000000900--2018-01-31t2359599990900-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 검색 결과의 10번째 항목부터 20개를 요청 {#검색-결과의-10번째-항목부터-20개를-요청-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment"># 오래된 데이터 순(오름차순)으로 정렬하여 요청 {#오래된-데이터-순오름차순으로-정렬하여-요청-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc

<span class="token comment"># 차량 번호 인식 장치 1, 2를 지정해서 검색 {#차량-번호-인식-장치-1-2를-지정해서-검색 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>src<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>
</code></pre><p>검색된 결과 데이터에 있는 동영상을 표시하기 위해서는 <a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">녹화 영상 표시</a>에서 사용했던 방법을 쓰면 됩니다.</p>
<p>예를 들어, 검색 결과 중 동영상을 표시하고자 하는 항목이 다음과 같다면</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code>  <span class="token comment">// ... 중략</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"64다3736"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"2018-02-20T18:12:05.828+09:00"</span><span class="token punctuation">,</span>
      <span class="token string">"2018-02-20T18:12:06.253+09:00"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"srcCode"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"srcName"</span><span class="token operator">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"vod"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"videoSrc"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828%2B09%3A00"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ... 중략</span>
</code></pre><p>여기서 <code>"vod"</code> 아래 <code>"videoSrc"</code>의 값에 해당하는 <code>http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828%2B09%3A00</code>을 사용하여 영상을 표시할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 세션 인증된 경우 그대로 사용 {#세션-인증된-경우-그대로-사용 }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token number">.0</span><span class="token number">.100</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">%</span><span class="token number">2</span>D02<span class="token operator">%</span><span class="token number">2</span>D20T18<span class="token operator">%</span><span class="token number">3</span>A12<span class="token operator">%</span><span class="token number">3</span>A05<span class="token operator">%</span><span class="token number">2E828</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 세션 인증된 안된 경우는 auth 매개변수를 추가 {#세션-인증된-안된-경우는-auth-매개변수를-추가 }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token number">.0</span><span class="token number">.100</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">%</span><span class="token number">2</span>D02<span class="token operator">%</span><span class="token number">2</span>D20T18<span class="token operator">%</span><span class="token number">3</span>A12<span class="token operator">%</span><span class="token number">3</span>A05<span class="token operator">%</span><span class="token number">2E828</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGV2MTpkZXZlbG9wZXIhMTIzNA<span class="token operator">==</span>
</code></pre><h3>차량 번호 로그 내보내기 <code>@0.9.18</code></h3>
<p>검색한 차량 번호 로그를 엑셀 파일 변환하여 다운로드 받을 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>export<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre><p>차량 번호 로그 검색에 <code>export=true</code> 파라메터를 추가해서 요청하면<br>
서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"http://host/download/2018-01-01T00.00.00.xls"</span><span class="token punctuation">,</span>   <span class="token comment">// 엑셀 파일 다운로드 주소</span>
  <span class="token string">"http://host/download/2018-01-01T00.00.00(2).xls"</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><h3>유사 차량 번호 검색 <code>@0.2.0</code></h3>
<p>유사한 차량 번호가 존재하는지 확인하기 위해 사용할 수 있습니다. 인식된 차량 번호 로그에서 유사한 차량 번호를 조회하기 위해서는 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>similarCarNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">1234</span>

<span class="token comment"># 매개변수 {#매개변수-5 }</span>
keyword     <span class="token comment"># 검색할 차량 번호 (또는 일부 문자)</span>
maxCount    <span class="token comment"># 최대 항목 개수</span>

<span class="token comment"># 예제 {#예제-5 }</span>
<span class="token comment"># 최대 10개까지 결과를 요청 {#최대-10개까지-결과를-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>similarCarNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">1234</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">10</span>
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token string">"11가1234"</span><span class="token punctuation">,</span>
  <span class="token string">"12바1234"</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><h3>객체 검색 <code>@0.9.11</code></h3>
<p>객체 감지 기능을 사용하는 경우 감지된 객체들(<code>face</code>, <code>human</code>, <code>vehicle</code>)은 해당 동영상과 함께 저장됩니다. 객체 로그를 조회하기 위해서는 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"totalCount"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token string-property property">"at"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:58:15.819+09:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # 채널 번호
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">837</span><span class="token punctuation">,</span>            # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 같으면 동일 객체로 구분함<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"face"</span><span class="token punctuation">,</span>          # 객체 <span class="token function">종류</span> <span class="token punctuation">(</span>얼굴<span class="token punctuation">)</span>
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">82.59</span>      # <span class="token function">정확도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          # 객체 속성
        <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"female"</span><span class="token punctuation">,</span>    # <span class="token function">성별</span> <span class="token punctuation">(</span>여자<span class="token punctuation">)</span>
        <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token string">"middle"</span><span class="token punctuation">,</span>       # <span class="token function">나이</span> <span class="token punctuation">(</span>중년<span class="token punctuation">)</span>
        <span class="token string-property property">"glasses"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       # <span class="token function">안경</span> <span class="token punctuation">(</span>착용<span class="token punctuation">)</span>
        <span class="token string-property property">"mask"</span><span class="token operator">:</span> <span class="token boolean">false</span>          # <span class="token function">마스크</span> <span class="token punctuation">(</span>미착용<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673911/7673911.4412659.1590386295819221.object._c1_t2_s392x504.jpg"</span> # 이미지 주소
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:58:14.449+09:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # 채널 번호
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">842</span><span class="token punctuation">,</span>            # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 같으면 동일 객체로 구분함<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"face"</span><span class="token punctuation">,</span>          # 객체 <span class="token function">종류</span> <span class="token punctuation">(</span>얼굴<span class="token punctuation">)</span>
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">90.09</span><span class="token punctuation">,</span>     # <span class="token function">정확도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          # 객체 속성
        <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"male"</span><span class="token punctuation">,</span>      # <span class="token function">성별</span> <span class="token punctuation">(</span>남자<span class="token punctuation">)</span>
        <span class="token string-property property">"hat"</span><span class="token operator">:</span> <span class="token boolean">true</span>            # <span class="token function">모자</span> <span class="token punctuation">(</span>착용<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673911/7673911.4412660.1590386294449281.object._c1_t2_s744x624.jpg"</span> # 이미지 주소
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:58:14.185+09:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # 채널 번호
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">834</span><span class="token punctuation">,</span>            # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 같으면 동일 객체로 구분함<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"human"</span><span class="token punctuation">,</span>         # 객체 <span class="token function">종류</span> <span class="token punctuation">(</span>사람<span class="token punctuation">)</span>
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">62.20</span><span class="token punctuation">,</span>     # <span class="token function">정확도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          # 객체 속성
        <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"male"</span><span class="token punctuation">,</span>      # <span class="token function">성별</span> <span class="token punctuation">(</span>남자<span class="token punctuation">)</span>
        <span class="token string-property property">"clothes"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           # 옷
          <span class="token punctuation">{</span>
            <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"tops"</span><span class="token punctuation">,</span>    # 상의
            <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span>  # 소매 길이
            <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        # 색상
              <span class="token string">"red"</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"bottoms"</span><span class="token punctuation">,</span> # 하의
            <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span>  # 바지 길이
            <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        # 색상
              <span class="token string">"red"</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673911/7673911.4412658.1590386294185653.object._c1_t1_s296x464.jpg"</span> # 이미지 주소
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:55:21.557+09:00"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>               # 채널 번호
      <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">748</span><span class="token punctuation">,</span>            # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 같으면 동일 객체로 구분함<span class="token punctuation">)</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"vehicle"</span><span class="token punctuation">,</span>       # 객체 <span class="token function">종류</span> <span class="token punctuation">(</span>차량<span class="token punctuation">)</span>
      <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">95.80</span><span class="token punctuation">,</span>     # <span class="token function">정확도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
      <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>          # 객체 속성
        <span class="token string-property property">"vehicleType"</span><span class="token operator">:</span> <span class="token string">"Car"</span><span class="token punctuation">,</span>  # 차량 <span class="token function">종류</span> <span class="token punctuation">(</span>승용차<span class="token punctuation">)</span>
        <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>            # 색상
          <span class="token string">"gray"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673909/7673909.4412630.1590386121557955.object._c1_t3_s440x312.jpg"</span> # 이미지 주소
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>검색 결과의 <code>data</code> 항목의 내용은 <a href="#%EA%B0%9D%EC%B2%B4-%EA%B0%90%EC%A7%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8-0911">객체 감지 이벤트 <code>@0.9.11</code></a>의 내용과 동일합니다.</p>
<p>또한 아래와 같이 각 객체별 속성을 지정하여 조건 검색할 수 있습니다.</p>
<h4>공통 매개변수</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>lang        <span class="token comment"># 언어</span>
timeBegin   <span class="token comment"># 특정 날짜, 시각 이후에 기록된 객체 목록</span>
timeEnd     <span class="token comment"># 특정 날짜, 시각 이전에 기록된 객체 목록</span>
ch          <span class="token comment"># 채널 번호, 콤마(,) 사용해서 복수 표기 가능</span>
objectType  <span class="token comment"># 객체 종류 (face, human, vehicle 중 하나, 지정하지 않으면 모든 종류의 객체를 의미함)</span>
at          <span class="token comment"># 데이터 오프셋</span>
maxCount    <span class="token comment"># 최대 항목 개수</span>
sort        <span class="token comment"># 정렬 방식 (desc: 최신 데이터 순(기본값), asc: 오래된 데이터 순)</span>


<span class="token comment"># 2020년 1월 동안 저장된 객체 요청 {#2020년-1월-동안-저장된-객체-요청 }</span>
<span class="token comment"># (2020-01-01T00:00:00+09:00 ~ 2020-01-31T23:59:59.999+09:00) {#2020-01-01t0000000900--2020-01-31t2359599990900 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 1, 2번 채널의 객체만 요청 {#1-2번-채널의-객체만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>

<span class="token comment"># face 객체만 요청 {#face-객체만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face

<span class="token comment"># 검색 결과의 10번째 항목부터 20개를 요청 {#검색-결과의-10번째-항목부터-20개를-요청-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment"># 오래된 데이터 순(오름차순)으로 정렬하여 요청 {#오래된-데이터-순오름차순으로-정렬하여-요청-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc
</code></pre><h4>face용 매개변수</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>gender       <span class="token comment"># 성별 지정 (male, female 중 하나)</span>
age          <span class="token comment"># 나이 구분 (young, adult, middle, senior 중 하나)</span>
hat          <span class="token comment"># 모자 착용 여부 (true, false 중 하나, 또는 0, 1 중 하나)</span>
glasses      <span class="token comment"># 안경 착용 여부 (true, false 중 하나, 또는 0, 1 중 하나)</span>
mask         <span class="token comment"># 마스크 착용 여부 (true, false 중 하나, 또는 0, 1 중 하나)</span>

<span class="token comment"># 남자만 요청 {#남자만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>gender<span class="token operator">=</span>male

<span class="token comment"># 성인만 요청 {#성인만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>age<span class="token operator">=</span>adult

<span class="token comment"># 중년 여자만 요청 {#중년-여자만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>gender<span class="token operator">=</span>female<span class="token operator">&amp;</span>age<span class="token operator">=</span>middle

<span class="token comment"># 안경 쓴 사람만 요청 {#안경-쓴-사람만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>glasses<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># 안경 쓰고 모자 쓴 사람만 요청 {#안경-쓰고-모자-쓴-사람만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>glasses<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>hat<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 마스크 안 쓴 사람만 요청 {#마스크-안-쓴-사람만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>mask<span class="token operator">=</span><span class="token boolean">false</span>

<span class="token comment"># 안경 쓰고 마스크 안 쓴 사람만 요청 {#안경-쓰고-마스크-안-쓴-사람만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>glasses<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>mask<span class="token operator">=</span><span class="token boolean">false</span>
</code></pre><h4>human용 매개변수</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>gender        <span class="token comment"># 성별 지정 (male, female 중 하나)</span>
hat           <span class="token comment"># 모자 착용 여부 (true, false 중 하나, 또는 0, 1 중 하나)</span>
bag           <span class="token comment"># 가방 소지 여부 (true, false 중 하나, 또는 0, 1 중 하나)</span>
topClothes    <span class="token comment"># 상의 길이 및 색상을 콤마(,)로 구분해서 복수 지정</span>
              <span class="token comment"># 길이 (short, long 중 하나)</span>
              <span class="token comment"># 색상 (brown, black, red, orange, yellow, green, cyan, blue, purple, magenta, gray, pink, beige, white, other 중 복수 지정 가능)</span>
bottomClothes <span class="token comment"># 하의 색상 지정 (상동)</span>

<span class="token comment"># 여자만 요청 {#여자만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>gender<span class="token operator">=</span>female

<span class="token comment"># 가방 든 사람만 요청 {#가방-든-사람만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>bag<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># 모자 쓰고 가방 든 사람만 요청 {#모자-쓰고-가방-든-사람만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>hat<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>bag<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># 반팔 상의를 입은 사람 {#반팔-상의를-입은-사람 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>short

<span class="token comment"># 노란색 상의를 입은 사람 {#노란색-상의를-입은-사람 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>yellow

<span class="token comment"># 빨강과 파랑색 상의를 입은 사람 {#빨강과-파랑색-상의를-입은-사람 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>red<span class="token punctuation">,</span>blue

<span class="token comment"># 짧은 하의를 입은 사람 {#짧은-하의를-입은-사람 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>bottomClothes<span class="token operator">=</span>short

<span class="token comment"># 상하의 모두 검정색을 입은 사람 {#상하의-모두-검정색을-입은-사람 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>black<span class="token operator">&amp;</span>bottomClothes<span class="token operator">=</span>black

<span class="token comment"># 모자 쓰고 가방 들고 흰색 상의를 입은 남자 {#모자-쓰고-가방-들고-흰색-상의를-입은-남자 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>human<span class="token operator">&amp;</span>hat<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>bag<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>topClothes<span class="token operator">=</span>white<span class="token operator">&amp;</span>gender<span class="token operator">=</span>male
</code></pre><h4>vehicle용 매개변수</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>vehicleType  <span class="token comment"># 차량 종류와 색상을 콤마(,)로 구분 표기</span>
             <span class="token comment"># 차량 종류 (car, truck, bus, bicycle, motorcycle, train 중 하나) </span>
             <span class="token comment"># 차량 색상 (brown, black, red, orange, yellow, green, cyan, blue, purple, magenta, gray, pink, beige, white, other 중 복수 지정 가능)</span>

<span class="token comment"># 버스만 요청 {#버스만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>vehicle<span class="token operator">&amp;</span>vehicleType<span class="token operator">=</span>bus

<span class="token comment"># 노란색 승용차만 요청 {#노란색-승용차만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>vehicle<span class="token operator">&amp;</span>vehicleType<span class="token operator">=</span>car<span class="token punctuation">,</span>yellow
</code></pre><h3>얼굴 검색 <code>@0.9.6</code></h3>
<p>얼굴 사진으로 닮은 얼굴은 찾을 수 있습니다.</p>
<p>사진 이미지를 전송하기 위해 <code>HTTP POST</code> 방식으로 요청합니다.<br>
CGI parameter로 검색 조건을 설정하고 이미지만 POST data로 전송합니다.<br>
이미지 파일 형식은 <code>jpg</code> (<code>Content-Type=image/jpeg</code>), <code>png</code> (<code>Content-Type=image/png</code>)를 지원합니다.</p>
<p>얼굴</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>lang        <span class="token comment"># 언어</span>
timeBegin   <span class="token comment"># 특정 날짜, 시각 이후에 기록된 얼굴</span>
timeEnd     <span class="token comment"># 특정 날짜, 시각 이전에 기록된 얼굴</span>
ch          <span class="token comment"># 채널 번호, 콤마(,) 사용해서 복수 표기 가능</span>
threshold   <span class="token comment"># 닮은 정도 (1 ~ 100 사이의 퍼센트로 표기)</span>

<span class="token comment"># 2020년 1월 동안 저장된 얼굴에서 검색 {#2020년-1월-동안-저장된-얼굴에서-검색 }</span>
<span class="token comment"># (2020-01-01T00:00:00+09:00 ~ 2020-01-31T23:59:59.999+09:00) {#2020-01-01t0000000900--2020-01-31t2359599990900-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>searchFace<span class="token operator">?</span>timeBegin<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">31</span>T23<span class="token operator">%</span><span class="token number">3</span>A59<span class="token operator">%</span><span class="token number">3</span>A59<span class="token punctuation">.</span><span class="token number">999</span><span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 1, 2번 채널의 얼굴에서 검색 {#1-2번-채널의-얼굴에서-검색 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>searchFace<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>

<span class="token comment"># 95% 닮은 얼굴 검색 {#95-닮은-얼굴-검색 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>searchFace<span class="token operator">?</span>threshold<span class="token operator">=</span><span class="token number">95</span>
</code></pre><h2>동영상 소스 검색</h2>
<p><a href="#%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90-%EC%98%81%EC%83%81-%EC%82%BD%EC%9E%85%ED%95%98%EA%B8%B0">웹 페이지에 영상 삽입하기</a>에서 사용했던 API를 사용한 동영상 표시 기능 대신 응용 프로그램에서 직접 동영상 주소 사용하는 경우 이 방법을 사용할 수 있습니다.</p>
<p>이 방법은 동영상을 표시하는 대신 동영상 주소를 얻을 수 있습니다.</p>
<h3>실시간 영상 소스</h3>
<p>아무런 매개변수 없이 다음과 같이 호출하면 서버에서 스트리밍하고 있는 실시간 영상 주소 목록을 요청할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod
</code></pre><p>서버는 이에 대해 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span> <span class="token comment">// 각 채널이 배열의 항목으로 구성됨</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token comment">// 채널 번호</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Profile1 (1920x1080)"</span><span class="token punctuation">,</span>  <span class="token comment">// 채널 이름</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. Profile1 (1920x1080)"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// 동영상 소스 목록</span>
              <span class="token comment">// (프로토콜 및 해상도에 따라 하나의 채널에 여러 개의 소스가 배열로 구성됨)</span>
      <span class="token punctuation">{</span> <span class="token comment">// 1080p RTMP 스트림</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1main"</span><span class="token punctuation">,</span>  <span class="token comment">// 동영상 주소</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>     <span class="token comment">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>       <span class="token comment">// 해상도 이름</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
          <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// 1080p HTTP-FLV 스트림</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1main"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/x-flv"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: FLV (HTTP 프로토콜)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>       <span class="token comment">// 해상도 이름</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
          <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// 1080p HLS 스트림</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>       <span class="token comment">// 해상도 이름</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
          <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// VGA RTMP 스트</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1sub"</span><span class="token punctuation">,</span>   <span class="token comment">// RTMP 프로토콜 (Adobe Flash 방식)</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>   <span class="token comment">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">480</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// VGA HTTP-FLV 스트림</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"flv"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/live?port=1935&amp;app=live&amp;stream=ch1sub"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/x-flv"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: FLV</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>   <span class="token comment">// 해상도 이름</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
          <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// 가로 픽셀 수</span>
          <span class="token number">480</span>                 <span class="token comment">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment">// VGA HLS 스트림</span>
        <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment">// 해상도 이름</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// 해상도</span>
          <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// 가로 픽셀 수</span>
          <span class="token number">480</span>                 <span class="token comment">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"192.168.0.106"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH2. 192.168.0.106"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... 중략</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><blockquote>
<p>[참고]<br>
<code>TS-API@0.5.0</code>부터 <code>"ptzSupported"</code> 항목이 추가되었습니다.</p>
</blockquote>
<p>동영상을 재생하는 환경 (전송 선로 속도와 플레이어에서 지원하는 프로토콜)이 다양하기 때문에 호환성을 높이기 위해 위의 예처럼 채널 당 여러 개의 동영상 소스를 제공합니다.<br>
현재 버전에서는 <code>RTMP</code>와 <code>HLS</code> 두 가지 형식으로 스트리밍하고 있으며, 카메라가 지원하는 경우 고해상도와 저해상도로 이중으로 스트리밍합니다.</p>
<p>사실 위의 예제에는 실시간 영상을 의미하는 <code>when=now</code> 매개변수가 생략되어 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span>now
</code></pre><p>필요한 경우 아래와 같은 매개변수들을 하나 또는 여러 개를 조합하여 검색 조건들을 지정할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>ch          <span class="token comment"># 채널 번호 (명시하지 않으면 전체 채널을 의미함)</span>
protocol    <span class="token comment"># 스트리밍 프로토콜을 지정 (rtmp, hls)</span>
stream      <span class="token comment"># 동영상의 해상도를 지정 (main: 고해상도 영상, sbu:저해상도 영상)</span>
nameonly    <span class="token comment"># true인 경우 동영상 스트림 데이터 부분 없이 채널 이름만 요청 </span>

<span class="token comment"># 예제 {#예제-6 }</span>
<span class="token comment"># 1번 채널만 요청 {#1번-채널만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># hls 프로토콜만 요청할 경우 {#hls-프로토콜만-요청할-경우 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>protocol<span class="token operator">=</span>hls

<span class="token comment"># 저해상도 스트림만 요청할 경우 {#저해상도-스트림만-요청할-경우 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>stream<span class="token operator">=</span>sub

<span class="token comment"># 채널 이름만 요청할 경우 {#채널-이름만-요청할-경우 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>nameonly<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># 또는 간단히 {#또는-간단히 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>nameonly
</code></pre><h3>녹화 영상 소스</h3>
<p>일반적으로는 <a href="#%EB%85%B9%ED%99%94-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B2%80%EC%83%89">녹화 데이터 검색</a> 기능을 사용해서 녹화 영상에 접근하겠지만, 여기서는 좀 더 저수준으로 녹화된 동영상 소스를 얻는 방법들을 소개합니다.</p>
<p>실시간 영상 소스를 요청할 때 사용하는 <code>/api/vod</code>를 그대로 사용하며 다음과 같이 매개변수만 다르게 지정합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token keyword keyword-when">when</span>        <span class="token comment"># 녹화된 영상의 시각(타임스템프)을 지정</span>
duration    <span class="token comment"># when으로 지정한 시각부터 검색할 시간</span>
id          <span class="token comment"># 녹화 동영상 파일 아이디</span>
<span class="token keyword keyword-next">next</span>        <span class="token comment"># true이면 지정한 영상의 다음 영상</span>
prev        <span class="token comment"># true이면 지정한 영상의 이전 영상</span>
limit       <span class="token comment"># 검색 결과의 항목 수를 지정 (명시하지 않으면 기본값 10개, 최대 50개)</span>
otherwise   <span class="token comment"># 검색 결과가 없을 경우, </span>
            <span class="token comment"># 'nearBefore'로 요청하면 검색 구간보다 이전에 녹화된 영상 중 가까운 것을 반환</span>
            <span class="token comment"># 'nearAfter'로 요청하면 검색 구간보다 이후에 녹화된 영상 중 가까운 것을 반환</span>
nolive      <span class="token comment"># 타임스템프가 현재 시각에서 1분 미만인 경우라도 검색 결과에 실시간 영상이 포함되지 않도록 함 (TS-API@0.9.9)</span>

<span class="token comment"># 예제 {#예제-7 }</span>
<span class="token comment"># 1번 채널에 대한민국 시각 2018년 1월 8일 오후 9시 30분 00초에 녹화된 영상 소스 {#1번-채널에-대한민국-시각-2018년-1월-8일-오후-9시-30분-00초에-녹화된-영상-소스 }</span>
<span class="token comment"># [중요] {#중요 }</span>
<span class="token comment"># 1. 녹화 영상의 경우는 ch=를 명시하지 않으면 HTTP 응답 코드 400(잘못된 요청) 발생함 {#1-녹화-영상의-경우는-ch를-명시하지-않으면-http-응답-코드-400잘못된-요청-발생함 }</span>
<span class="token comment"># 2. when=으로 지정한 시각에서 1초 이내의 데이터만 검색함 {#2-when으로-지정한-시각에서-1초-이내의-데이터만-검색함 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00

<span class="token comment"># 1번 채널에 대한민국 시각 2018년 1월 8일 오후 9시 30분 00초부터 1시간 이내의 데이터 검색 {#1번-채널에-대한민국-시각-2018년-1월-8일-오후-9시-30분-00초부터-1시간-이내의-데이터-검색 }</span>
<span class="token comment"># [duration에서 사용하는 시간 단위 표기법] {#duration에서-사용하는-시간-단위-표기법 }</span>
<span class="token comment"># w: 주  (예: 1w = 한 주) {#w-주--예-1w--한-주 }</span>
<span class="token comment"># d: 일  (예: 5d = 5일) {#d-일--예-5d--5일 }</span>
<span class="token comment"># h: 시  (예: 3h = 3시간) {#h-시--예-3h--3시간 }</span>
<span class="token comment"># m: 분  (예: 10m = 10분) {#m-분--예-10m--10분 }</span>
<span class="token comment"># s: 초  (예: 30s = 30초) {#s-초--예-30s--30초 }</span>
<span class="token comment"># ms: 밀리초(1/1000초) (예: 5000ms = 5000밀리초 = 5초) {#ms-밀리초11000초-예-5000ms--5000밀리초--5초 }</span>
<span class="token comment"># * 단위를 명시하지 않으면 기본적으로 초 단위가 적용됨 {#-단위를-명시하지-않으면-기본적으로-초-단위가-적용됨 }</span>
<span class="token comment"># * 여러 단위를 조합하는 표기(예: 1h30m)법은 지원되지 않으며 {#-여러-단위를-조합하는-표기예-1h30m법은-지원되지-않으며 }</span>
<span class="token comment"># 필요하면 가장 작은 단위로 계산해서 표기(예: 90m)해야 함 {#필요하면-가장-작은-단위로-계산해서-표기예-90m해야-함 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h

<span class="token comment"># 녹화 파일 아이디를 사용하여 직접 요청 {#녹화-파일-아이디를-사용하여-직접-요청 }</span>
<span class="token comment"># 영상이 있을 경우 해당 영상에서부터 10개(기본값)를 반환함 {#영상이-있을-경우-해당-영상에서부터-10개기본값를-반환함 }</span>
<span class="token comment"># [참고] {#참고 }</span>
<span class="token comment"># 서버에 녹화된 동영상 파일은 각각 정수로 표현되는 일련 번호가 부여되어 있습니다. {#서버에-녹화된-동영상-파일은-각각-정수로-표현되는-일련-번호가-부여되어-있습니다 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1304</span>

<span class="token comment"># 1번 채널의 현재 파일 아이디가 1034일 경우 같은 채널의 다음 파일을 요청 (연속 재생 시 유용함) {#1번-채널의-현재-파일-아이디가-1034일-경우-같은-채널의-다음-파일을-요청-연속-재생-시-유용함 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span><span class="token keyword keyword-next">next</span><span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># 또는 간단히 {#또는-간단히-1 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span><span class="token keyword keyword-next">next</span>

<span class="token comment"># 1번 채널의 현재 파일 아이디가 1034일 경우 같은 채널의 이전 파일을 요청 (역방향 연속 재생 시 유용함) {#1번-채널의-현재-파일-아이디가-1034일-경우-같은-채널의-이전-파일을-요청-역방향-연속-재생-시-유용함 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span>prev<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token comment"># 또는 간단히 {#또는-간단히-2 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span>prev

<span class="token comment"># 검색된 영상 소스를 30개 받기 {#검색된-영상-소스를-30개-받기 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span>

<span class="token comment"># 검색 결과 해당 시간에 영상이 존재하지 않을 경우: {#검색-결과-해당-시간에-영상이-존재하지-않을-경우 }</span>
<span class="token comment"># 검색 구간보다 이전에 녹화된 영상 중 가까운 것을 반환 {#검색-구간보다-이전에-녹화된-영상-중-가까운-것을-반환 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span><span class="token operator">&amp;</span>otherwise<span class="token operator">=</span>nearBefore
<span class="token comment"># 검색 구간보다 이후에 녹화된 영상 중 가까운 것을 반환 {#검색-구간보다-이후에-녹화된-영상-중-가까운-것을-반환 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword keyword-when">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">08</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">2</span>B09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span><span class="token number">1</span>h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span><span class="token operator">&amp;</span>otherwise<span class="token operator">=</span>nearAfter
</code></pre><p>이와 같은 방식으로 요청하면 서버는 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span> <span class="token comment">// 녹화된 동영상 파일 단위의 배열로 구성됨</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token comment">// 채널 번호</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"192%2E168%2E0%2E111"</span><span class="token punctuation">,</span>   <span class="token comment">// 동영상 이름</span>
    <span class="token string-property property">"fileId"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>                    <span class="token comment">// 파일 아이디</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">//동영상 소스 </span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/storage/e/0/0/0/0/100.mp4"</span><span class="token punctuation">,</span>  <span class="token comment">// 동영상 주소</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/mp4"</span><span class="token punctuation">,</span>    <span class="token comment">// MIME 형식 (mp4 파일)</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// 해상도 이름</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
          <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"2018-02-05T17:57:12.935+09:00"</span><span class="token punctuation">,</span>  <span class="token comment">// 동영상 파일 처음의 날짜, 시각 </span>
          <span class="token string">"2018-02-05T17:57:20.036+09:00"</span>   <span class="token comment">// 동영상 파일 마지막의 날짜, 시각</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"192%2E168%2E0%2E111"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"fileId"</span><span class="token operator">:</span> <span class="token number">104</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://192.168.0.100/storage/e/0/0/0/0/104.mp4"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"video/mp4"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"2018-02-05T18:05:12.147+09:00"</span><span class="token punctuation">,</span>
          <span class="token string">"2018-02-05T18:05:12.229+09:00"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h2>동영상 소스를 사용하여 영상 요청 <code>@0.3.0</code></h2>
<p>API로 제공되는 <code>/watch</code>를 사용하지 않고 영상 소스를 사용하여 영상을 요청하는 경우에 대해, 각 프로토콜 별로 다음과 같은 방식으로 인증을 지원합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># RTMP (auth= 매개변수가 지원됩니다.) {#rtmp-auth-매개변수가-지원됩니다 }</span>
<span class="token symbol">rtmp</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># HTTP (m3u8, JPG, MP4 와 같은 정적인 파일 기반 리소스들은 Basic Authentication만 지원됩니다.) {#http-m3u8-jpg-mp4-와-같은-정적인-파일-기반-리소스들은-basic-authentication만-지원됩니다 }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>path<span class="token operator">/</span>to

<span class="token comment"># HTTP (/api/ 하위 경로는 두 가지 방법이 모두 지원됩니다.) {#http-api-하위-경로는-두-가지-방법이-모두-지원됩니다 }</span>
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>api<span class="token operator">/</span>path<span class="token operator">/</span>to
<span class="token symbol">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>api<span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">&amp;</span><span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><h2>실시간 이벤트 모니터링 <code>@0.3.0</code></h2>
<h3>웹 소켓 (RFC6455)</h3>
<p>웹 소켓 (RFC6455)으로 실시간 이벤트 데이터를 수신할 수 있는 기능을 지원합니다.<br>
서버와 클라이언트가 접속 상태를 유지하며 이벤트가 발생하면 서버가 클라이언트에게 메시지를 송신하는 방식으로 동작합니다.</p>
<p>단계별 통신 절차는 다음과 같습니다.</p>
<blockquote>
<ol>
<li>클라이언트가 웹 소켓으로 서버에 접속</li>
<li>서버에 인증에 성공하면 구독자 ID를 발급</li>
<li>이후 클라이언트는 접속을 유지하며 메시지 대기 상태로 들어감</li>
</ol>
<blockquote>
<ul>
<li>서버는 전송할 메시지가 없더라도 접속을 유지하기 위해 30초에 한번씩 ping 메시지를 송신함</li>
</ul>
</blockquote>
<ol start="4">
<li>이벤트 발생시 서버는 클라이언트에게 메시지를 송신</li>
<li>클라이언트 스스로 접속을 종료하기 전까지 위의 3번에서 4번 과정을 반복</li>
</ol>
</blockquote>
<blockquote>
<p>[참고]<br>
웹 소켓 방식은 Microsoft 웹 브라우저들을 포함한 모든 웹 브라우저에서 지원합니다.<br>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket">https://developer.mozilla.org/en-US/docs/Web/API/WebSocket</a></p>
</blockquote>
<p>지원하는 이벤트 토픽은 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>channelStatus   <span class="token comment"># 채널 상태 변경</span>
<span class="token constant">LPR</span>             <span class="token comment"># 차량 번호 인식</span>
emergencyCall   <span class="token comment"># 비상 호출</span>
systemEvent     <span class="token comment"># 시스템 이벤트 (@0.7.0에서 추가됨)</span>
motionChanges   <span class="token comment"># 움직임 감지 상태 변경 (@0.8.0에서 추가됨)</span>
parkingCount    <span class="token comment"># 주차장 차량수 변동 이벤트 (@0.9.0에서 추가됨)</span>
packing         <span class="token comment"># 포장 이벤트 (@0.9.0에서 추가됨)</span>
recordingStatus <span class="token comment"># 녹화 상태 이벤트 (@0.9.5에서 추가됨)</span>
object          <span class="token comment"># 객체 감지 이벤트 (@0.9.6에서 추가됨)</span>
</code></pre><p>웹 소켓 접속 경로와 매개변수들은 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents

<span class="token comment"># 필수 매개 변수들 {#필수-매개-변수들 }</span>
auth    <span class="token comment"># 인증 정보 (세션 인증과 별도로 개별 웹 소켓마다 인증 필요)</span>
topics  <span class="token comment"># 수신할 토픽 지정 (여러 토픽을 동시에 지정할 경우 쉼표 문자(,)로 구분)</span>

<span class="token comment"># 공용 매개 변수들 (선택 사항) {#공용-매개-변수들-선택-사항 }</span>
verbose <span class="token comment"># 연동된 실시간 영상 채널들의 동영상 스트림 소스를 자세히 나열</span>
        <span class="token comment"># channelStatus의 경우 텍스트 메시지를 포함 (구독자 id 발급 직후 최초 메시지에 "title" 포함)</span>
session <span class="token comment"># 이미 연결된 session cookie를 전달하여 인증 정보를 대신할 수 있음</span>

<span class="token comment"># channelStatus 전용 매개 변수들 (선택 사항) {#channelstatus-전용-매개-변수들-선택-사항 }</span>
ch      <span class="token comment"># 특정 채널을 지정할 경우 (여러 채널을 동시에 지정할 경우 쉼표 문자(,)로 구분)</span>
        <span class="token comment"># 채널을 명시하지 않으면 모든 채널을 의미</span>
lang    <span class="token comment"># 상태 메시지 표기 언어</span>


<span class="token comment"># 사용 예 {#사용-예 }</span>
<span class="token comment"># 차량 번호 인식 이벤트 요청 {#차량-번호-인식-이벤트-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># 비상 호출 이벤트 요청 {#비상-호출-이벤트-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># 두 이벤트를 모두 요청 {#두-이벤트를-모두-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token punctuation">,</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># 연동된 실시간 영상 채널들의 동영상 스트림 소스를 자세히 요청 {#연동된-실시간-영상-채널들의-동영상-스트림-소스를-자세히-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token punctuation">,</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># 모든 채널의 상태 변경 이벤트 요청 {#모든-채널의-상태-변경-이벤트-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>channelStatus<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># 모든 채널의 상태 변경 이벤트시 메시지를 포함 요청 {#모든-채널의-상태-변경-이벤트시-메시지를-포함-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>channelStatus<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># 1, 2번 채널의 상태 변경 이벤트시 스페인어 메시지를 포함 요청 {#1-2번-채널의-상태-변경-이벤트시-스페인어-메시지를-포함-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>channelStatus<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>

<span class="token comment"># 모든 채널에 대해 움직임 감지 상태 변경시 이벤트 요청 {#모든-채널에-대해-움직임-감지-상태-변경시-이벤트-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>motionChanges<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># 1, 2번 채널에 대해 움직임 감지 상태 변경시 이벤트 요청 {#1-2번-채널에-대해-움직임-감지-상태-변경시-이벤트-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>motionChanges<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>

<span class="token comment"># 모든 주차장의 주차 카운트 변경시 이벤트 요청 {#모든-주차장의-주차-카운트-변경시-이벤트-요청 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>parkingCount<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># Id 1, 2번 주차장의 주차 카운트 변경시 이벤트 요청 (이때 ch는 주차장 id로 사용됨) {#id-1-2번-주차장의-주차-카운트-변경시-이벤트-요청-이때-ch는-주차장-id로-사용됨 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>parkingCount<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>
</code></pre><p>서버는 요청한 인증 정보와 토픽이 올바른 경우 아래와 같이 JSON형식으로 구독자 ID를 발급합니다.<br>
만약 인증 정보가 올바르지 않거나 지원하는 토픽이 아니면 즉시 접속을 끊습니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"subscriberId"</span><span class="token operator">:</span> <span class="token string">"cd57c82b-7e8c-4b04-91eb-520f6a9773ce"</span><span class="token punctuation">,</span> <span class="token comment">// 구독자 ID (접속 당 유일한 ID를 발급)</span>
  <span class="token string-property property">"topics"</span><span class="token operator">:</span> <span class="token punctuation">[</span>   <span class="token comment">// 요청한 토픽에 대한 응답 (두 이벤트를 모두 지원한다는 의미임)</span>
    <span class="token string">"LPR"</span><span class="token punctuation">,</span>
    <span class="token string">"emergencyCall"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>채널 상태 변경 이벤트</h3>
<p><code>topics=channelStatus</code>를 요청하면 실시간으로 채널 상태 변경 이벤트를 수신할 수 있습니다.<br>
채널 상태 토픽은 다른 토픽과 달리 상태 변경 관리를 위해 구독자 id 발급 직후 현재 채널 상태가 한 번 이벤트로 전송됩니다.<br>
이후 나머지 이벤트들은 최초 상태에서 변경 사항이 있을 때만 전송됩니다.<br>
채널 상태 변경 이벤트 메시지는 아래와 같이 JSON형식으로 수신됩니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token comment">// 구독자 id</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"subscriberId"</span><span class="token operator">:</span><span class="token string">"1a3dc2de-d3b5-4983-933a-49a86ac8ad3d"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topics"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"channelStatus"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 현재 전체 채널 상태 (구독자 id 이후 즉시 전송됨)</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T15:05:45.956+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"currentStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"카메라1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span> <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"연결됨"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>   <span class="token comment">// 카메라 지원 기능 (TS-API@0.9.4 이후 추가됨)</span>
        <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// 가용한 스트리밍 목록 (TS-API@0.9.4 이후 추가됨)</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch3main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"WXGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1280</span><span class="token punctuation">,</span>
            <span class="token number">960</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch3main/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"WXGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1280</span><span class="token punctuation">,</span>
            <span class="token number">960</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch3sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch3sub/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span> <span class="token string">"CH2. 카메라2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"연결됨"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
        <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>
            <span class="token number">1080</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>
            <span class="token number">1080</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">360</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">360</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 채널 이름 변경시</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"nameChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"카메라1"</span><span class="token punctuation">,</span>
  <span class="token string">"displayName: "</span><span class="token constant">CH1</span><span class="token punctuation">.</span> <span class="token property-access"><span class="token maybe-class-name">Camera1</span></span>"  <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
<span class="token punctuation">}</span>

<span class="token comment">// 카메라의 영상 주소가 변경시</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:01:45.956+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"videoSrcModified"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// 비디오 스트림이 연결된 경우</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:03:45.956+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"videoStreamReady"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Video available"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// 가용한 스트림 목록 (TS-API@0.9.4 이후 추가됨)</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1main"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">1920</span><span class="token punctuation">,</span>
        <span class="token number">1080</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">1920</span><span class="token punctuation">,</span>
        <span class="token number">1080</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"rtmp"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://localhost/live/ch1sub"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">640</span><span class="token punctuation">,</span>
        <span class="token number">360</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"protocol"</span><span class="token operator">:</span> <span class="token string">"hls"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"profile"</span><span class="token operator">:</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://localhost/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"360p"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">640</span><span class="token punctuation">,</span>
        <span class="token number">360</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 비디오 스트림이 주소는 동일하나 변경되어 다시 연결해야 하는 경우</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:03:45.956+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"videoStreamChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// 카메라가 접속된 경우</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"statusChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"Connected"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 채널이 추가된 경우 (설정 변경)</span>
<span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"channelAdded"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// 채널이 삭제된 경우 (설정 변경)</span>
<span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"channelRemoved"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// 두 채널의 채널 번호가 서로 바뀐 경우 (설정 변경)</span>
<span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-20T16:05:45.956-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"channelStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"channelSwapped"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>


</code></pre><p>채널 상태 코드 목록은 <a href="#%EC%B1%84%EB%84%90-%EC%83%81%ED%83%9C-%EC%9A%94%EC%B2%AD-030">채널 상태 요청 <code>@0.3.0</code></a>의 상태 코드 목록과 동일합니다.</p>
<h3>차량 번호 인식 이벤트</h3>
<p><code>topics=LPR</code>를 요청하면 실시간으로 차량 번호 인식 이벤트를 수신할 수 있습니다.<br>
차량 번호 이벤트 메시지는 아래와 같이 JSON형식으로 수신됩니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:42:06.575+09:00"</span><span class="token punctuation">,</span>  <span class="token comment">// 차량 번호 인식 시점</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                     <span class="token comment">// 차량 번호 인식 채널</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span>                <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1&amp;when=2018%2D06%2D27T10%3A42%3A06%2E575%2B09%3A00"</span>  <span class="token comment">// 차량 번호 인식 시점의 영상</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"srcCode"</span><span class="token operator">:</span><span class="token string">"1-1-7"</span><span class="token punctuation">,</span>                            <span class="token comment">// 차량 번호 인식 장치(영역) 코드</span>
  <span class="token string-property property">"srcName"</span><span class="token operator">:</span><span class="token string">"B1주차장"</span><span class="token punctuation">,</span>                          <span class="token comment">// 차량 번호 인식 장치(영역) 이름</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                            <span class="token comment">// 연동된 채널</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. 카메라2"</span><span class="token punctuation">,</span>              <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2&amp;when=2018%2D06%2D27T10%3A42%3A06%2E575%2B09%3A00"</span> <span class="token comment">// 차량 번호 인식 시점의 영상</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span><span class="token string">"http://host/storage/e/0/0/0/39/39612.161192.1576732638241699.plate.jpg"</span><span class="token punctuation">,</span> <span class="token comment">// 캡쳐된 낱장 이미지</span>
  <span class="token string-property property">"plateNo"</span><span class="token operator">:</span><span class="token string">"11가1432"</span><span class="token punctuation">,</span>                          <span class="token comment">// 차량 번호</span>
  <span class="token string-property property">"score"</span><span class="token operator">:</span><span class="token number">98</span><span class="token punctuation">,</span>                                    <span class="token comment">// 인식 점수 (100점 만점): 차번인식 엔진에 따라 지원하지 않을 수 있음 (항목 없을 수 있음)</span>
  <span class="token string-property property">"roi"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                       <span class="token comment">// 번호판 이미지 영역</span>
    <span class="token string-property property">"offset"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">964</span><span class="token punctuation">,</span><span class="token number">560</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                          <span class="token comment">// 좌상단 좌표</span>
    <span class="token string-property property">"size"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">187</span><span class="token punctuation">,</span><span class="token number">51</span><span class="token punctuation">]</span>                              <span class="token comment">// 번호판 이미지 크기</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:42:02.573+09:00"</span><span class="token punctuation">,</span>   <span class="token comment">// 동일 차량 번호 최초 인식 시점 </span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"LPR"</span><span class="token punctuation">,</span>                                 <span class="token comment">// 토픽 이름</span>
  <span class="token string-property property">"parkingLot"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                <span class="token comment">// 연결된 주차장 id (TS-API@0.9.8)</span>
    <span class="token string-property property">"entrance"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                               <span class="token comment">// 주차장 입구 id</span>
    <span class="token string-property property">"exit"</span><span class="token operator">:</span> <span class="token number">2</span>                                    <span class="token comment">// 주차장 출구 id</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>비상 호출 이벤트</h3>
<p><code>topics=emergencyCall</code>을 요청하면 실시간으로 비상 호출에 의한 통화 시작과 종료 시점에  이벤트 메시지를 수신할 수 있습니다.<br>
비상 호출 이벤트 메시지는 아래와 같이 JSON형식으로 수신됩니다.</p>
<p><strong>통화 시작 메시지</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:56:16.316+09:00"</span><span class="token punctuation">,</span>  <span class="token comment">// 통화 시작 시점</span>
  <span class="token string-property property">"caller"</span><span class="token operator">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           <span class="token comment">// 비상 호출 장치 위치 코드</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    <span class="token comment">// 비상 호출 장치 이름</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span><span class="token string">"callStart"</span><span class="token punctuation">,</span>                          <span class="token comment">// 통화 시작 이벤트</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// 연동된 채널</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span>               <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. 카메라2"</span><span class="token punctuation">,</span>               <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"지하1층 계단"</span><span class="token punctuation">,</span>                         <span class="token comment">// 비상 호출 장치 위치 이름</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"emergencyCall"</span>                       <span class="token comment">// 토픽 이름</span>
<span class="token punctuation">}</span>
</code></pre><p>비상 호출 이벤트는 실시간 통화용 이벤트이므로 연동된 채널들은 모두 실시간 영상을 링크하고 있습니다.<br>
아래와 같이 채널들의 동영상 스트림 소스를 자세히 요청한 경우는 동영상 스트림 항목들이 추가로 포함됩니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>verbose<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre><pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:56:16.316+09:00"</span><span class="token punctuation">,</span>  <span class="token comment">// 통화 시작 시점</span>
  <span class="token string-property property">"caller"</span><span class="token operator">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           <span class="token comment">// 비상 호출 장치 위치 코드</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    <span class="token comment">// 비상 호출 장치 이름</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span><span class="token string">"callStart"</span><span class="token punctuation">,</span>                          <span class="token comment">// 통화 시작 이벤트</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// 연동된 채널</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span>               <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streams"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// 동영상 소스 목록</span>
                <span class="token comment">// (프로토콜 및 해상도에 따라 하나의 채널에 여러 개의 소스가 배열로 구성됨)</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p RTMP 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1main"</span><span class="token punctuation">,</span>  <span class="token comment">// 동영상 주소</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>     <span class="token comment">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// 해상도 이름</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
            <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p HLS 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// 해상도 이름</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
            <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA RTMP 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1sub"</span><span class="token punctuation">,</span>   <span class="token comment">// RTMP 프로토콜 (Adobe Flash 방식)</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>   <span class="token comment">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA HLS 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment">// 해상도 이름</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// 해상도</span>
            <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// 가로 픽셀 수</span>
            <span class="token number">480</span>                 <span class="token comment">// 세로 픽셀 수</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. 카메라2"</span><span class="token punctuation">,</span>               <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streams"</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token comment">// ... 중략</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"지하1층 계단"</span><span class="token punctuation">,</span>                         <span class="token comment">// 비상 호출 장치 위치 이름</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"emergencyCall"</span>                       <span class="token comment">// 토픽 이름</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>통화 종료 메시지</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2018-06-27T10:59:26.322+09:00"</span><span class="token punctuation">,</span>  <span class="token comment">// 통화 종료 시점</span>
  <span class="token string-property property">"caller"</span><span class="token operator">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           <span class="token comment">// 비상 호출 장치 위치 코드</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    <span class="token comment">// 비상 호출 장치 이름</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span><span class="token string">"callEnd"</span><span class="token punctuation">,</span>                            <span class="token comment">// 통화 종료 이벤트</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// 연동된 채널</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span>               <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH2. 카메라2"</span><span class="token punctuation">,</span>               <span class="token comment">// TS-API@0.9.4 이후 추가됨</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=2"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"비상벨2"</span><span class="token punctuation">,</span>                             <span class="token comment">// 비상 호출 장치 위치 이름</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span><span class="token string">"emergencyCall"</span>                      <span class="token comment">// 토픽 이름</span>
<span class="token punctuation">}</span>
</code></pre><p>비상 호출 메시지는 실시간 통화를 위한 용도로 사용되므로 연동된 채널의 영상 주소는 차량 번호 인식의 경우와 달리 실시간 영상으로 링크되어 있습니다.</p>
<h3>시스템 이벤트 <code>@0.7.0</code></h3>
<p><code>topics=systemEvent</code>를 요청하면 실시간으로 시스템 이벤트를 수신할 수 있습니다.<br>
시스템 이벤트는 <a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EC%A2%85%EB%A5%98-%EB%AA%A9%EB%A1%9D">이벤트 로그 종류 목록</a> 중에서 "시스템 로그" 데이터가 생성되면 아래와 같이 JSON형식으로 수신됩니다.<br>
개별 데이터 형식은 <a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">이벤트 로그 검색</a>에서 사용되는 형식과 동일합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"systemEvent"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">16384</span><span class="token punctuation">,</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"저장 경로 변경"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"2018-11-15T13:16:38.054+09:00"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"param"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"storagePathBefore"</span><span class="token operator">:</span> <span class="token string">"D:\\recData\\"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"storagePathAfter"</span><span class="token operator">:</span> <span class="token string">"E:\\recData\\"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token string">"D:\\recData\\에서 E:\\recData\\로 저장 경로 변경됨"</span>  <span class="token comment">// 옵션</span>
<span class="token punctuation">}</span>
</code></pre><pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"systemEvent"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">19138</span><span class="token punctuation">,</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"typeName"</span><span class="token operator">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token string-property property">"codeName"</span><span class="token operator">:</span> <span class="token string">"시스템 종료"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"2018-12-26T15:29:20.013+09:00"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>움직임 감지 이벤트 <code>@0.8.0</code></h3>
<p><code>topics=motionChanges</code>를 요청하면 실시간으로 각 채널별 움직임 감지 상태 변경시 이벤트를 수신할 수 있습니다.<br>
요청 직후 한번은 지정한 모든 채널의 현재 움직임 감지 상태가 수신되며<br>
이 후 1초 주기로 움직임 감지가 변경된 채널들의 상태를 아래와 같이 JSON 형식으로 수신됩니다.<br>
동일한 움직임 감지 상태가 지속되는 채널의 경우는 이벤트가 발생하지 않습니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"motionChanges"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"updated"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"motion"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"motion"</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token string-property property">"motion"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>주차 카운트 이벤트 <code>@0.9.0</code></h3>
<p><code>topics=parkingCount</code>를 요청하면 각 주차장의 차량 수가 변경시 실시간으로 이벤트를 수신할 수 있습니다.<br>
요청 직후 한번은 지정한 모든 주차장의 현재 차량 수가 수신되며<br>
이 후 변경시 마다 해당 주차장의 차량 수가 아래와 같이 JSON 형식으로 수신됩니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2019-02-18T23:11:12.119+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"parkingCount"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"updated"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"전체"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"group"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">31</span><span class="token punctuation">,</span>
      <span class="token string-property property">"member"</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token number">13</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B1 주차장"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span> <span class="token number">21</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"B2 주차장"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"counter"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"count"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"maxCount"</span><span class="token operator">:</span><span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>녹화 상태 이벤트 <code>@0.9.5</code></h3>
<p><code>topics=recordingStatus</code>를 요청하면 각 채널별 녹화 상태를 실시간 이벤트를 수신할 수 있습니다.<br>
요청 직후 한 번은 모든 채널의 현재 상태가 수신되며<br>
이 후 변동사항이 발생할 때마다 아래와 같이 JSON 형식으로 수신됩니다.</p>
<ul>
<li>최초 모든 채널 녹화 상태 데이터</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-03-25T10:01:53.841+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"recordingStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"currentStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>변동사항 데이터</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-03-25T10:08:30.003+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"recordingStatus"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"statusChanged"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streaming"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"recording"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// 녹화 장애 발생 시각 (이 값은 장애 상태에만 명시됨)</span>
      <span class="token string-property property">"timestampRecordingFailure"</span><span class="token operator">:</span><span class="token string">"2020-03-25T10:07:09.646+09:00"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h3>객체 감지 이벤트 <code>@0.9.11</code></h3>
<p><code>topics=object</code>를 요청하면 각 카메라에서 객체가 감지되는 시점에 실시간 이벤트를 수신할 수 있습니다.</p>
<p>지원하는 객체 종류는 다음과 같습니다.</p>
<ul>
<li>face</li>
<li>human</li>
<li>vehicle</li>
</ul>
<p>아래와 같이 <code>objectType</code> (객체 종류)를 지정하여 원하는 객체만 수신할 수 있습니다.<br>
지정하지 않으면 지원하는 모든 종류의 객체가 전송됩니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 얼굴만 요청 {#얼굴만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># 차량만 요청 {#차량만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>vehicle<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D

<span class="token comment"># 얼굴과 사람만 요청 {#얼굴과-사람만-요청 }</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>face<span class="token punctuation">,</span>human<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><h4><code>face</code> 객체</h4>
<ol>
<li>예제 데이터</li>
</ol>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2020-05-25T13:56:02.558+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # 채널 번호
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">132</span><span class="token punctuation">,</span>           # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 같으면 동일 객체로 구분함<span class="token punctuation">)</span>
  <span class="token string-property property">"parentId"</span><span class="token operator">:</span> <span class="token number">130</span><span class="token punctuation">,</span>        # <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">face</span><span class="token template-punctuation string">`</span></span> 객체의 경우 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">human</span><span class="token template-punctuation string">`</span></span>이 부모가 될 수 있음<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">human</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span>몸통<span class="token operator">:</span>부모<span class="token punctuation">)</span>에 딸린 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">face</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span>얼굴<span class="token operator">:</span>자식<span class="token punctuation">)</span>의 <span class="token function">관계</span> <span class="token punctuation">(</span>두 객체가 동시에 감지된 경우에만 존재함<span class="token punctuation">)</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"face"</span><span class="token punctuation">,</span>         # 객체 종류
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">71.10</span><span class="token punctuation">,</span>    # <span class="token function">정확도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>         # 객체 <span class="token function">속성</span> <span class="token punctuation">(</span>감지된 속성만 나열<span class="token punctuation">)</span>
    <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"female"</span><span class="token punctuation">,</span>   # 성별
    <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token string">"adult"</span><span class="token punctuation">,</span>       # 나이 구분
    <span class="token string-property property">"hat"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          # <span class="token function">모자</span> <span class="token punctuation">(</span>착용<span class="token punctuation">)</span> 
    <span class="token string-property property">"glasses"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>     # <span class="token function">안경</span> <span class="token punctuation">(</span>미착용<span class="token punctuation">)</span>
    <span class="token string-property property">"mask"</span><span class="token operator">:</span> <span class="token boolean">false</span>         # <span class="token function">마스크</span> <span class="token punctuation">(</span>미착용<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673854/7673854.4411971.1590382562558672.object._c1_t2_s552x400.jpg"</span> # 이미지 주소
<span class="token punctuation">}</span>
</code></pre><ol start="2">
<li><code>face</code> 객체 속성
<table>
<thead>
<tr>
<th>key</th>
<th>형식</th>
<th>목록</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gender</code></td>
<td><code>string</code></td>
<td><code>female</code>, <code>male</code></td>
</tr>
<tr>
<td><code>age</code></td>
<td><code>string</code></td>
<td><code>young</code>, <code>adult</code>, <code>middle</code>, <code>senior</code></td>
</tr>
<tr>
<td><code>hat</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>glasses</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>mask</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h4><code>human</code> 객체</h4>
<ol>
<li>예제 데이터</li>
</ol>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T13:56:18.461+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # 채널 번호
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">142</span><span class="token punctuation">,</span>           # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 같으면 동일 객체로 구분함<span class="token punctuation">)</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"human"</span><span class="token punctuation">,</span>        # 객체 종류
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">74.80</span><span class="token punctuation">,</span>    # <span class="token function">정확도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>         # 객체 <span class="token function">속성</span> <span class="token punctuation">(</span>감지된 속성만 나열<span class="token punctuation">)</span>
    <span class="token string-property property">"gender"</span><span class="token operator">:</span> <span class="token string">"female"</span><span class="token punctuation">,</span>   # 성별
    <span class="token string-property property">"hat"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          # <span class="token function">모자</span> <span class="token punctuation">(</span>착용<span class="token punctuation">)</span> 
    <span class="token string-property property">"bag"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          # <span class="token function">가방</span> <span class="token punctuation">(</span>소지<span class="token punctuation">)</span>
    <span class="token string-property property">"clothes"</span><span class="token operator">:</span> <span class="token punctuation">[</span>          # <span class="token function">옷</span> <span class="token punctuation">(</span><span class="token parameter">복수 표기</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"tops"</span><span class="token punctuation">,</span>   # 상의
        <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span> # 길이
        <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>       # <span class="token function">색상</span> <span class="token punctuation">(</span>복수 표기<span class="token punctuation">)</span>
          <span class="token string">"white"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"bottoms"</span><span class="token punctuation">,</span> # 하의
        <span class="token string-property property">"length"</span><span class="token operator">:</span> <span class="token string">"long"</span><span class="token punctuation">,</span>  # 길이
        <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        # <span class="token function">색상</span> <span class="token punctuation">(</span>복수 표기<span class="token punctuation">)</span>
          <span class="token string">"blue"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673854/7673854.4411974.1590382578461739.object._c1_t1_s376x600.jpg"</span> # 이미지 주소
<span class="token punctuation">}</span>
</code></pre><ol start="2">
<li><code>human</code> 객체 속성
<table>
<thead>
<tr>
<th>key</th>
<th>형식</th>
<th>목록</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gender</code></td>
<td><code>string</code></td>
<td><code>female</code>, <code>male</code></td>
</tr>
<tr>
<td><code>hat</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>bag</code></td>
<td><code>boolean</code></td>
<td>true, false</td>
</tr>
<tr>
<td><code>clothes</code></td>
<td><code>object</code> <code>array</code></td>
<td><em><code>clothes</code> 객체 속성 참조</em></td>
</tr>
</tbody>
</table>
</li>
<li><code>clothes</code> 객체 속성
<table>
<thead>
<tr>
<th>key</th>
<th>형식</th>
<th>목록</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code></td>
<td><code>string</code></td>
<td><code>tops</code>, <code>bottoms</code></td>
<td>상.하의 구분</td>
</tr>
<tr>
<td><code>length</code></td>
<td><code>string</code></td>
<td><code>short</code>, <code>long</code></td>
<td>소매.바지 기장</td>
</tr>
<tr>
<td><code>colors</code></td>
<td><code>string</code> <code>array</code></td>
<td><code>brown</code>, <code>black</code>, <code>red</code>, <code>orange</code>, <code>yellow</code>, <code>green</code>, <code>cyan</code>, <code>blue</code>, <code>purple</code>, <code>magenta</code>, <code>gray</code>, <code>pink</code>, <code>beige</code>, <code>white</code>, <code>other</code></td>
<td>색상</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h4><code>vehicle</code> 객체</h4>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token number">1.</span> 예제 데이터
<span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:23:58.768+09:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # 채널 번호
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">182</span><span class="token punctuation">,</span>           # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 같으면 동일 객체로 구분함<span class="token punctuation">)</span>
  <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"vehicle"</span><span class="token punctuation">,</span>      # 객체 종류
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">99.60</span><span class="token punctuation">,</span>    # <span class="token function">정확도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"attributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>         # 객체 <span class="token function">속성</span> <span class="token punctuation">(</span>감지된 속성만 나열<span class="token punctuation">)</span>
    <span class="token string-property property">"vehicleType"</span><span class="token operator">:</span> <span class="token string">"car"</span><span class="token punctuation">,</span> # 차량 종류
    <span class="token string-property property">"colors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>           # 차량 색상
      <span class="token string">"white"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"image"</span><span class="token operator">:</span> <span class="token string">"http://host/storage/e/0/0/7/7673/object/7673880/7673880.4412174.1590384238768802.object._c1_t3_s944x520.jpg"</span> # 이미지 주소
<span class="token punctuation">}</span>
</code></pre><ol start="2">
<li><code>vehicle</code> 객체 속성
<table>
<thead>
<tr>
<th>key</th>
<th>형식</th>
<th>목록</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vehicleType</code></td>
<td><code>string</code></td>
<td><code>car</code>, <code>truck</code>, <code>bus</code>, <code>bicycle</code>, <code>motorcycle</code>, <code>train</code></td>
</tr>
<tr>
<td><code>colors</code></td>
<td><code>string</code> <code>array</code></td>
<td><code>brown</code>, <code>black</code>, <code>red</code>, <code>orange</code>, <code>yellow</code>, <code>green</code>, <code>cyan</code>, <code>blue</code>, <code>purple</code>, <code>magenta</code>, <code>gray</code>, <code>pink</code>, <code>beige</code>, <code>white</code>, <code>other</code></td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3>체온 감지 이벤트 <code>@0.9.14</code></h3>
<p><code>topics=bodyTemperature</code>를 요청하면 각 체온 감지용 열화상 카메라에서 고온이 감지되는 시점에 실시간 이벤트를 수신할 수 있습니다.</p>
<p>체온 감지 이벤트를 수신하려면 아래와 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>object<span class="token operator">&amp;</span>objectType<span class="token operator">=</span>bodyTemperature<span class="token operator">&amp;</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
</code></pre><p>예제 데이터</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2020-05-25T14:23:58.768-05:00"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              # 채널 id
  <span class="token string-property property">"objId"</span><span class="token operator">:</span> <span class="token number">182</span><span class="token punctuation">,</span>           # 객체 <span class="token function">id</span> <span class="token punctuation">(</span>id가 동일하면 같은 사람임<span class="token punctuation">)</span>
  <span class="token string-property property">"likelihood"</span><span class="token operator">:</span> <span class="token number">99.60</span><span class="token punctuation">,</span>    # 인식 <span class="token function">신뢰도</span> <span class="token punctuation">(</span><span class="token operator">%</span><span class="token punctuation">)</span>
  <span class="token string-property property">"linkedChannel"</span><span class="token operator">:</span><span class="token punctuation">[</span>                             <span class="token comment">// 채널 정보</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"displayName"</span><span class="token operator">:</span><span class="token string">"CH1. 카메라1"</span><span class="token punctuation">,</span>             <span class="token comment">// TS-API@0.9.4</span>
      <span class="token string-property property">"src"</span><span class="token operator">:</span><span class="token string">"http://host/watch?ch=1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"streams"</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// 동영상 스트림 정보</span>
                <span class="token comment">// (프로토콜 및 해상도에 따라 하나의 채널에 여러 개의 소스가 배열로 구성됨)</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p RTMP 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1main"</span><span class="token punctuation">,</span>  <span class="token comment">// 동영상 주소</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>     <span class="token comment">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// 해상도 이름</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
            <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// 1080p HLS 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment">// 해상도 이름</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>               <span class="token comment">// 해상도</span>
            <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment">// 가로 픽셀 수</span>
            <span class="token number">1080</span>                  <span class="token comment">// 세로 픽셀 수</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA RTMP 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"rtmp://host/live/ch1sub"</span><span class="token punctuation">,</span>   <span class="token comment">// RTMP 프로토콜 (Adobe Flash 방식)</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>   <span class="token comment">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token number">640</span><span class="token punctuation">,</span>
            <span class="token number">480</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// VGA HLS 스트림</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment">// 동영상 주소</span>
          <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
          <span class="token string-property property">"label"</span><span class="token operator">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment">// 해상도 이름</span>
          <span class="token string-property property">"size"</span><span class="token operator">:</span> <span class="token punctuation">[</span>             <span class="token comment">// 해상도</span>
            <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment">// 가로 픽셀 수</span>
            <span class="token number">480</span>                 <span class="token comment">// 세로 픽셀 수</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>이 번에는 웹 소켓을 이용하여 이벤트 메시지를 수신하는 예제를 만들어 봅시다.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>utf-8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">body</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span>Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">}</span>
    <span class="token selector">div</span> <span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#control</span></span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span><span class="token color">beige</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#url</span><span class="token punctuation">,</span> <span class="token id">#messages</span></span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">0.8</span><span class="token unit">em</span><span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'Courier New'</span><span class="token punctuation">,</span> Courier<span class="token punctuation">,</span> monospace<span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.open</span><span class="token punctuation">,</span> li<span class="token class">.close</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">blue</span><span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.error</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">red</span><span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>예제3. 이벤트 수신하기 (Web Socket)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>control<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>host-name<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>서버 IP주소:포트<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>user-id<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>사용자 ID<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>비밀번호<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      토픽:
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>channelStatus<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>채널 상태 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LPR<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>차량 번호 인식 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emergencyCall<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>비상 호출
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>systemEvent<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>시스템 이벤트
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>motionChanges<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>움직임 감지
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parkingCount<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>주차 카운트
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>packing<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>포장
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>recordingStatus<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>녹화 상태
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>object<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>객체 감지
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>topic<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bodyTemperature<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>체온 감지
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>verbose<span class="token punctuation">'</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>자세히
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>접속<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>접속 종료<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>모두 삭제<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>url<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>messages<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-typeof">typeof</span><span class="token punctuation">(</span><span class="token maybe-class-name">WebSocket</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'웹 소켓을 지원하지 않는 웹 브라우저입니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'이미 접속 중입니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
      
    <span class="token keyword keyword-var">var</span> hostName <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'호스트를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> userId <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'사용자 아이디를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> password <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'비밀번호를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> topics <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'topic'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-var">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>el<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token operator">!</span>el<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-continue">continue</span><span class="token punctuation">;</span>

      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>topics<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        topics <span class="token operator">+=</span> <span class="token string">','</span><span class="token punctuation">;</span>
       topics <span class="token operator">+=</span> el<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>topics<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'하나 이상의 토픽을 선택하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> encodedData <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// base64 인코딩</span>
    url <span class="token operator">=</span> <span class="token punctuation">(</span>hostName<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">'ws://'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'ws://'</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      hostName <span class="token operator">+</span> <span class="token string">'/wsapi/subscribeEvents?topics='</span> <span class="token operator">+</span> topics <span class="token operator">+</span> 
      <span class="token string">'&amp;auth='</span> <span class="token operator">+</span> encodedData<span class="token punctuation">;</span>
    
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'verbose'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">)</span>
      url <span class="token operator">+=</span> <span class="token string">'&amp;verbose=true'</span><span class="token punctuation">;</span>

    <span class="token comment">//url += '&amp;ch=4&amp;lang=ko-KR';</span>
    <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token parameter">tagClass<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword keyword-var">var</span> li <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createTextNode</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>tagClass<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>

    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> url<span class="token punctuation">;</span>

    <span class="token comment">// 웹 소켓 인스턴스와 핸들러 함수들</span>
    <span class="token keyword keyword-var">var</span> ws <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onopen</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'접속 성공'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclose</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'접속 종료: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onerror</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'오류: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> ws<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span><span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">"messages"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-while">while</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      el<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><p><a href="./examples/ex3.html">실행하기</a></p>
<h2>녹화 영상 받아내기 <code>@0.3.0</code></h2>
<p>웹 소켓을 사용하여 서버로 부터 녹화된 동영상을 받아낼 수 있습니다.<br>
서버 측에서는 파일은 하나씩 생성하고 클라이언트에서 다운로드를 완료하면 해당 파일을 삭제한 후<br>
다음 파일을 생성하는 방식으로 동작합니다.<br>
모든 진행 과정은 서버와 클라이언트가 접속 상태가 유지되는 동안 동작하며,<br>
접속이 끊어지면 서버 측에서는 즉시 작업을 중단하고 생성된 파일을 삭제합니다.</p>
<p>단계별 통신 절차는 다음과 같습니다.</p>
<blockquote>
<ol>
<li>클라이언트가 웹 소켓으로 서버에 접속</li>
<li><code>서버 -&gt; 클라이언트 [stage:ready]</code> 서버에 인증에 성공하면 task id와 받아낼 데이터에 대한 요약 내용을 전송</li>
<li><code>서버 -&gt; 클라이언트 [stage:begin]</code> 서버에서 요청받은 작업을 시작</li>
<li><code>서버 -&gt; 클라이언트 [stage:channelBegin]</code> 하나의 채널에 대한 작업 시작</li>
<li><code>서버 -&gt; 클라이언트 [stage:fileBegin]</code> 하나의 파일을 생성 시작</li>
<li><code>서버 -&gt; 클라이언트 [stage:fileWriting]</code> 하나의 파일에 데이터를 저장 중</li>
<li><code>서버 -&gt; 클라이언트 [stage:fileEnd]</code> 하나의 파일을 생성 완료 (다운로드 링크 제공)</li>
<li><code>서버 -&gt; 클라이언트 [stage:timeoutAlert]</code> <code>fileEnd</code>의 <code>ttl</code>에 명시된 시간이 초과되기 직전에 보내짐</li>
<li><code>클라이언트 -&gt; 서버 [cmd:wait]</code> 클라이언트가 다운로드 받는 동안 서버 작업을 대기 시킴</li>
<li><code>클라이언트 -&gt; 서버 [cmd:next]</code> 클라이언트가 다운로드를 완료하고 서버에게 다음 파일을 생성하도록 지시함</li>
<li><code>서버 -&gt; 클라이언트 [stage:channelEnd]</code> 하나의 채널에 대한 작업 완료</li>
<li><code>서버 -&gt; 클라이언트 [stage:end]</code></li>
<li>파일이 여러 개일 경우, 6번에서 10번 과정을 반복</li>
<li>채널이 여러 개일 경우, 5번에서 12번 과정을 반복</li>
<li><code>클라이언트 -&gt; 서버 [cmd:cancel]</code> 2번 과정 이후 어느 때든 클라이언트는 작업을 취소할 수 있음</li>
</ol>
</blockquote>
<p>웹 소켓 접속 경로와 매개변수들은 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport

<span class="token comment"># 필수 매개 변수들 {#필수-매개-변수들-1 }</span>
auth            <span class="token comment"># 인증 정보 (세션 인증과 별도로 개별 웹 소켓마다 인증 필요)</span>
timeBegin       <span class="token comment"># 받아낼 데이터 구간의 시작 시각 (ISO8601 형식)</span>
timeEnd         <span class="token comment"># 받아낼 데이터 구간의 끝 시각 (ISO8601 형식)</span>

<span class="token comment"># 매개 변수들 (선택 사항) {#매개-변수들-선택-사항 }</span>
ch              <span class="token comment"># 특정 채널을 지정할 경우 (여러 채널을 동시에 지정할 경우 쉼표 문자(,)로 구분)</span>
                <span class="token comment"># 채널을 명시하지 않으면 모든 채널을 의미</span>
subtitleFormat  <span class="token comment"># 영상의 시각 표시를 자막으로 할 경우 사용할 자막 파일 형식 지정</span>
                <span class="token comment"># VTT, SRT, SMI 형식을 지원하며, 지정하지 않거나 None으로 설정하면 자막 파일이 생성되지 않음</span>
mediaSize       <span class="token comment"># 동영상 파일의 최대 크기를 지정 (GB, MB, KB, B 등의 단위를 붙여 표기할 수 있음, 예: 1GB, 700MB)</span>
statusInterval  <span class="token comment"># 서버에서 내보낼 동영상 파일이 생성되는 진행률(stage:fileWriting)을 전송 받는 주기를 설정</span>
                <span class="token comment"># (s, ms 등의 단위를 붙여서 표시할 수 있음, 예: 1s, 500ms)</span>
                <span class="token comment"># statusInterval을 명시하지 않으면 진행률을 전송하지 않음 </span>
lang            <span class="token comment"># 백업 진행 상태 표시와 자막 파일에 사용될 언어를 지정</span>

<span class="token comment"># 서버측 로그를 위해 사용되는 매개변수들 (여러 줄의 텍스트를 사용할 수 있음) {#서버측-로그를-위해-사용되는-매개변수들-여러-줄의-텍스트를-사용할-수-있음 }</span>
submitter       <span class="token comment"># 동영상 제출자를 명시</span>
recipient       <span class="token comment"># 동영상 수령인을 명시</span>
purpose         <span class="token comment"># 제출할 동영상의 용도를 명시</span>

<span class="token comment"># md5 포함 {#md5-포함 }</span>
md5             <span class="token comment"># v0.9.2에 포함됨</span>

<span class="token comment"># 사용 예 {#사용-예-1 }</span>
<span class="token comment"># 2018년 7월 27일 오전 9시 정각부터 9시 30분까지 녹화된 모든 동영상을 받아내기 {#2018년-7월-27일-오전-9시-정각부터-9시-30분까지-녹화된-모든-동영상을-받아내기 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A

<span class="token comment"># 1번 채널에 녹화된 동영상을 받아내기 {#1번-채널에-녹화된-동영상을-받아내기 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 1번 채널에 녹화된 동영상을 받아내기 (md5 포함) {#1번-채널에-녹화된-동영상을-받아내기-md5-포함 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>md5<span class="token operator">=</span><span class="token boolean">true</span>

<span class="token comment"># 1,2,3번 채널에 녹화된 동영상을 받아내기 {#123번-채널에-녹화된-동영상을-받아내기 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>

<span class="token comment"># 파일을 500MB 단위로 저장 {#파일을-500mb-단위로-저장 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB

<span class="token comment"># VTT 자막 파일 생성 {#vtt-자막-파일-생성 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span>

<span class="token comment"># 1초 주기로 진행률 표시 {#1초-주기로-진행률-표시 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span><span class="token operator">&amp;</span>statusInterval<span class="token operator">=</span><span class="token number">1</span>s

<span class="token comment"># 언어를 스페인어로 지정 {#언어를-스페인어로-지정 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span><span class="token operator">&amp;</span>statusInterval<span class="token operator">=</span><span class="token number">1</span>s<span class="token operator">&amp;</span>lang<span class="token operator">=</span>es<span class="token operator">-</span><span class="token constant">ES</span>

<span class="token comment"># 동영상 제출자(흥부), 수령인(놀부), 용도(춥고\n배고파서)를 명시 {#동영상-제출자흥부-수령인놀부-용도춥고n배고파서를-명시 }</span>
<span class="token symbol">ws</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>wsapi<span class="token operator">/</span>dataExport<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token operator">%</span><span class="token number">3</span>A30<span class="token operator">%</span><span class="token number">3</span>A00<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>mediaSize<span class="token operator">=</span><span class="token number">500</span>MB<span class="token operator">&amp;</span>subtitleFormat<span class="token operator">=</span><span class="token constant">VTT</span><span class="token operator">&amp;</span>statusInterval<span class="token operator">=</span><span class="token number">1</span>s<span class="token operator">&amp;</span>submitter<span class="token operator">=</span><span class="token operator">%</span><span class="token constant">ED</span><span class="token operator">%</span><span class="token number">9</span>D<span class="token operator">%</span><span class="token constant">A5</span><span class="token operator">%</span><span class="token constant">EB</span><span class="token operator">%</span><span class="token constant">B6</span><span class="token operator">%</span><span class="token number">80</span><span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">&amp;</span>recipient<span class="token operator">=</span><span class="token operator">%</span><span class="token constant">EB</span><span class="token operator">%</span><span class="token number">86</span><span class="token operator">%</span><span class="token number">80</span><span class="token operator">%</span><span class="token constant">EB</span><span class="token operator">%</span><span class="token constant">B6</span><span class="token operator">%</span><span class="token number">80</span><span class="token operator">&amp;</span>purpose<span class="token operator">=</span><span class="token operator">%</span><span class="token constant">EC</span><span class="token operator">%</span><span class="token constant">B6</span><span class="token operator">%</span><span class="token constant">A5</span><span class="token operator">%</span><span class="token constant">EA</span><span class="token operator">%</span><span class="token constant">B3</span><span class="token operator">%</span><span class="token constant">A0</span><span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">%</span><span class="token constant">EB</span><span class="token operator">%</span><span class="token constant">B0</span><span class="token operator">%</span><span class="token constant">B0</span><span class="token operator">%</span><span class="token constant">EA</span><span class="token operator">%</span><span class="token constant">B3</span><span class="token operator">%</span><span class="token constant">A0</span><span class="token operator">%</span><span class="token constant">ED</span><span class="token operator">%</span><span class="token number">8</span>C<span class="token operator">%</span><span class="token number">8</span>C<span class="token operator">%</span><span class="token constant">EC</span><span class="token operator">%</span><span class="token number">84</span><span class="token operator">%</span><span class="token number">9</span>C
</code></pre><p>각 단계(stage)별로 서버가 전송하는 메시지 형식은 다음과 같습니다.<br>
<strong>stage:ready - 준비</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"ready"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"성공"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # 작업 번호
    <span class="token string-property property">"ch"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token number">3</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"timeRange"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"2018-07-27T09:00:00.000+09:00"</span><span class="token punctuation">,</span>
      <span class="token string">"2018-07-27T09:30:00.000+09:00"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"mediaSize"</span><span class="token operator">:</span> <span class="token number">524288000</span><span class="token punctuation">,</span>
    <span class="token string-property property">"subtitleFormat"</span><span class="token operator">:</span> <span class="token string">"VTT"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"language"</span><span class="token operator">:</span><span class="token string">"ko-KR"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>상황에 따라 이 단계에서 실패하고 즉시 종료되는 경우가 발생할 수 있습니다.<br>
<code>status</code> 코드의 종류는 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">0</span><span class="token operator">:</span> 성공
<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> 요청한 구간 내에 데이터 없음
<span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> 잘못된 매개변수
<span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> 저장 공간 부족 <span class="token punctuation">(</span>서버에 여유 공간이 없을 경우<span class="token punctuation">)</span>   
</code></pre><p><strong>stage:begin - 작업 시작</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"begin"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"0%"</span><span class="token punctuation">,</span> # 전체 진행률
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:00:00.000+09:00"</span> # 현재 진행중인 위치
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:channelBegin - 채널 시작</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"channelBegin"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"0%"</span><span class="token punctuation">,</span> # 전체 진행률
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:00:00.000+09:00"</span><span class="token punctuation">,</span> # 현재 진행중인 위치
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # 채널 번호
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"0%"</span>   # 채널당 진행률
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:fileBegin - 파일 생성 시작</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"fileBegin"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"37%"</span><span class="token punctuation">,</span>  # 전체 진행률
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:11:19.825+09:00"</span><span class="token punctuation">,</span> # 현재 진행중인 위치
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # 채널 번호
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"37%"</span><span class="token punctuation">,</span> # 채널당 진행률
    <span class="token string-property property">"file"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        # 파일 번호
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"CH1.2018-07-27T09.11.19.mp4"</span>  # 파일명
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:fileWriting - 파일 생성 진행 중</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"fileWriting"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"42%"</span><span class="token punctuation">,</span>  # 전체 진행률
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:12:49.466+09:00"</span><span class="token punctuation">,</span> # 현재 진행중인 위치
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # 채널 번호
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"42%"</span><span class="token punctuation">,</span> # 채널당 진행률
    <span class="token string-property property">"file"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fid"</span><span class="token operator">:</span> <span class="token number">1</span>         # 파일 번호
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:fileEnd - 파일 생성 완료</strong><br>
하나의 파일 생성이 완료되면 다음과 같이 다운로드 링크와 함께 ttl이 반환됩니다.<br>
ttl 이내에 클라이언트는 서버에로 명령을 보내어 흐름을 제어해야 하며, 그렇지 않으면 서버는 자동으로 작업을 취소합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"fileEnd"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"51%"</span><span class="token punctuation">,</span>  # 전체 진행률
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:15:25.225+09:00"</span><span class="token punctuation">,</span> # 현재 진행중인 위치
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # 채널 번호
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"51%"</span><span class="token punctuation">,</span> # 채널당 진행률
    <span class="token string-property property">"file"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"fid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        # 파일 번호
      <span class="token string-property property">"ttl"</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>    # <span class="token number">10000</span><span class="token function">밀리초</span><span class="token punctuation">(</span><span class="token number">10</span>초<span class="token punctuation">)</span> 이내에 클라이언트가 아무 명령을 보내지 않으면 서버는 작업을 자동 취소함
      <span class="token string-property property">"download"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        # 생성된 동영상 파일
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileName"</span><span class="token operator">:</span> <span class="token string">"CH1.2018-07-27T09.11.19.mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/download/7963635e-1bff-40e1-bbf3-3f17525aef40/CH1.2018-07-27T09.11.19.mp4"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"md5"</span><span class="token operator">:</span> <span class="token string">"1125ee2c3d20f30b31166c821204603d"</span> # md5<span class="token operator">=</span><span class="token boolean">true</span>로 요청시 포함됨
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        # 생성된 자막 파일
        <span class="token punctuation">{</span>
          <span class="token string-property property">"fileName"</span><span class="token operator">:</span> <span class="token string">"CH1.2018-07-27T09.11.19.vtt"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"http://host/download/7963635e-1bff-40e1-bbf3-3f17525aef40/CH1.2018-07-27T09.11.19.vtt"</span><span class="token punctuation">,</span>
          <span class="token string-property property">"md5"</span><span class="token operator">:</span> <span class="token string">"9176eec58f3be777ae7bd188a1f14165"</span> # md5<span class="token operator">=</span><span class="token boolean">true</span>로 요청시 포함됨
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>다운로드 링크는 <code>auth</code> 매개변수를 붙여서 다운로드할 수있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>download<span class="token operator">/</span><span class="token number">7963635e-1</span>bff<span class="token operator">-</span><span class="token number">40e1</span><span class="token operator">-</span>bbf3<span class="token operator">-</span><span class="token number">3</span>f17525aef40<span class="token operator">/</span><span class="token constant">CH1</span><span class="token number">.2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">27</span>T09<span class="token punctuation">.</span><span class="token number">11.19</span><span class="token punctuation">.</span>mp4<span class="token operator">&amp;</span>auth<span class="token operator">=</span>YWRtaW46YWRtaW4
</code></pre><p><strong>stage:timeoutAlert - 대기 시간 종료 알림</strong><br>
<code>fileEnd</code>에 명시된 ttl에 명시된 시간이 종료되기 직전에 곧 종료된다는 것을 알리기 위해 서버가 클라이언트로 보냅니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"timeoutAlert"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"ttl"</span><span class="token operator">:</span> <span class="token number">2000</span>         # 종료까지 남은 시간 <span class="token number">2</span>초
<span class="token punctuation">}</span>
</code></pre><p>클라이언트는 이 메시지를 수신하면 <code>ttl</code>에 명시된 시간 내에 <code>wait</code> 명령을 서버로 전송해야 하며 그렇지 않으면 작업은 자동 취소됩니다.</p>
<p><strong>stage:channelEnd - 채널 완료</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"channelEnd"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span> # 전체 진행률
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:30:00.000+09:00"</span><span class="token punctuation">,</span> # 현재 진행중인 위치
  <span class="token string-property property">"channel"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>         # 채널 번호
    <span class="token string-property property">"progress"</span><span class="token operator">:</span> <span class="token string">"100%"</span> # 채널당 진행률
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>stage:end - 작업 완료</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"stage"</span><span class="token operator">:</span> <span class="token string">"end"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"overallProgress"</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span> # 전체 진행률
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2018-07-27T09:30:00.000+09:00"</span><span class="token punctuation">,</span> # 현재 진행중인 위치
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span><span class="token string">"성공"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>대표적인 <code>status</code> 코드는 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">0</span><span class="token operator">:</span> 성공
<span class="token operator">-</span><span class="token number">1001</span><span class="token operator">:</span> 저장할 공간 부족
<span class="token operator">-</span><span class="token number">1003</span><span class="token operator">:</span> 사용자에 의해 작업 취소됨
<span class="token operator">-</span><span class="token number">1004</span><span class="token operator">:</span> 시간 초과로 작업 종료됨
</code></pre><p>각 상황별로 클라이언트가 서버로 전송하는 명령 형식은 다음과 같습니다.<br>
<strong>cmd:wait - 대기 명령</strong><br>
서버 측에서 생성된 동영상 파일은 다운로드가 끝나고 다음 파일을 생성하기 전에 즉시 삭제되므로<br>
다운로드하는 동안 wait 명령을 계속 보내서 서버가 파일을 삭제하지 않도록 해야 합니다.</p>
<p><code>wait</code> 명령을 한번 보내면 <code>fileEnd</code>시 명시된 <code>ttl</code>만큼 서버를 대기 시킬 수 있으며,<br>
다운로드 시간이 오래걸리면 주기적으로 wait 명령를 보내야 합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # stage<span class="token operator">:</span>ready시 발급된 작업 번호
  <span class="token string-property property">"cmd"</span><span class="token operator">:</span> <span class="token string">"wait"</span>   # 대기 명령
<span class="token punctuation">}</span>
</code></pre><p><strong>cmd:next - 작업 계속</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # stage<span class="token operator">:</span>ready시 발급된 작업 번호
  <span class="token string-property property">"cmd"</span><span class="token operator">:</span> <span class="token string">"next"</span>   # 다음 파일 작업으로 넘어감
<span class="token punctuation">}</span>
</code></pre><p><strong>cmd:cancel - 작업 취소</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"task"</span><span class="token operator">:</span> <span class="token string">"7963635e-1bff-40e1-bbf3-3f17525aef40"</span><span class="token punctuation">,</span>  # stage<span class="token operator">:</span>ready시 발급된 작업 번호
  <span class="token string-property property">"cmd"</span><span class="token operator">:</span> <span class="token string">"cancel"</span>   # 클라이언트가 작업 취소
<span class="token punctuation">}</span>
</code></pre><p>이 번에는 웹 소켓을 이용하여 동영상을 받아내는 예제를 만들어 봅시다.</p>
<pre data-role="codeBlock" data-info="html" class="language-html html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!DOCTYPE</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>utf-8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ex4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">body</span> <span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span>Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">}</span>
    <span class="token selector">div</span> <span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#control</span></span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span><span class="token color">beige</span><span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">0.8</span><span class="token unit">em</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#param</span></span> <span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span><span class="token color">wheat</span><span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#param</span> *</span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token unit">px</span><span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#url</span><span class="token punctuation">,</span> <span class="token id">#messages</span></span> <span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">0.8</span><span class="token unit">em</span><span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'Courier New'</span><span class="token punctuation">,</span> Courier<span class="token punctuation">,</span> monospace<span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.open</span><span class="token punctuation">,</span> li<span class="token class">.close</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">blue</span><span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.command</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">orange</span><span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.error</span></span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">red</span><span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>예제4. 녹화 영상 받아내기 (Web Socket)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>control<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>host-name<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>서버 IP주소:포트<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>user-id<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>사용자 ID<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>비밀번호<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>param<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        데이터 구간 : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>datetime-local<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>timeBegin<span class="token punctuation">'</span></span> <span class="token attr-name">step</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>1<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2018-07-27T09:00:00<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
        ~ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>datetime-local<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>timeEnd<span class="token punctuation">'</span></span> <span class="token attr-name">step</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>1<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2018-07-27T09:30:00<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        채널: 
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onSelectAllChannels</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>모두 선택
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>1<span class="token punctuation">'</span></span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>1
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>2
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>3<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>3
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>4<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>4    
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>5<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>5
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>6<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>6
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>7<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>7
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>8<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>8
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>9<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>9
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>10<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>10
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>11<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>11
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>12<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>12   
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>13<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>13
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>14<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>14
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>15<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>15
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>chid<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>16<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>16
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        파일 크기: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>mediaSize<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>예) 500MB<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        자막 형식: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>subtitleFormat<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>SRT<span class="token punctuation">'</span></span> <span class="token attr-name">selected</span><span class="token punctuation">&gt;</span></span>SRT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>SMI<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>SMI<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>VTT<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>VTT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>None<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>사용안함<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        제출자: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>submitter<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>예) 흥부<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        수령인: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>recipient<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>예) 놀부<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        용도: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>40<span class="token punctuation">'</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>3<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>purpose<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>예) 너무 배고파서...<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        진행 표시 주기: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>statusInterval<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>예) 2s<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2s<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        언어: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>lang<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ko-KR<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>한국어<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>en-US<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>영어<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>es-ES<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>스페인어<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>zh-CN<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>중국어 (간체)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>zh-TW<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>중국어 (번체)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>md5<span class="token punctuation">'</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>md5<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>md5
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>접속<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>접속 종료<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>모두 삭제<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value javascript language-javascript"><span class="token function">onCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">'</span></span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>cancel<span class="token punctuation">'</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token value css language-css"><span class="token property">visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token color">red</span></span><span class="token punctuation">'</span></span></span><span class="token punctuation">&gt;</span></span>작업 취소<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>url<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>messages<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span> <span class="token operator">=</span> <span class="token punctuation">{</span> 
      <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">task</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fname</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">downloadJobs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-typeof">typeof</span><span class="token punctuation">(</span><span class="token maybe-class-name">WebSocket</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'웹 소켓을 지원하지 않는 웹 브라우저입니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'이미 접속 중입니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword keyword-var">var</span> hostName <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'호스트를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> userId <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'사용자 아이디를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-var">var</span> password <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'비밀번호를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">// 매개 변수들</span>
    <span class="token keyword keyword-var">var</span> timeBegin <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'timeBegin'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>timeBegin <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'데이터 구간을 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> timeEnd <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'timeEnd'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>timeEnd <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'데이터 구간을 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> ch <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-var">var</span> chk <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'chid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-var">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chk<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>chk<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">checked</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>ch<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
          ch <span class="token operator">+=</span> <span class="token string">','</span><span class="token punctuation">;</span>
        ch <span class="token operator">+=</span> chk<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>ch<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'채널을 선택하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token keyword keyword-var">var</span> mediaSize <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'mediaSize'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>mediaSize <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'동영상 파일의 최대 크기를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> subtitleFormat <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'subtitleFormat'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>subtitleFormat <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'자막 형식을 선택하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> submitter <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'submitter'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>submitter <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'제출자를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> recipient <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'recipient'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>submitter <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'수령인을 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> purpose <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'purpose'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>purpose <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'용도를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> statusInterval <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'statusInterval'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>statusInterval <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'진행 표시 주기를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> lang <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'lang'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>lang <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'언어를 선택하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> encodedData <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// base64 인코딩</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">auth</span> <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>encodedData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    url <span class="token operator">=</span> <span class="token punctuation">(</span>hostName<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">'ws://'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'ws://'</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      hostName <span class="token operator">+</span> <span class="token string">'/wsapi/dataExport?auth='</span> <span class="token operator">+</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">auth</span><span class="token punctuation">;</span>

    url <span class="token operator">+=</span> 
      <span class="token string">'&amp;timeBegin='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>timeBegin<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;timeEnd='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>timeEnd<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;ch='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;subtitleFormat='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>subtitleFormat<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;mediaSize='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>mediaSize<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;statusInterval='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>statusInterval<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;submitter='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>submitter<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;recipient='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>recipient<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;purpose='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>purpose<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">'&amp;lang='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span><span class="token punctuation">;</span>
     
    <span class="token keyword keyword-var">var</span> md5 <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'md5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>md5<span class="token punctuation">.</span><span class="token property-access">checked</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      url <span class="token operator">+=</span> <span class="token string">'&amp;md5=true'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow keyword-return">return</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token parameter">tagClass<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword keyword-var">var</span> li <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createTextNode</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>tagClass<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">addDownloadItem</span><span class="token punctuation">(</span><span class="token parameter">fname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> li <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-var">var</span> span <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    span<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token string">'&lt;progress value="0" max="100"&gt;&lt;/progress&gt; &lt;label&gt;'</span> <span class="token operator">+</span> fname <span class="token operator">+</span> <span class="token string">'&lt;label&gt;'</span><span class="token punctuation">;</span>
    span<span class="token punctuation">.</span><span class="token method function property-access">setAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> fname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">showCancelButton</span><span class="token punctuation">(</span><span class="token parameter">bShow</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'param'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> bShow <span class="token operator">?</span> <span class="token string">'none'</span> <span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">;</span>

    el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'cancel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">visibility</span> <span class="token operator">=</span> bShow <span class="token operator">?</span> <span class="token string">'visible'</span> <span class="token operator">:</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> url <span class="token operator">=</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>

    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> url<span class="token punctuation">;</span>

    <span class="token comment">// 웹 소켓 인스턴스와 핸들러 함수들</span>
    <span class="token keyword keyword-var">var</span> ws <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onopen</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'접속 성공'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onclose</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'접속 종료: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onerror</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'오류: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token keyword keyword-var">var</span> msg <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-switch">switch</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token property-access">stage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-case">case</span> <span class="token string">'ready'</span><span class="token operator">:</span>
        <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token property-access">status</span><span class="token punctuation">.</span><span class="token property-access">code</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span> <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token property-access">task</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">;</span>

        <span class="token function">showCancelButton</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'fileBegin'</span><span class="token operator">:</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">fname</span> <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token property-access">channel</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'fileEnd'</span><span class="token operator">:</span>
        <span class="token function">downloadFiles</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span><span class="token property-access">channel</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">,</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">bSuccess</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">sendCommand</span><span class="token punctuation">(</span>bSuccess <span class="token operator">?</span> <span class="token string">"next"</span> <span class="token operator">:</span> <span class="token string">"cancel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'timeoutAlert'</span><span class="token operator">:</span>
        <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token function">sendCommand</span><span class="token punctuation">(</span><span class="token string">"wait"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-case">case</span> <span class="token string">'end'</span><span class="token operator">:</span>
        <span class="token function">showCancelButton</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-break">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> ws<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">!==</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span><span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span> <span class="token operator">=</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'param'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onClearAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> el <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">"messages"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-while">while</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span>
      el<span class="token punctuation">.</span><span class="token method function property-access">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'param'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">downloadFiles</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> onFinished</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">onFinished</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-return">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-var">var</span> downloadCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> successCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-function">function</span> <span class="token function">onDone</span><span class="token punctuation">(</span><span class="token parameter">bSuccess</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>bSuccess<span class="token punctuation">)</span>
        successCnt<span class="token operator">++</span><span class="token punctuation">;</span>

      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span><span class="token operator">++</span>downloadCnt <span class="token operator">&lt;</span> file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">downloadFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">[</span>downloadCnt<span class="token punctuation">]</span><span class="token punctuation">,</span> onDone<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword control-flow keyword-else">else</span> <span class="token punctuation">{</span>
        <span class="token function">onFinished</span><span class="token punctuation">(</span>successCnt <span class="token operator">==</span> downloadCnt<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">downloadFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">download</span><span class="token punctuation">[</span>downloadCnt<span class="token punctuation">]</span><span class="token punctuation">,</span> onDone<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token parameter">download<span class="token punctuation">,</span> onFinish</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">addDownloadItem</span><span class="token punctuation">(</span>download<span class="token punctuation">.</span><span class="token property-access">fileName</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-var">var</span> req <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 다운로드 링크에 auth 매개변수를 붙여서 요청</span>
    req<span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> download<span class="token punctuation">.</span><span class="token property-access">src</span> <span class="token operator">+</span> <span class="token string">'?auth='</span> <span class="token operator">+</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">auth</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token property-access">responseType</span> <span class="token operator">=</span> <span class="token string">"blob"</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">readyState</span> <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> req<span class="token punctuation">.</span><span class="token property-access">status</span> <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-var">var</span> a <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token property-access">href</span> <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token method function property-access">createObjectURL</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token property-access">response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token property-access">download</span> <span class="token operator">=</span> download<span class="token punctuation">.</span><span class="token property-access">fileName</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token method function property-access">revokeObjectURL</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>    
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onprogress</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-var">var</span> prog <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> download<span class="token punctuation">.</span><span class="token property-access">fileName</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">firstChild</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>prog<span class="token punctuation">)</span>
        prog<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">ceil</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">loaded</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> e<span class="token punctuation">.</span><span class="token property-access">total</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onerror</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>onFinish<span class="token punctuation">)</span>
        <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword keyword-var">var</span> pos <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    req<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onloadend</span> <span class="token operator">=</span> <span class="token keyword keyword-function">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-var">var</span> pos <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>onFinish<span class="token punctuation">)</span>
        <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">sendCommand</span><span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> str <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">task</span><span class="token operator">:</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">task</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cmd</span><span class="token operator">:</span> command
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'command'</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">ws</span><span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 다운로드 작업을 모두 중단</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token keyword keyword-function">function</span><span class="token punctuation">(</span><span class="token parameter">jobs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      jobs<span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">myApp</span><span class="token punctuation">.</span><span class="token property-access">downloadJobs</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">sendCommand</span><span class="token punctuation">(</span><span class="token string">"cancel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-function">function</span> <span class="token function">onSelectAllChannels</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> ch <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'chid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-for">for</span><span class="token punctuation">(</span><span class="token keyword keyword-var">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> cnt<span class="token operator">=</span>ch<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">checked</span> <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token property-access">checked</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre><p><a href="./examples/ex4.html">실행하기</a></p>
<h2>서버에 이벤트 밀어넣기 <code>@0.4.0</code></h2>
<p>외부의 장치나 소프로트웨어로부터 서버에 이벤트를 <code>HTTP POST</code> 방식으로 송신할 수 있습니다.</p>
<p>지원하는 이벤트 토픽은 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">LPR</span>             <span class="token comment"># 차량 번호</span>
emergencyCall   <span class="token comment"># 비상 호출</span>
</code></pre><p>서버로 이벤트를 송신하기 위한 경로와 매개변수들은 다음과 같습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>push

<span class="token comment"># 매개 변수들</span>
auth    <span class="token comment"># 인증 정보</span>
</code></pre><p>Contents에 JSON 형식으로 이벤트 데이터를 명시합니다.</p>
<p><strong>차량 번호 인식 데이터</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"LPR"</span><span class="token punctuation">,</span>         <span class="token comment">// 차량 번호 데이터</span>
  <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>        <span class="token comment">// 차량 번호 인식 장치 코드</span>
  <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"01가2345"</span><span class="token punctuation">,</span>  <span class="token comment">// 차량 번호</span>
  <span class="token comment">// 아래는 선택 항목임</span>
  <span class="token string-property property">"when"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:15+09:00"</span><span class="token punctuation">,</span>      <span class="token comment">// 차량 번호 인식 시각, 명시하지 않으면 서버에서는 이벤트가 수신된 시각을 사용함</span>
  <span class="token string-property property">"timeBegin"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:14+09:00"</span>  <span class="token comment">// 주정차한 차량의 경우 차량 번호가 인식되기 시작한 시점</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>비상 호출 데이터</strong></p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"emergencyCall"</span><span class="token punctuation">,</span>   <span class="token comment">// 비상 호출 데이터</span>
  <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"vendor/device"</span><span class="token punctuation">,</span>  <span class="token comment">// 비상 호출 장치 모델명</span>
  <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"0000001"</span><span class="token punctuation">,</span>           <span class="token comment">// 비상 호출 장치 위치 코드</span>
  <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"callStart"</span><span class="token punctuation">,</span>       <span class="token comment">// 통화 시작 (또는 통화 종료시 "callEnd")</span>
  <span class="token string-property property">"camera"</span><span class="token operator">:</span> <span class="token string">"1,2,3,4"</span><span class="token punctuation">,</span>        <span class="token comment">// 팝업 카메라 목록 (화면 복귀는 "camera": "") (@0.9.19)</span>
  <span class="token string-property property">"when"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:15+09:00"</span> <span class="token comment">// 이벤트 발생 시각</span>
<span class="token punctuation">}</span>
</code></pre><p>요청이 성공한 경우 서버는 HTTP 응답 코드 200을 반환하며 추가로 반환되는 Contents 데이터는 없습니다.</p>
<p>아래와 같이 여러 개의 이벤트를 배열로 만들어 한 번에 보낼 수도 있습니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"LPR"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plateNo"</span><span class="token operator">:</span> <span class="token string">"01가2345"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"topic"</span><span class="token operator">:</span> <span class="token string">"emergencyCall"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"vendor/device"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"src"</span><span class="token operator">:</span> <span class="token string">"0000001"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"callStart"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"camera"</span><span class="token operator">:</span> <span class="token string">"1,2,3,4"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"when"</span><span class="token operator">:</span> <span class="token string">"2018-02-01T14:30:15+09:00"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><p>콘솔 창에서 curl 명령을 사용해서 테스트 해 볼 수 있습니다.</p>
<blockquote>
<ol>
<li>먼저 위의 json 데이터를 복사해서 UTF-8 인코딩 텍스트 파일로 <code>test.json</code> 이라는 이름으로 저장합니다.</li>
<li>서버 주소를 <code>192.168.0.100</code>, 웹 포트를 <code>80</code>으로 가정하고, 사용자 아이디를 <code>demo</code>, 비밀번호를 <code>!1234qwer</code> 라고 가정합니다.</li>
<li>콘솔 창을 열고 <code>test.json</code> 파일이 저장된 디렉토리로 이동한 다음, 아래와 같이 curl 명령을 실행합니다.</li>
</ol>
</blockquote>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">curl</span> http://192.168.0.100/api/push <span class="token parameter variable">-H</span> <span class="token string">"Content-Type: application/json; charset=UTF-8"</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-u</span> demo:<span class="token operator">!</span>1234qwer <span class="token parameter variable">-d</span> @test.json
</code></pre><blockquote>
<ol start="4">
<li>또는 사용자 계정을 Base64 인코딩하고 URL 인코딩해서 <code>auth=</code> 매개변수를 사용할 수도 있습니다.</li>
</ol>
</blockquote>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">curl</span> http://192.168.0.100/api/push?auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI%3D <span class="token parameter variable">-H</span> <span class="token string">"Content-Type: application/json; charset=UTF-8"</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-d</span> @test.json
</code></pre><h2>채널 정보 및 장치 제어 <code>@0.5.0</code></h2>
<p>각 채널에 연결된 장치 정보 및 각 장치가 지원하는 기능 목록을 확인하거나 각 장치를 제어할 수 있습니다.</p>
<h3>장치 정보 및 지원 기능 목록 요청</h3>
<p>연결된 장치 정보는 다음과 같이 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info

<span class="token comment"># 매개변수</span>
caps    <span class="token comment"># "caps" 항목만 요청함, 지정하지 않으면 모든 정보를 포함</span>
ch      <span class="token comment"># 채널을 지정함, 지정하지 않으면 사용중인 모든 채널</span>
reload  <span class="token comment"># 채널의 카메라의 최신 정보로 갱신한 정보를 요청 (@0.9.1)</span>

<span class="token comment"># 예</span>
<span class="token comment"># 사용중인 각 채널 별로 연결된 장비의 지원 기능만 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps

<span class="token comment"># 1번 채널에 연결된 장비의 지원 기능만 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 1,2,3번 채널에 연결된 장비의 지원 기능만 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>

<span class="token comment"># 모든 채널의 카메라 정보를 최신 정보로 갱신 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>info<span class="token operator">?</span>caps<span class="token operator">&amp;</span>reload
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"onvif"</span>         <span class="token comment">// ONVIF 장치</span>
    <span class="token string-property property">"caps"</span><span class="token operator">:</span> <span class="token punctuation">{</span>               <span class="token comment">// 지원 기능</span>
      <span class="token string-property property">"pantilt"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// 팬 틸트 기능 지원</span>
      <span class="token string-property property">"zoom"</span><span class="token operator">:</span> <span class="token boolean">true</span>          <span class="token comment">// 줌 기능 지원</span>
      <span class="token string-property property">"focus"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>       <span class="token comment">// 초점 제어 지원 안함</span>
      <span class="token string-property property">"iris"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token comment">// 조리개 제어 지원 안함</span>
      <span class="token string-property property">"home"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         <span class="token comment">// 홈 포지션 기능 지원</span>
      <span class="token string-property property">"maxPreset"</span><span class="token operator">:</span> <span class="token number">255</span><span class="token punctuation">,</span>     <span class="token comment">// PTZ 프리셋 최대 255개 등록 지원</span>
      <span class="token string-property property">"aux"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>             <span class="token comment">// AUX 출력 없음</span>
      <span class="token string-property property">"digitalInputs"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>   <span class="token comment">// 디지털 입력 2개 지원</span>
      <span class="token string-property property">"relayOutputs"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    <span class="token comment">// 릴레이 출력 2개 지원</span>
      <span class="token string-property property">"reboot"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>       <span class="token comment">// 원격 재부팅 지원</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">"onvif"</span><span class="token operator">:</span> <span class="token punctuation">{</span>              <span class="token comment">// ONVIF 장치 정보</span>
      <span class="token string-property property">"basic"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"city"</span><span class="token operator">:</span> <span class="token string">"seoul"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"country"</span><span class="token operator">:</span> <span class="token string">"korea"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"deviceType"</span><span class="token operator">:</span> <span class="token string">"NVT"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"host"</span><span class="token operator">:</span> <span class="token string">"192.168.0.211:4500"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"location"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"SNP-3120"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"firmwareVersion"</span><span class="token operator">:</span> <span class="token string">"3.01_140915"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"hardwareId"</span><span class="token operator">:</span> <span class="token string">"SNP-3120"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"macAddress"</span><span class="token operator">:</span> <span class="token string">"00:09:18:73:E9:98"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Samsung Techwin"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"model"</span><span class="token operator">:</span> <span class="token string">"SNP-3120"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"serialNumber"</span><span class="token operator">:</span> <span class="token string">"C5FS6V3D401101R"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><p><strong>장치 제어 응답 코드</strong></p>
<p>서버의 각 채널이 장치 제어 기능을 지원할 경우 클라이언트 측에서 원격 제어할 수 있습니다.<br>
원격 제어 기능들은 로그인 한 사용자 계정에 <code>장치 제어 권한</code>이 있는 경우만 동작합니다.</p>
<p>장치 제어 명령은 <code>/api/channel/</code> 다음에 개별 명령과 대상 채널과 추가로 필요한 매개변수를 지정하는 형식입니다.<br>
여기서부터 사용할 예제에서는 대상 채널을 1번<code>ch=1</code>으로 가정했습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>home<span class="token operator">&amp;</span>indent<span class="token operator">=</span><span class="token number">2</span>
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>          <span class="token comment">// 응답 코드</span>
  <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"성공"</span>
<span class="token punctuation">}</span>
</code></pre><p>서버는 제어 명령을 보내고 나서 장치의 실행 결과를 기다리지 않고 장치와는 비동기로 HTTP 응답 코드 200으로 아래 코드 중 하나를 포함하는 JSON 데이터를 사용합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token number">0</span>     <span class="token comment"># 성공</span>
<span class="token operator">-</span><span class="token number">1</span>    <span class="token comment"># 사용자 권한 없음</span>
<span class="token operator">-</span><span class="token number">2</span>    <span class="token comment"># 장치가 지원하지 않는 기능</span>
<span class="token operator">-</span><span class="token number">3</span>    <span class="token comment"># 장치가 명령을 수행할 준비가 안됨</span>
<span class="token operator">-</span><span class="token number">4</span>    <span class="token comment"># 장치가 아직 이전 요청을 처리중 (busy)</span>
<span class="token operator">-</span><span class="token number">5</span>    <span class="token comment"># 잘못된 채널</span>
<span class="token operator">-</span><span class="token number">6</span>    <span class="token comment"># 잘못된 장치 토큰</span>
<span class="token operator">-</span><span class="token number">7</span>    <span class="token comment"># 잘못된 요청</span>
<span class="token operator">-</span><span class="token number">8</span>    <span class="token comment"># 잘못된 매개변수</span>
<span class="token operator">-</span><span class="token number">9</span>    <span class="token comment"># 장치 응답 오류</span>
</code></pre><p>위의 응답 코드는 모든 장치 제어 명령에 공통으로 사용됩니다.</p>
<p><code>message</code> 부분은 언어를 지정하지 않은 경우 서버 측에 설정된 언어가 사용됩니다.<br>
아래와 같이 매개변수에 언어를 지정하여 사용해도 됩니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>home<span class="token operator">&amp;</span>lang<span class="token operator">=</span>en_US
</code></pre><p><a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EC%96%B8%EC%96%B4-%EB%AA%A9%EB%A1%9D">지원하는 언어 목록</a>은 부록을 참고하십시오.</p>
<h3>팬틸트 제어</h3>
<p>장치가 팬틸트 기능을 지원할 경우 아래 명령들로 제어할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 매개변수가 없는 명령들</span>
home    <span class="token comment"># 홈 위치로 복귀</span>
stop    <span class="token comment"># 정지 (모든 이동에 대해 공통으로 사용)</span>

<span class="token comment"># 매개변수와 함께 사용하는 명령들 (계속 이동 시키는 명령들)</span>
move    <span class="token comment"># 가로 세로 방향 이동</span>
zoom    <span class="token comment"># 줌 인 / 아웃</span>
focus   <span class="token comment"># 초점 가까이 / 멀리</span>
iris    <span class="token comment"># 조리개 열기 / 닫기</span>
</code></pre><p>제어 명령은 반드시 하나의 대상 채널과 명령으로 구성됩니다.<br>
예를 들어 <code>home</code> 명령일 경우 대상 채널을 매개변수로 지정해야 합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>home
</code></pre><p>매개변수와 함께 사용하는 명령들은 이동 방향과 속도를 지정해야 합니다.<br>
방향과 속도를 가지는 명령들은 <code>stop</code> 명령을 보내기 전까지 계속 이동합니다.<br>
<code>move</code> 명령은 가로, 세로의 이동 방향을 표현하기 위해 2개의 매개변수를 사용합니다.<br>
그리고 이동 속도는 <code>0</code>과 <code>1</code> 사이의 소수값으로 표현합니다.<br>
<code>-1</code>에서 <code>1</code> 사이의 소수값 2개를 사용하여 2차원 공간에 대해 현 위치로부터 이동 방향과 속도를 모두 표현할 수 있습니다.</p>
<p><img src="../img/ptz.png" alt="Alt 이동 방향과 속도"></p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span>  <span class="token comment"># 오른쪽 위 대각선 방향으로 중간 속도로 이동</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>       <span class="token comment"># 왼쪽으로 최대 속도로 이동 (세로가 0인 경우는 생략 가능)</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.1</span>    <span class="token comment"># 아래쪽으로 느리게 이동</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>move          <span class="token comment"># 가로, 세로 모두 0인 경우 모두 생략 가능, 정지 명령 stop과 동일함</span>
</code></pre><p>나머지 <code>zoom</code>, <code>focus</code>, <code>iris</code> 명령은 모두 카메라 렌즈 제어 기능이며, 전진, 후진을 표현하기 위해 1개의 매개변수를 사용합니다.<br>
마찬가지로 이동 속도와 방향을 함께 표현하기 위해 <code>-1</code>에서 <code>1</code> 사이의 소수값 1개를 사용하여<br>
1차원 공간에 대해 현 위치로부터 이동 방향과 속도를 모두 표현할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>zoom<span class="token operator">=</span><span class="token number">0.5</span>      <span class="token comment"># 중간 속도로 줌인</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>zoom<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.5</span>     <span class="token comment"># 중간 속도로 줌 아웃</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>focus<span class="token operator">=</span><span class="token number">0.1</span>     <span class="token comment"># 아주 느리게 초점 가까이</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>focus<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.5</span>    <span class="token comment"># 중간 속도로  초점 멀리</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>iris<span class="token operator">=</span><span class="token operator">-</span><span class="token number">0.1</span>    <span class="token comment"># 아주 느리게 조리개 닫기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>ptz<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>iris<span class="token operator">=</span><span class="token number">1</span>       <span class="token comment"># 최대 속도로 조리개 열기</span>
</code></pre><p>이동 명령에 대해 물리적인 이동 한계 지점과 속도는 각 장치의 고유 특성에 따라 다를 수 있습니다.</p>
<h3>팬틸트 프리셋 제어</h3>
<p>장치가 팬틸트 프리셋 기능을 지원할 경우 사용할 수 있습니다.</p>
<p><strong>프리셋 목록 요청</strong><br>
이 명령은 서버가 이미 확보한 프리셋 목록을 요청합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 채널 1번의 프리셋 목록을 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>list

<span class="token comment"># 여러 채널의 프리셋 목록을 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">&amp;</span>list

<span class="token comment"># 모든 채널의 프리셋 목록을 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>list
</code></pre><p>매번 장치로부터 다시 읽어서 전송하지 않으므로 응답 시간이 빠른 반면,<br>
타 소프트웨어(예: 장치의 내장 웹 페이지)을 사용하여 프리셋 목록을 변경한 경우<br>
서버는 변경된 목록이 아니라 이미 확보하고 있던 과거의 목록을 응답할 수 있습니다.</p>
<p>요청이 성공할 경우 서버는 다음과 같은 형식의 JSON 데이터로 응답합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"성공"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"preset"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"정문"</span><span class="token punctuation">,</span>   <span class="token comment">// 각 프리셋 위치에 대해 사용자가 편의상 붙이는 이름</span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"1"</span>      <span class="token comment">// 각 프리셋 위치를 가리키는 고유 아이디</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"주차장"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"2"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ... 중략</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><p><strong>프리셋 목록 갱신 요청</strong><br>
이 명령은 장치로부터 프리셋 목록을 다시 읽어서 전송합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 채널 1번의 프리셋 목록을 갱신 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>reload

<span class="token comment"># 여러 채널의 프리셋 목록을 갱신 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">&amp;</span>reload

<span class="token comment"># 모든 채널의 프리셋 목록을 갱신 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>reload
</code></pre><p><code>list</code> 명령과 반대로 응답 시간이 느린 반면 항상 장치가 가지고 있는 프리셋 목록과 동일한 데이터를 받을 수 있습니다.</p>
<p><strong>프리셋 추가</strong><br>
카메라의 현재 위치를 프리셋으로 추가합니다.</p>
<p>프리셋을 추가하면 카메라에서 프리셋 토큰이 생성됩니다.<br>
옵션으로 <code>name</code>을 지정할 수 있습니다. 카메라가 다양한 문자를 지원하지 않으므로 가능하면 영문자와 숫자로 지정하길 권장합니다.<br>
<code>name</code>을 지정하지 않으면 카메라에서 생성된 프리셋 토큰과 동일한 이름으로 저장됩니다.</p>
<p>카메라가 지원하는 최대 프리셋 갯수는 <a href="#%EC%9E%A5%EC%B9%98-%EC%A0%95%EB%B3%B4-%EB%B0%8F-%EC%A7%80%EC%9B%90-%EA%B8%B0%EB%8A%A5-%EB%AA%A9%EB%A1%9D-%EC%9A%94%EC%B2%AD">장치 정보 및 지원 기능 목록 요청</a>을 사용하여 확인할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 프리셋 신규 추가시</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>add<span class="token operator">&amp;</span>name<span class="token operator">=</span>door

<span class="token comment"># 프리셋 신규 추가시 (name 생략한 경우)</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>add
</code></pre><p><strong>프리셋 지정</strong><br>
기존 설정된 프리셋을 현 위치로 변경 저장합니다.</p>
<p>프리셋을 설정하기 위해서는 두 개의 매개변수가 필요합니다.<br>
첫 번째 매개변수는 <code>프리셋 토큰</code>, 두 번째 매개변수는 <code>name</code>입니다.<br>
<code>name</code>은 이름을 변경할 경우만 지정하면 됩니다.<br>
카메라가 다양한 문자를 지원하지 않으므로 <code>name</code>은 가능하면 영문자와 숫자로 지정하길 권장합니다.</p>
<p>동일한 <code>프리셋 토큰</code>의 프리셋이 이미 있으면 덮어쓰고, 그렇지 아니면 새로 추가됩니다.<br>
문자열을 정상적으로 보내기 위해서는 URL 인코딩하는 것을 잊지 마십시오.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 기존 프리셋 위치 변경시</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>set<span class="token operator">=</span>preset1

<span class="token comment"># 기존 프리셋 위치 및 이름 변경시</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>set<span class="token operator">=</span>preset1<span class="token operator">&amp;</span>name<span class="token operator">=</span>room
</code></pre><p>프리셋 지정 요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"deviceResponseCode"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>  <span class="token comment">// 카메라의 응답 코드</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                  <span class="token comment">// 응답 코드</span>
  <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"성공"</span><span class="token punctuation">,</span>          <span class="token comment">// 응답 메시지</span>
  <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"preset3"</span><span class="token punctuation">,</span>         <span class="token comment">// 카메라에서 생성된 프리셋 토큰</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"room"</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>프리셋 삭제</strong><br>
지정한 프리셋 토큰의 프리셋을 삭제합니다.</p>
<p>프리셋을 삭제하기 위해서는 <code>프리셋 토큰</code>을 매개변수로 지정해야 합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 토큰 1의 프리셋을 삭제</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>rm<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 여러 개의 프리셋을 삭제</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>rm<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>
</code></pre><p>프리셋 삭제 요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"preset"</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"deviceResponseCode"</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">,</span>   <span class="token comment">// 카메라의 응답 코드</span>
      <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                  <span class="token comment">// 응답 코드</span>
      <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"성공"</span><span class="token punctuation">,</span>          <span class="token comment">// 응답 메시지</span>
      <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"preset1"</span>          <span class="token comment">// 삭제된 프리셋 토큰</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ... 중략</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>프리셋 위치로 이동</strong></p>
<p>지정한 프리셋 토큰의 프리셋 위치로 이동합니다.</p>
<p>프리셋 위치로 이동시키기 위해서는 <code>프리셋 토큰</code>을 매개변수로 지정해야 합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>preset<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>go<span class="token operator">=</span><span class="token number">1</span> <span class="token comment"># 프리셋 1번으로 이동</span>
</code></pre><h3>릴레이 출력</h3>
<p>장치가 릴레이 출력을 지원할 경우 다음과 같이 릴레이 출력의 목록을 요청할 수 있습니다.<br>
릴레이 출력 목록을 얻기 위해서는 장치가 연결된 하나의 채널을 지정해야 합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 채널 1번에 연결된 릴레이 출력 목록 요청</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>list

<span class="token comment"># 여러 채널의 릴레이 출력 목록을 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">&amp;</span>list

<span class="token comment"># 모든 채널의 릴레이 출력 목록을 요청하기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>list
</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>          <span class="token comment">// 응답 코드</span>
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"성공"</span><span class="token punctuation">,</span>  <span class="token comment">// 응답 메시지</span>
    <span class="token string-property property">"relay"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"계단"</span><span class="token punctuation">,</span>   <span class="token comment">// 이름</span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"7657b9aa-61d6-4b4f-a70a-c91e8657dfcf"</span> <span class="token comment">// 릴레이 출력 토큰</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"창고"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"cffd1289-cb2c-4d82-8c6f-c7634b432f57"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 중략</span>
<span class="token punctuation">]</span>
</code></pre><p>릴레이 출력 명령은 <code>on</code> 또는 <code>off</code> 명령과 하나 이상의 릴레이 출력 토큰을 사용하여 지정합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># 7657b9aa-61d6-4b4f-a70a-c91e8657dfcf 출력을 켜기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf

<span class="token comment"># 7657b9aa-61d6-4b4f-a70a-c91e8657dfcf 출력을 끄기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf

<span class="token comment"># 두 개의 출력을 동시에 켜기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf<span class="token punctuation">,</span>cffd1289<span class="token operator">-</span>cb2c<span class="token operator">-</span><span class="token number">4</span>d82<span class="token operator">-</span><span class="token number">8</span>c6f<span class="token operator">-</span>c7634b432f57

<span class="token comment"># on과 off를 인자에 동시 지정할 경우 off 명령은 무시됩니다.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf<span class="token operator">&amp;</span>off<span class="token operator">=</span>cffd1289<span class="token operator">-</span>cb2c<span class="token operator">-</span><span class="token number">4</span>d82<span class="token operator">-</span><span class="token number">8</span>c6f<span class="token operator">-</span>c7634b432f57

<span class="token comment"># 하나는 켜고 하나는 끌 경우는 각각 명령을 나누어 각 각 보내야 합니다.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">7657</span>b9aa<span class="token operator">-</span><span class="token number">61</span>d6<span class="token operator">-</span><span class="token number">4</span>b4f<span class="token operator">-</span>a70a<span class="token operator">-</span>c91e8657dfcf
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>relay<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span>cffd1289<span class="token operator">-</span>cb2c<span class="token operator">-</span><span class="token number">4</span>d82<span class="token operator">-</span><span class="token number">8</span>c6f<span class="token operator">-</span>c7634b432f57
</code></pre><h3>AUX 출력</h3>
<p>장치가 AUX 출력을 지원할 경우 <code>릴레이 출력</code>와 마찬가지로 <code>on</code> 또는 <code>off</code> 명령을 사용합니다.<br>
AUX 출력은 토큰 대신 0부터 시작하는 번호를 사용하여 지정합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token comment"># AUX 0 출력을 켜기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span>

<span class="token comment"># AUX 1 출력을 끄기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 두 개의 출력을 동시에 켜기</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>

<span class="token comment"># on과 off를 인자에 동시 지정할 경우 off 명령은 무시됩니다.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment"># 하나는 켜고 하나는 끌 경우는 각각 명령을 나누어 각 각 보내야 합니다.</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>on<span class="token operator">=</span><span class="token number">0</span>
<span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>aux<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>off<span class="token operator">=</span><span class="token number">1</span>
</code></pre><h3>장치 재부팅</h3>
<p>장치가 지원할 경우 원격으로 아래 명령으로 재부팅 시킬 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>reboot<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span>    <span class="token comment"># 1번 채널의 카메라 재부팅</span>

</code></pre><p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"성공"</span>
<span class="token punctuation">}</span>
</code></pre><p>응답을 보낸 후 카메라는 수 초 내에 재부팅을 시작합니다.<br>
재부팅이 완료되데 일반적으로 1분 정도의 시간이 걸리 수 있으며 카메라마다 다를 수 있습니다.</p>
<p>클라이언트 소프트웨어 관점에서는 재부팅 명령을 보낸 후 영상 접속이 끊어진 후부터<br>
주기적으로 재 접속을 시도해서 재부팅이 완료되는 과정을 모니터링할 필요가 있습니다.</p>
<h2>채널 추가 <code>@0.9.7</code></h2>
<p>아래와 같이 채널을 추가할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel

<span class="token comment"># 사용 가능한 매개변수</span>
auth  <span class="token comment"># 이미 로그인 상태가 아닌 경우 API 호출시 로그인</span>
lang  <span class="token comment"># 오류 코드 메시지에 사용될 언어 지정</span>

<span class="token comment"># 사용 예</span>
<span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
<span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">?</span>lang<span class="token operator">=</span>vi<span class="token operator">-</span><span class="token constant">VN</span>   <span class="token comment"># 베트남어로 지정</span>
</code></pre><h3>요청 데이터</h3>
<p>POST 데이터에 <code>JSON</code> 형식으로 추가할 채널 정보를 정의합니다.<br>
여러 채널을 지정할 수 있도록 배열 형식을 사용합니다.</p>
<p>일부 데이터 항목들은 동영상 소스의 종류에 따라 다르게 정의되어 있습니다.</p>
<h4>카메라</h4>
<p><code>ONVIF</code> 프로토콜을 지원하는 카메라를 추가할 수 있습니다.<br>
선택 항목들은 명시하지 않으면 default 값으로 간주됩니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                                       # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> 등록할 채널 번호 
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 동영상 스트림"</span><span class="token punctuation">,</span>                       # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 채널 이름
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.220:554/stream1"</span><span class="token punctuation">,</span>    # <span class="token punctuation">[</span>필수<span class="token punctuation">]</span> <span class="token constant">RTSP</span> <span class="token constant">URL</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                                     # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token constant">RTP</span> 프로토콜<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token constant">TCP</span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token constant">UDP</span>
    <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                              # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token maybe-class-name">Substream</span> 사용 여부<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token maybe-class-name">Substream</span> <span class="token function">사용</span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token maybe-class-name">Substream</span> 사용 안함
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                                  # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token constant">RTSP</span> 인증 id
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                             # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token constant">RTSP</span> 인증 비밀번호
    <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                      # <span class="token punctuation">[</span>필수<span class="token punctuation">]</span> <span class="token constant">ONVIF</span> 카메라로 <span class="token function">등록</span> <span class="token punctuation">(</span><span class="token constant">ONVIF</span> 기능 사용 가능<span class="token punctuation">)</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 카메라"</span><span class="token punctuation">,</span>                            # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 카메라 이름
      <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.220:8000"</span>            # <span class="token punctuation">[</span>필수<span class="token punctuation">]</span> <span class="token number">3</span><span class="token punctuation">)</span> 카메라 장치 <span class="token constant">URL</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><ol>
<li><code>chid</code>:
<ul>
<li>1부터 시작하는 채널 번호</li>
<li><code>chid</code>를 명시하지 않으면 앞 쪽부터 빈자리에 자동 할당됩니다.</li>
</ul>
</li>
<li><code>substream</code>:
<ul>
<li>카메라의 동일 입력 소스에서 등록된 동영상 스트림보다 저해상도 스트림이 있는 경우 분할 화면에서 디스플레이 영역이 작은 경우, 자동으로 저해상도 스트림을 표시하도록 동작합니다.</li>
<li>이 기능을 사용하지 않고 지정한 동영상 스트림만 사용하고자 할 경우, <code>substream</code> 항목을 <code>false</code>로 지정합니다.</li>
</ul>
</li>
<li><code>url</code> (카메라 장치 URL):
<ul>
<li>원래 <code>http://192.168.0.220:8000</code> 형식이지만 <code>ONVIF</code> 장치임을 명시하기 위해 <code>onvif://192.168.0.220:8000</code> 로 표기합니다.</li>
</ul>
</li>
</ol>
<h4>동영상 스트림</h4>
<p><code>RTSP</code> 프로토콜을 사용하는 동영상 스트림을 추가할 수 있습니다.<br>
카메라의 경우에도 동영상 스트림 외에 다른 기능을 사용하지 않을 경우 사용할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                                        # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 채널 번호<span class="token punctuation">,</span> 명시하지 않으면 자동 할당됨
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 동영상 스트림"</span><span class="token punctuation">,</span>                        # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 채널 이름
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.220:554/stream1"</span><span class="token punctuation">,</span>     # <span class="token punctuation">[</span>필수<span class="token punctuation">]</span> <span class="token constant">RTSP</span> <span class="token constant">URL</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                                      # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token constant">RTP</span> 프로토콜<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token constant">TCP</span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token operator">:</span> <span class="token constant">UDP</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                                   # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token constant">RTSP</span> 인증 id
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>                              # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> <span class="token constant">RTSP</span> 인증 비밀번호    
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h4>동영상 파일</h4>
<p>로컬 PC 또는 윈도우 공유 폴더에 있는 동영상 파일을 추가할 수 있습니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                                         # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 채널 번호<span class="token punctuation">,</span> 명시하지 않으면 자동 할당됨
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 PC 동영상"</span><span class="token punctuation">,</span>                             # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 채널 이름
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\videos\\sample.mp4"</span><span class="token punctuation">,</span>                # <span class="token punctuation">[</span>필수<span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> 동영상 <span class="token function">파일명</span> <span class="token punctuation">(</span>full path<span class="token punctuation">)</span>
    <span class="token string-property property">"playback"</span><span class="token operator">:</span> <span class="token string">"once"</span>                                 # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> once<span class="token operator">:</span> 한 번 재생<span class="token punctuation">,</span> <span class="token literal-property property">repeat</span><span class="token operator">:</span> 반복 <span class="token function">재생</span> <span class="token punctuation">(</span><span class="token keyword module keyword-default">default</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                                         # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 채널 번호<span class="token punctuation">,</span> 명시하지 않으면 자동 할당됨
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"친구 PC 공유 폴더 동영상"</span><span class="token punctuation">,</span>                  # <span class="token punctuation">[</span>선택<span class="token punctuation">]</span> 등록할 채널 이름
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"\\\\192.168.0.14\\videos\\sample.mp4"</span><span class="token punctuation">,</span>  # <span class="token punctuation">[</span>필수<span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">)</span> 동영상 <span class="token function">파일명</span> <span class="token punctuation">(</span>full path<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><ol>
<li><code>videoSrc</code> (동영상 파일명):
<ul>
<li><code>\</code>문자를 하나만 사용할 경우 <code>ESCAPE</code> 문자로 해석되므로 파일 경로를 표기할 때 <code>\\</code> 를 사용합니다.</li>
</ul>
</li>
</ol>
<ul>
<li>요청 데이터 예</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 동영상 스트림"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 카메라"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.30:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string-property property">"uid"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"password"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 카메라"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.30:80"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 동영상 파일"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"playback"</span><span class="token operator">:</span> <span class="token string">"once"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h4>응답 데이터</h4>
<p>위 예제와 같이 요청한 경우 서버는 다음과 같이 HTTP 응답 코드와 함께 JSON 데이터로 응답합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                               # 오류 코드
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"채널이 성공적으로 추가되었습니다."</span>  # 오류 메시지
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"added"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                             # 할당된 채널 번호
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 스트림"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"rtsp"</span><span class="token punctuation">,</span>                        # 채널 <span class="token function">종류</span> <span class="token punctuation">(</span><span class="token constant">RTSP</span> 스트림<span class="token punctuation">)</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://admin:admin@192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                 # 공유 프레임 버퍼 <span class="token constant">API</span> 기능 사용시 프레임 버퍼 인터페이스
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch1"</span><span class="token punctuation">,</span>              # 프레임 버퍼의 공유 메모리 이름
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch1"</span>             # 프레임 버퍼 갱신 이벤트 이름
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                             # 할당된 채널 번호
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 카메라"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"onvif"</span><span class="token punctuation">,</span>                       # 채널 <span class="token function">종류</span> <span class="token punctuation">(</span><span class="token constant">ONVIF</span> 카메라<span class="token punctuation">)</span>
      <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.30:80"</span><span class="token punctuation">,</span>   # 장치 <span class="token constant">URL</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.30:554/stream1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                           # <span class="token constant">RTP</span> 프로토콜 <span class="token constant">TCP</span> 사용 <span class="token function">여부</span> <span class="token punctuation">(</span><span class="token boolean">false</span> 이면 <span class="token constant">UDP</span><span class="token punctuation">)</span>
      <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                    # <span class="token constant">ONVIF</span> 카메라의 경우 서브스트림 사용 여부
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch2"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch2"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                             # 할당된 채널 번호
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 동영상 파일"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span>                        # 채널 <span class="token function">종류</span> <span class="token punctuation">(</span>파일<span class="token punctuation">)</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"playback"</span><span class="token operator">:</span> <span class="token string">"once"</span><span class="token punctuation">,</span>                    # once<span class="token operator">:</span> 동영상 한 번 재생<span class="token punctuation">,</span> <span class="token literal-property property">repeat</span><span class="token operator">:</span> 반복 재생
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch3"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch3"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>만약 오류가 발생할 경우 응답 데이터는 아래 예와 같습니다.</p>
<ul>
<li>요청한 채널 전체를 추가하지 못한 경우</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span>                              # 오류 코드
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"채널을 추가할 수 없습니다."</span>    # 오류 메시지
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                                # 실패한 목록
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://admin:admin@192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>요청한 채널 중 일부를 추가하지 못한 경우</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span>                              # 오류 코드
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"일부 채널만 추가되었습니다."</span>   # 오류 메시지
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"added"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                                 # 추가된 목록
    <span class="token punctuation">{</span>
      <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                             # 할당된 채널 번호
      <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"내 카메라"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"onvif"</span><span class="token punctuation">,</span>                       # 채널 <span class="token function">종류</span> <span class="token punctuation">(</span><span class="token constant">ONVIF</span> 카메라<span class="token punctuation">)</span>
      <span class="token string-property property">"device"</span><span class="token operator">:</span> <span class="token string">"onvif://192.168.0.30:80"</span><span class="token punctuation">,</span>   # 장치 <span class="token constant">URL</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://192.168.0.30:554/stream1"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tcp"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                           # <span class="token constant">RTP</span> 프로토콜 <span class="token constant">TCP</span> 사용 <span class="token function">여부</span> <span class="token punctuation">(</span><span class="token boolean">false</span> 이면 <span class="token constant">UDP</span><span class="token punctuation">)</span>
      <span class="token string-property property">"substream"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                    # <span class="token constant">ONVIF</span> 카메라의 경우 서브스트림 사용 여부
      <span class="token string-property property">"sharedFrameBuffer"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"data"</span><span class="token operator">:</span> <span class="token string">"sfb_data_ch2"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"event"</span><span class="token operator">:</span> <span class="token string">"sfb_event_ch2"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                                # 실패한 목록
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"rtsp://admin:admin@192.168.0.162:554/stream1"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"source"</span><span class="token operator">:</span> <span class="token string">"C:\\video\\myVideo.mp4"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>
<p>오류 코드<br>
<code>status</code>의 <code>code</code> 항목은 성공할 경우 이외에도 다음과 같은 오류 코드를 반환할 수 있습니다.</p>
<table>
<thead>
<tr>
<th>코드</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>성공</td>
</tr>
<tr>
<td><code>-1</code></td>
<td>지정한 채널 번호가 이미 사용중인 경우</td>
</tr>
<tr>
<td><code>-2</code></td>
<td>필수 항목인 <code>source</code>가 없는 경우</td>
</tr>
<tr>
<td><code>-3</code></td>
<td><code>device</code> 항목이 있는 경우, 필수 항목인 <code>url</code>이 없는 경우</td>
</tr>
<tr>
<td><code>-4</code></td>
<td>라이센스 상 최대 채널 수를 초과하여 요청한 경우</td>
</tr>
<tr>
<td><code>-5</code></td>
<td>일부 채널을 추가하지 못한 경우</td>
</tr>
<tr>
<td><code>-6</code></td>
<td>요청받은 채널 전체를 추가하지 못한 경우</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>채널 삭제 <code>@0.9.7</code></h2>
<p>아래와 같이 채널을 삭제할 수 있습니다.<br>
요청 데이터는 사용하지 않고 매개변수 만으로 삭제할 채널을 지정합니다.</p>
<h4>요청</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span>

<span class="token comment"># {id} 부분에는 삭제할 채널 번호를 지정합니다.</span>
<span class="token comment"># 콤마(,) 문자를 사용하여 여러 채널을 지정할 수 있습니다.</span>
<span class="token comment"># 또는 all을 사용하여 전체 체널을 지정할 수 있습니다.</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token number">1</span>          <span class="token comment"># 1번 채널 삭제</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>      <span class="token comment"># 1,2,3번 채널 삭제</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>all        <span class="token comment"># 모든 채널 삭제</span>


<span class="token comment"># 사용 가능한 매개변수</span>
auth  <span class="token comment"># 이미 로그인 상태가 아닌 경우 API 호출시 로그인</span>
lang  <span class="token comment"># 오류 코드 메시지에 사용될 언어 지정</span>

<span class="token comment"># 사용 예</span>
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">?</span>auth<span class="token operator">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token operator">%</span><span class="token number">3</span>D
<span class="token constant">DELETE</span> <span class="token operator">/</span>api<span class="token operator">/</span>channel<span class="token operator">/</span>all<span class="token operator">?</span>lang<span class="token operator">=</span>vi<span class="token operator">-</span><span class="token constant">VN</span>   <span class="token comment"># 베트남어로 지정</span>
</code></pre><h4>응답 데이터</h4>
<p>채널 삭제 요청에 대해 서버는 다음과 같이 HTTP 응답 코드와 함께 JSON 데이터로 응답합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    # 오류 코드
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"채널이 성공적으로 삭제되었습니다."</span>  # 오류 메시지
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"deleted"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    # 삭제된 채널 목록
    <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token number">3</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>만약 오류가 발생할 경우 응답 데이터는 아래 예와 같습니다.</p>
<ul>
<li>요청한 채널 전체를 삭제하지 못한 경우</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span>   # 오류 코드
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"채널을 삭제할 수 없습니다."</span>  # 오류 메시지
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>     # 실패한 채널 목록
    <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">,</span>    
    <span class="token number">3</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>요청한 채널 중 일부를 삭제하지 못한 경우</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">"code"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span>   # 오류 코드
    <span class="token string-property property">"message"</span><span class="token operator">:</span> <span class="token string">"일부 채널만 삭제되었습니다."</span>  # 오류 메시지
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"deleted"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    # 삭제된 채널 목록
    <span class="token number">1</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">"failed"</span><span class="token operator">:</span> <span class="token punctuation">[</span>     # 실패한 채널 목록
    <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token number">3</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><ul>
<li>
<p>오류 코드<br>
<code>status</code>의 <code>code</code> 항목은 성공할 경우 이외에도 다음과 같은 오류 코드를 반환할 수 있습니다.</p>
<table>
<thead>
<tr>
<th>코드</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td>성공</td>
</tr>
<tr>
<td><code>-7</code></td>
<td>삭제할 채널 번호가 지정되지 않은 경우</td>
</tr>
<tr>
<td><code>-8</code></td>
<td>지정한 채널이 존재하지 않는 경우</td>
</tr>
<tr>
<td><code>-9</code></td>
<td>일부 채널을 삭제하지 못한 경우</td>
</tr>
<tr>
<td><code>-10</code></td>
<td>요청받은 모든 채널을 삭제하지 못한 경우</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>이벤트 트리거 <code>@0.9.17</code></h2>
<p>클라이언트 측에서 이벤트 트리거를 입력할 수 있습니다.<br>
입력된 트리거는 이벤트로 기록되고 검색해 볼 수 있습니다.<br>
또한 이벤트 트리거 발생 구간의 녹화 영상을 백업 전용 스토리지에 백업할 수 있는 이벤트 백업을 지원합니다.<br>
서버에서는 이벤트 발생 후 녹화 (<code>postAlarm</code>) 구간까지 일반 녹화가 진행된 이후 자동으로 이벤트 백업이 시작됩니다.<br>
<code>preAlarm</code>, <code>postAlarm</code>은 각각 최대 1시간입니다.</p>
<h4>요청</h4>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code><span class="token constant">PUT</span> <span class="token operator">/</span>api<span class="token operator">/</span>event<span class="token operator">/</span>trigger
</code></pre><ul>
<li>요청 데이터<br>
이벤트 트리거 세부 항목을 지정할 수 있습니다.</li>
</ul>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"chid"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                              <span class="token comment">// 채널 번호</span>
  <span class="token string-property property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2022-11-29T10:13:09.646"</span>  <span class="token comment">// (Option) 지정하지 않으면 서버 수신 시각 적용</span>
  <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"화재 발생"</span><span class="token punctuation">,</span>                    <span class="token comment">// 제목 (검색 결과에 표시됨)</span>
  <span class="token string-property property">"comment"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                            <span class="token comment">// 주석 (내용은 자유 형식)</span>
    <span class="token string-property property">"location"</span><span class="token operator">:</span> <span class="token string">"101동 5층"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"tel"</span><span class="token operator">:</span> <span class="token string">"119"</span><span class="token punctuation">,</span>                 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">"tasks"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"command"</span><span class="token operator">:</span> <span class="token string">"presetGo"</span><span class="token punctuation">,</span>                <span class="token comment">// (Option) PTZ 프리셋 이동</span>
      <span class="token string-property property">"token"</span><span class="token operator">:</span> <span class="token string">"preset1"</span>                    <span class="token comment">// 프리셋 토큰</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"command"</span><span class="token operator">:</span> <span class="token string">"eventBackup"</span><span class="token punctuation">,</span>             <span class="token comment">// (Option) 이벤트 영상 백업 (이 항목을 지정한 경우만 영상 백업 수행)</span>
      <span class="token string-property property">"preAlarm"</span><span class="token operator">:</span> <span class="token string">"5s"</span><span class="token punctuation">,</span>                     <span class="token comment">// 이벤트 발생 전 녹화 구간, 숫자 표기시 초 단위로 간주 (예: 60 이면 60초를 의미함)</span>
      <span class="token string">"postAlarm"</span> <span class="token string">"1m"</span><span class="token punctuation">,</span>                     <span class="token comment">// 이벤트 발생 후 녹화 구간</span>
      <span class="token string-property property">"chids"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>                 <span class="token comment">// (Option) 백업할 채널 번호 (자기 자신은 지정하지 않아도 기본으로 포함됨)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><h4>응답 데이터</h4>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드와 함께 JSON 데이터로 저장될 동영상의 URL을 응답합니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"eventId"</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>  <span class="token comment">// 저장된 이벤트 id</span>
  <span class="token string-property property">"videoURLs"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// 백업될 동영상 url</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch1-20221129-101309.mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch2-20221129-101309.mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch3-20221129-101309.mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch4-20221129-101309.mp4"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>같은 디렉토리에 동일한 파일이 이미 존재하는 경우, 중복 방지를 위해 아래와 같이 번호가 붙여집니다.</p>
<pre data-role="codeBlock" data-info="jsx" class="language-jsx jsx"><code><span class="token punctuation">{</span>
  <span class="token string-property property">"eventId"</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>  <span class="token comment">// 저장된 이벤트 id</span>
  <span class="token string-property property">"videoURLs"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token comment">// 백업될 동영상 url</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch1-20221129-101309(2).mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch2-20221129-101309(2).mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch3-20221129-101309(2).mp4"</span><span class="token punctuation">,</span>
    <span class="token string">"/event-storage/e/20221129/101309/ch4-20221129-101309(2).mp4"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>먼저 응답을 보낸 후 이벤트 백업은 <code>postAlarm</code>으로 예약된 시점에 시작되므로<br>
클라이언트에서는 응답받은 URL로 즉시 접근할수 는 없고 백업이 완료된 이후(<code>postAlarm</code> 기준 약 2분 경과 후)부터 동영상 파일에 접근할 수 있습니다.</p>
<p>응답 데이터의 <code>videoURL</code>에 포함된 파일명은 서버 측 로컬 타임 기준으로 생성되며 아래와 같은 형식입니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>ch1<span class="token operator">-</span><span class="token number">20221129</span><span class="token operator">-</span><span class="token number">101309.</span>mp4
<span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span>
 <span class="token operator">|</span>      <span class="token operator">|</span>       <span class="token operator">|</span>
 <span class="token operator">|</span>      <span class="token operator">|</span>       <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> HHmmss <span class="token punctuation">(</span>시<span class="token punctuation">,</span> 분<span class="token punctuation">,</span> 초 각 <span class="token number">2</span>자리<span class="token punctuation">)</span>
 <span class="token operator">|</span>      <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token constant">YYYYMMDD</span> <span class="token punctuation">(</span>년도 <span class="token number">4</span>자리<span class="token punctuation">,</span> 월<span class="token punctuation">,</span> 일 각 <span class="token number">2</span>자리<span class="token punctuation">)</span>
 <span class="token operator">+</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> 채널 번호 <span class="token punctuation">(</span>ch 이후 가변 길이<span class="token punctuation">)</span>
</code></pre><h2>부록</h2>
<h3>base64 인코딩</h3>
<p>base64 인코딩 관련한 더 자세한 정보는 아래 링크들을 참고하십시오.</p>
<ul>
<li><a href="https://www.base64encode.org/">https://www.base64encode.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding">https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding</a></li>
<li><a href="https://www.w3schools.com/jsref/met_win_btoa.asp">https://www.w3schools.com/jsref/met_win_btoa.asp</a></li>
</ul>
<h3>URL 인코딩</h3>
<p>URL 인코딩 관련한 더 자세한 정보는 아래 링크들을 참고하십시오.</p>
<ul>
<li><a href="http://www.convertstring.com/ko/EncodeDecode/UrlEncode">http://www.convertstring.com/ko/EncodeDecode/UrlEncode</a></li>
<li><a href="https://www.urlencoder.org/">https://www.urlencoder.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_encodeuricomponent.asp">https://www.w3schools.com/jsref/jsref_encodeuricomponent.asp</a></li>
</ul>
<h3>URL 디코딩</h3>
<p>URL 디코딩에 관련한 더 자세한 정보는 아래 링크들을 참고하십시오.</p>
<ul>
<li><a href="http://www.convertstring.com/ko/EncodeDecode/UrlDecode">http://www.convertstring.com/ko/EncodeDecode/UrlDecode</a></li>
<li><a href="https://www.urldecoder.org/">https://www.urldecoder.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_decodeuricomponent.asp">https://www.w3schools.com/jsref/jsref_decodeuricomponent.asp</a></li>
</ul>
<h3>ISO 8601 형식으로 날짜 시각 표현하기</h3>
<pre data-role="codeBlock" data-info="" class="language-text"><code>YYYY-MM-DDThh:mm:ss.sss±Hh:Mm (로컬 타임 표기)
또는
YYYY-MM-DDThh:mm:ss.sssZ (UTC 표기)
또 하나 더
YYYY-MM-DDThh:mm:ss.sss (서버의 로컬 타임)

여기서,
  YYYY: 년
  MM: 월
  DD: 일
  hh: 시 (24시 표기)
  mm: 분
  ss: 초
  sss: 1/n 초
  Hh: UTC 시간 오프셋의 시
  Mm: UTC 시간 오프셋의 분
</code></pre><p>예를 들어, <code>2018년 2월 1일 오후 2시 30분 15초</code>의 경우</p>
<blockquote>
<ol>
<li>날짜 부분의 년, 월, 일은 각각 숫자 4문자, 2문자, 2문자로 표현하며 구분자로 하이픈 문자(<code>-</code>)를 사용합니다. 그리고 자릿수가 남는 경우 앞에 <code>0</code>으로 채웁니다.<br>
<code>예) 2018-02-01</code></li>
<li>시각 부분의 시, 분, 초는 각각 숫자 2문자, 2문자, 2문자로 표현하며 구분자로 콜론 문자(<code>:</code>)를 사용합니다. 24시 표기를 사용하며 자릿수가 남는 경우 마찬가지로 앞에 <code>0</code>으로 채웁니다.<br>
<code>예) 14:30:15</code><br>
동영상은 일반적으로 1초 동안 여러 장면의 이미지로 구성되기 떄문에 초 이하의 단위를 사용해서 정확한 장면을 지정해야 하는 경우도 많습니다. 이 경우 초 단위 미만의 값에 대해 소수점 표기를 사용할 수 있습니다.<br>
<code>예) 14:30:15.253 =&gt; 14시 30분 15초 253 밀리초(1/1000초)</code></li>
<li>날짜와 시간은 <code>T</code> 문자로 구분하여 합칩니다.<br>
<code>예) 2018-02-01T14:30:15.253</code></li>
<li>표준 시간대(타임존)를 사용하여 어느 지역의 시각인지 추가로 표현합니다.<br>
대한민국 서울의 경우 영국 표준 시각(UTC)보다 9시간 빠르므로 다음과 같이 표기합니다.<br>
<code>예) +09:00 (또는 간단히 +0900 또는 +09)</code><br>
만약 UTC 시각으로 표기할 경우는 <code>+00:00</code> 표기 대신 <code>Z</code> 문자를 사용하여 끝마치면 됩니다.</li>
<li>위의 조각들을 모두 합치면 다음과 같습니다.<br>
<code>예) 2018-02-01T14:30:15+09:00  (로컬 타임)</code></li>
<li>이 문자열을 URL 인코딩하면 아래와 같습니다.<br>
<code>예) 2018-02-01T14%3A30%3A15%2B09%3A00</code></li>
</ol>
</blockquote>
<h3>지원하는 언어 목록</h3>
<p>서버는 다음과 같이 총 104개 언어를 지원합니다.</p>
<pre data-role="codeBlock" data-info="ruby" class="language-ruby ruby"><code>af<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment"># 아프리카어, Afrikaans</span>
sq<span class="token operator">-</span><span class="token constant">AL</span>       <span class="token comment"># 알바니아어, Shqip, Albanian</span>
am<span class="token operator">-</span><span class="token constant">ET</span>       <span class="token comment"># 암하라어, አማርኛ, Amharic</span>
ar<span class="token operator">-</span><span class="token constant">AE</span>       <span class="token comment"># 아랍어, العربية, Arabic</span>
hy<span class="token operator">-</span><span class="token constant">AM</span>       <span class="token comment"># 아르메니아어, Հայերեն, Armenian</span>
az<span class="token operator">-</span>Latn     <span class="token comment"># 아제르바이잔어, Azərbaycan, Azerbaijani</span>
eu<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># 바스크어, Euskara, Basque</span>
be<span class="token operator">-</span><span class="token constant">BY</span>       <span class="token comment"># 벨라루스어, беларускі, Belarusian</span>
bn<span class="token operator">-</span><span class="token constant">BD</span>       <span class="token comment"># 벵골어, বাংলা, Bengali</span>
bs<span class="token operator">-</span>Latn     <span class="token comment"># 보스니아어, Bosanski, Bosnian</span>
bg<span class="token operator">-</span><span class="token constant">BG</span>       <span class="token comment"># 불가리아어, български, Bulgarian</span>
ca<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># 카탈로니아어, Català, Catalan</span>
ceb         <span class="token comment"># 세부아노, Cebuano</span>
ny          <span class="token comment"># 체와어, Chichewa</span>
zh<span class="token operator">-</span><span class="token constant">CN</span>       <span class="token comment"># 중국어 (간체), 简体中国, Chinese (Simplified)</span>
zh<span class="token operator">-</span><span class="token constant">TW</span>       <span class="token comment"># 중국어 (번체), 中國傳統, Chinese (Traditional)</span>
co<span class="token operator">-</span><span class="token constant">FR</span>       <span class="token comment"># 코르시카어, Corsu, Corsican</span>
hr<span class="token operator">-</span><span class="token constant">HR</span>       <span class="token comment"># 크로아티아어, Hrvatski, Croatian</span>
cs<span class="token operator">-</span><span class="token constant">CZ</span>       <span class="token comment"># 체코어, Čeština, Czech</span>
da<span class="token operator">-</span><span class="token constant">DK</span>       <span class="token comment"># 덴마크어, Dansk, Danish</span>
nl<span class="token operator">-</span><span class="token constant">NL</span>       <span class="token comment"># 네덜란드어, Nederlands, Dutch</span>
en<span class="token operator">-</span><span class="token constant">US</span>       <span class="token comment"># 영어, English</span>
eo          <span class="token comment"># 에스페란토어, Esperanto</span>
et<span class="token operator">-</span><span class="token constant">EE</span>       <span class="token comment"># 에스토니아어, Eesti keel, Estonian</span>
fil<span class="token operator">-</span><span class="token constant">PH</span>      <span class="token comment"># 필리핀어, Filipino</span>
fi<span class="token operator">-</span><span class="token constant">FI</span>       <span class="token comment"># 핀란드어, Suomalainen, Finnish</span>
fr<span class="token operator">-</span><span class="token constant">FR</span>       <span class="token comment"># 프랑스어, Français, French</span>
fy<span class="token operator">-</span><span class="token constant">NL</span>       <span class="token comment"># 프리지아어, Frysk, Frisian</span>
gl<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># 갈리시아어, Galego, Galician</span>
ka<span class="token operator">-</span><span class="token constant">GE</span>       <span class="token comment"># 조지아어, ქართული, Georgian</span>
de<span class="token operator">-</span><span class="token constant">DE</span>       <span class="token comment"># 독일어, Deutsch, German</span>
el<span class="token operator">-</span><span class="token constant">GR</span>       <span class="token comment"># 그리스어, Ελληνικά, Greek</span>
gu<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 구자라트어, ગુજરાતી, Gujarati</span>
ht          <span class="token comment"># 아이티 크리올어, Kreyòl ayisyen, Haitian Creole</span>
ha          <span class="token comment"># 하우사어, Hausa</span>
haw<span class="token operator">-</span><span class="token constant">U</span>       <span class="token comment"># 하와이어, ʻŌlelo Hawaiʻi, Hawaiian,</span>
he<span class="token operator">-</span><span class="token constant">IL</span>       <span class="token comment"># 히브리어, עברית, Hebrew</span>
hi<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 힌디어, हिन्दी, Hindi</span>
hmn         <span class="token comment"># 몽어, Hmong</span>
hu<span class="token operator">-</span><span class="token constant">HU</span>       <span class="token comment"># 헝가리어, Magyar, Hungarian</span>
is<span class="token operator">-</span><span class="token constant">IS</span>       <span class="token comment"># 아이슬란드어, Íslensku, Icelandic</span>
ig<span class="token operator">-</span><span class="token constant">NG</span>       <span class="token comment"># 이그보어, Igbo</span>
id<span class="token operator">-</span><span class="token constant">ID</span>       <span class="token comment"># 인도네시아어, Bahasa Indonesia, Indonesian</span>
ga<span class="token operator">-</span><span class="token constant">IE</span>       <span class="token comment"># 아일랜드어, Gaeilge, Irish</span>
it<span class="token operator">-</span><span class="token constant">IT</span>       <span class="token comment"># 이탈리아어, Italiano, Italian</span>
ja<span class="token operator">-</span><span class="token constant">JP</span>       <span class="token comment"># 일본어, 日本語, Japanese</span>
jv<span class="token operator">-</span>Latn     <span class="token comment"># 자바어, Jawa, Javanese</span>
kn<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 칸나다어, ಕನ್ನಡ, Kannada</span>
kk<span class="token operator">-</span><span class="token constant">KZ</span>       <span class="token comment"># 카자흐어, Қазақ тілінде, Kazakh</span>
km<span class="token operator">-</span><span class="token constant">KH</span>       <span class="token comment"># 크메르어, ភាសាខ្មែរ, Khmer</span>
ko<span class="token operator">-</span><span class="token constant">KR</span>       <span class="token comment"># 한국어, Korean</span>
ku<span class="token operator">-</span>Arab<span class="token operator">-</span><span class="token constant">IR</span>  <span class="token comment"># 쿠르드어 (쿠르만지어), Kurdî, Kurdish (Kurmanji)</span>
ru<span class="token operator">-</span><span class="token constant">KG</span>       <span class="token comment"># 키르기스어, Кыргызча, Kyrgyz</span>
lo<span class="token operator">-</span><span class="token constant">LA</span>       <span class="token comment"># 라오어, ລາວ, Lao</span>
sr<span class="token operator">-</span>Latn     <span class="token comment"># 라틴어, Latine, Latin</span>
lv<span class="token operator">-</span><span class="token constant">LV</span>       <span class="token comment"># 라트비아어, Latviešu, Latvian</span>
lt<span class="token operator">-</span><span class="token constant">LT</span>       <span class="token comment"># 리투아니아어, Lietuviškai, Lithuanian</span>
lb<span class="token operator">-</span><span class="token constant">LU</span>       <span class="token comment"># 룩셈부르크어, Lëtzebuergesch, Luxembourgish</span>
mk<span class="token operator">-</span><span class="token constant">MK</span>       <span class="token comment"># 마케도니아어, Македонски, Macedonian</span>
mg<span class="token operator">-</span><span class="token constant">MG</span>       <span class="token comment"># 말라가시어, Malagasy</span>
ms<span class="token operator">-</span><span class="token constant">MY</span>       <span class="token comment"># 말레이어, Melayu, Malay</span>
ml<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 말라얄람어, മലയാളം, Malayalam</span>
mt<span class="token operator">-</span><span class="token constant">MT</span>       <span class="token comment"># 몰타어, Malti, Maltese</span>
mi<span class="token operator">-</span><span class="token constant">NZ</span>       <span class="token comment"># 마오리어, Maori</span>
mr<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 마라티어, मराठी, Marathi</span>
mn<span class="token operator">-</span><span class="token constant">MN</span>       <span class="token comment"># 몽골어, Монгол хэл дээр, Mongolian</span>
my<span class="token operator">-</span><span class="token constant">MM</span>       <span class="token comment"># 미얀마어 (버마어), မြန်မာ", Myanmar (Burmese)</span>
ne<span class="token operator">-</span><span class="token constant">NP</span>       <span class="token comment"># 네팔어, नेपाली, Nepali</span>
nb<span class="token operator">-</span><span class="token constant">NO</span>       <span class="token comment"># 노르웨이어, Norwegian</span>
ps<span class="token operator">-</span><span class="token constant">AF</span>       <span class="token comment"># 파슈토어, پښتو, Pashto</span>
fa<span class="token operator">-</span><span class="token constant">IR</span>       <span class="token comment"># 페르시아어, فارسی, Persian</span>
pl<span class="token operator">-</span><span class="token constant">PL</span>       <span class="token comment"># 폴란드어, Polskie, Polish</span>
pt<span class="token operator">-</span><span class="token constant">PT</span>       <span class="token comment"># 포르투갈어, Português, Portuguese</span>
pa<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 펀자브어, ਪੰਜਾਬੀ, Punjabi</span>
ro<span class="token operator">-</span><span class="token constant">RO</span>       <span class="token comment"># 루마니아어, Română, Romanian</span>
ru<span class="token operator">-</span><span class="token constant">RU</span>       <span class="token comment"># 러시아어, Русский, Russian</span>
sm          <span class="token comment"># 사모아어, Samoan</span>
gd<span class="token operator">-</span><span class="token constant">GB</span>       <span class="token comment"># 스코틀랜드 게일어, Gàidhlig, Scots Gaelic</span>
sr<span class="token operator">-</span>Cyrl<span class="token operator">-</span><span class="token constant">RS</span>  <span class="token comment"># 세르비아어, Српски, Serbian</span>
nso<span class="token operator">-</span><span class="token constant">ZA</span>      <span class="token comment"># 세소토어, Sesotho</span>
sn<span class="token operator">-</span>Latn<span class="token operator">-</span><span class="token constant">ZW</span>  <span class="token comment"># 쇼나어, Shona</span>
sd<span class="token operator">-</span>Arab<span class="token operator">-</span><span class="token constant">PK</span>  <span class="token comment"># 신디어, سنڌي, Sindhi</span>
si<span class="token operator">-</span><span class="token constant">LK</span>       <span class="token comment"># 신할라어, සිංහල, Sinhala</span>
sk<span class="token operator">-</span><span class="token constant">SK</span>       <span class="token comment"># 슬로바키아어, Slovenský, Slovak</span>
sl<span class="token operator">-</span><span class="token constant">SI</span>       <span class="token comment"># 슬로베니아어, Slovenščina, Slovenian</span>
so<span class="token operator">-</span><span class="token constant">SO</span>       <span class="token comment"># 소말리아어, Soomaali, Somali</span>
es<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment"># 스페인어, Español, Spanish</span>
su          <span class="token comment"># 순다어, Basa Sunda, Sundanese</span>
swc<span class="token operator">-</span><span class="token constant">CD</span>      <span class="token comment"># 스와힐리어, Kiswahili, Swahili</span>
sv<span class="token operator">-</span><span class="token constant">SE</span>       <span class="token comment"># 스웨덴어, Svenska, Swedish</span>
tg<span class="token operator">-</span>Cyrl<span class="token operator">-</span><span class="token constant">TJ</span>  <span class="token comment"># 타지크어, Тоҷикистон, Tajik</span>
ta<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 타밀어, தமிழ், Tamil</span>
te<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment"># 텔루구어, తెలుగు, Telugu</span>
th<span class="token operator">-</span><span class="token constant">TH</span>       <span class="token comment"># 태국어, ไทย, Thai</span>
tr<span class="token operator">-</span><span class="token constant">TR</span>       <span class="token comment"># 터키어, Türkçe, Turkish</span>
uk<span class="token operator">-</span><span class="token constant">UA</span>       <span class="token comment"># 우크라이나어, Українська, Ukrainian</span>
ur<span class="token operator">-</span><span class="token constant">PK</span>       <span class="token comment"># 우르두어, اردو, Urdu</span>
uz<span class="token operator">-</span>Latn<span class="token operator">-</span><span class="token constant">UZ</span>  <span class="token comment"># 우즈베크어, O'zbek, Uzbek</span>
vi<span class="token operator">-</span><span class="token constant">VN</span>       <span class="token comment"># 베트남어, Tiếng Việt, Vietnamese</span>
cy<span class="token operator">-</span><span class="token constant">GB</span>       <span class="token comment"># 웨일즈어, Cymraeg, Welsh</span>
xh<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment"># 코사어, isiXhosa, Xhosa</span>
yi          <span class="token comment"># 이디시어, ייִדיש, Yiddish</span>
yo<span class="token operator">-</span><span class="token constant">NG</span>       <span class="token comment"># 요루바어, Yorùbá, Yoruba</span>
zu<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment"># 줄루어, isiZulu, Zulu</span>
</code></pre><h3>JSON 데이터 형식</h3>
<p>서버는 데이터의 전송 속도 향상을 위해 JSON 데이터 내에 줄 바꿈이나 공백 문자를 사용하지 않습니다. 예를 들면 다음과 같은 형태의 텍스트를 사용합니다.</p>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span><span class="token property">"apiVersion"</span><span class="token operator">:</span><span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span><span class="token property">"siteName"</span><span class="token operator">:</span><span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span><span class="token property">"timezone"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span><span class="token property">"bias"</span><span class="token operator">:</span><span class="token string">"+09:00"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"product"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"TS-LPR"</span><span class="token punctuation">,</span><span class="token property">"version"</span><span class="token operator">:</span><span class="token string">"v0.5.0A (64-bit)"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"license"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"genuine"</span><span class="token punctuation">,</span><span class="token property">"maxChannels"</span><span class="token operator">:</span><span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><p>이렇게 한 줄로 길게 나열되어 있어 사람이 읽기에는 다소 불편할 수 있습니다.</p>
<p>이 경우 아래와 같은 도구들을 사용하면 읽기 쉽게 변환해 줍니다.</p>
<ul>
<li><a href="http://www.csvjson.com/json_beautifier">http://www.csvjson.com/json_beautifier</a></li>
<li><a href="https://codebeautify.org/jsonviewer">https://codebeautify.org/jsonviewer</a></li>
<li><a href="https://jsonformatter.curiousconcept.com/">https://jsonformatter.curiousconcept.com/</a></li>
<li><a href="https://jsonformatter.org/">https://jsonformatter.org/</a></li>
</ul>
<p>읽기 쉽게 변환된 JSON 데이터는 다음과 같은 형태입니다.</p>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span>
  <span class="token property">"siteName"</span><span class="token operator">:</span> <span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span>
  <span class="token property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>
    <span class="token property">"bias"</span><span class="token operator">:</span> <span class="token string">"+09:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">64</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>물론 내용면으로는 둘 다 완전히 같은 데이터입니다.</p>
<h3>피드백</h3>
<p>우리는 항상 고객의 의견에 항상 귀기울이고 있습니다.<br>
개발 관련 문의 사항이나 개선할 부분이 있으시면 <a href="https://github.com/bobhyun/TS-API/issues">https://github.com/bobhyun/TS-API/issues</a> 에 남겨주시기 바랍니다.</p>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>