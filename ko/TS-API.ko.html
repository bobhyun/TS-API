<!DOCTYPE html>
  <html>
    <head>
      <title>TS-API.ko</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///C:\Users\bob\.vscode\extensions\jasonroger.markdown-preview-enhanced-fork-0.2.7\node_modules\@shd101wyy\mume\dependencies\katex\katex.min.css">
      

      
      
      

      <style> 
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;top:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none} 
      /* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
 
      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview   ">
      <h1>TS-API 프로그래밍 안내서</h1>
<h2>TS-API@0.3.0</h2>
<p>이 문서는 <strong>(주)티에스 솔루션</strong>의 <strong>TS-CMS</strong>, <strong>TS-NVR</strong>, <strong>TS-LPR</strong>에 내장된 <strong>TS-API</strong>를 사용하여 응용 소프트웨어를 개발하는 분들을 위한 프로그래밍 안내서입니다.<br>
이 문서를 참고하여 실시간 영상, 녹화 영상 보기, 영상 검색 기능을 간단하게 여러분의 응용 소프트웨어에 포함시킬 수 있습니다.</p>
<p>API를 사용하기 위해 간단한 <code>HTML</code>과 <code>자바스크립트</code>를 사용해 본 경험이 있으면 도움이 됩니다.<br>
그리고 제품 별로 지원하는 기능이 다를 수 있으므로 <a href="#%EB%B6%80%EB%A1%9D">부록</a>의<br>
<a href="#%EC%A0%9C%ED%92%88%EB%B3%84-API-%EC%A7%80%EC%9B%90-%EB%B2%84%EC%A0%84">제품별 API 지원 버전</a>와 <a href="#%EC%A0%9C%ED%92%88%EB%B3%84-%EA%B8%B0%EB%8A%A5-%EC%A7%80%EC%9B%90-%ED%91%9C">제품별 기능 지원 표</a> 부분을 참고하시기 바랍니다.</p>
<p><code>[참고]</code> <em>API와 본 문서는 개발 지원 및 기능 향상을 위해 공지 없이 변경될 수 있습니다.</em></p>
<h2>목차</h2>
<ul>
<li><a href="#%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0">시작하기</a></li>
<li><a href="#%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">영상 표시</a>
<ul>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">실시간 영상 표시</a></li>
<li><a href="#%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90-%EC%98%81%EC%83%81-%EC%82%BD%EC%9E%85%ED%95%98%EA%B8%B0">웹 페이지에 영상 삽입하기</a></li>
<li><a href="#%EC%8B%A4%EC%A0%9C-%EC%84%9C%EB%B2%84%EC%97%90-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0">실제 서버에 접속하기</a></li>
<li><a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D">사용자 인증</a></li>
<li><a href="#%EC%B1%84%EB%84%90-%EB%B3%80%EA%B2%BD">채널 변경</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">녹화 영상 표시</a></li>
</ul>
</li>
<li><a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>
<ul>
<li><a href="#%EB%A1%9C%EA%B7%B8%EC%9D%B8">로그인</a></li>
<li><a href="#%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83">로그아웃</a></li>
</ul>
</li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%A0%95%EB%B3%B4-%EC%9A%94%EC%B2%AD">서버 정보 요청</a>
<ul>
<li><a href="#api-%EB%B2%84%EC%A0%84">API 버전</a></li>
<li><a href="#%EC%82%AC%EC%9D%B4%ED%8A%B8-%EC%9D%B4%EB%A6%84">사이트 이름</a></li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%8B%9C%EA%B0%84%EB%8C%80">서버 시간대</a></li>
<li><a href="#%EC%A0%9C%ED%92%88-%EC%A0%95%EB%B3%B4">제품 정보</a></li>
<li><a href="#%EB%9D%BC%EC%9D%B4%EC%84%BC%EC%8A%A4-%EC%A0%95%EB%B3%B4">라이센스 정보</a></li>
<li><a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EB%B3%B4">사용자 정보</a></li>
<li><a href="#%EB%AA%A8%EB%91%90-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%9A%94%EC%B2%AD">모두 한 번에 요청</a></li>
</ul>
</li>
<li><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%A0%95%EB%B3%B4-%EC%9A%94%EC%B2%AD-020">시스템 정보 요청 <code>@0.2.0</code></a></li>
<li><a href="#%EA%B0%81%EC%A2%85-%EB%AA%A9%EB%A1%9D-%EC%9A%94%EC%B2%AD">각종 목록 요청</a>
<ul>
<li><a href="#%EC%B1%84%EB%84%90-%EB%AA%A9%EB%A1%9D">채널 목록</a></li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EC%9D%B8%EC%8B%9D-%EC%9E%A5%EC%B9%98-%EB%AA%A9%EB%A1%9D">차량 번호 인식 장치 목록</a></li>
<li><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EC%A2%85%EB%A5%98-%EB%AA%A9%EB%A1%9D">이벤트 로그 종류 목록</a></li>
</ul>
</li>
<li><a href="#%EC%A0%80%EC%9E%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B2%80%EC%83%89">저장 데이터 검색</a>
<ul>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%82%A0%EC%A7%9C-%EA%B2%80%EC%83%89">녹화 영상이 있는 날짜 검색</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%B6%84-%EB%8B%A8%EC%9C%84-%EA%B2%80%EC%83%89-020">녹화 영상이 있는 분 단위 검색 <code>@0.2.0</code></a></li>
</ul>
</li>
<li><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">이벤트 로그 검색</a></li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">차량 번호 로그 검색</a></li>
<li><a href="#%EC%9C%A0%EC%82%AC-%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EA%B2%80%EC%83%89-020">유사 차량 번호 검색 <code>@0.2.0</code></a></li>
<li><a href="#%EB%8F%99%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4-%EA%B2%80%EC%83%89">동영상 소스 검색</a>
<ul>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">실시간 영상 소스</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">녹화 영상 소스</a></li>
</ul>
</li>
<li><a href="#%EB%B9%84%EB%94%94%EC%98%A4-%EC%86%8C%EC%8A%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%98%81%EC%83%81-%EC%9A%94%EC%B2%AD-030">비디오 소스를 사용하여 영상 요청 <code>@0.3.0</code></a></li>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-030">실시간 이벤트 모니터링 <code>@0.3.0</code></a>
<ul>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EC%9D%B8%EC%8B%9D-%EC%9D%B4%EB%B2%A4%ED%8A%B8">차량 번호 인식 이벤트</a></li>
<li><a href="#%EB%B9%84%EC%83%81-%ED%98%B8%EC%B6%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8">비상 호출 이벤트</a></li>
</ul>
</li>
<li><a href="#%EB%B6%80%EB%A1%9D">부록</a>
<ul>
<li><a href="#%EC%A0%9C%ED%92%88%EB%B3%84-api-%EC%A7%80%EC%9B%90-%EB%B2%84%EC%A0%84">제품별 API 지원 버전</a></li>
<li><a href="#%EC%A0%9C%ED%92%88%EB%B3%84-%EA%B8%B0%EB%8A%A5-%EC%A7%80%EC%9B%90-%ED%91%9C">제품별 기능 지원 표</a></li>
<li><a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a></li>
<li><a href="#url-%EC%9D%B8%EC%BD%94%EB%94%A9">URL 인코딩</a></li>
<li><a href="#url-%EB%94%94%EC%BD%94%EB%94%A9">URL 디코딩</a></li>
<li><a href="#iso-8601-%ED%98%95%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EB%82%A0%EC%A7%9C-%EC%8B%9C%EA%B0%81-%ED%91%9C%ED%98%84%ED%95%98%EA%B8%B0">ISO 8601 형식으로 날짜 시각 표현하기</a></li>
<li><a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EC%96%B8%EC%96%B4-%EB%AA%A9%EB%A1%9D">지원하는 언어 목록</a></li>
<li><a href="#json-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%95%EC%8B%9D">JSON 데이터 형식</a></li>
<li><a href="#%ED%94%BC%EB%93%9C%EB%B0%B1">피드백</a></li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="&#xC2DC;&#xC791;&#xD558;&#xAE30;">시작하기</h2>

<p>이 문서 내에서는 TS-API를 줄여서 <strong>API</strong>로 부르고, 각 제품들은 간단히 <strong>서버</strong>로 부르겠습니다.</p>
<h2 class="mume-header" id="&#xC601;&#xC0C1;-&#xD45C;&#xC2DC;">영상 표시</h2>

<h3 class="mume-header" id="&#xC2E4;&#xC2DC;&#xAC04;-&#xC601;&#xC0C1;-&#xD45C;&#xC2DC;">실시간 영상 표시</h3>

<p>웹 브라우저 주소 창에 다음과 같이 입력해 보십시오.</p>
<pre class="language-ruby">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>ipdisk<span class="token punctuation">.</span>co<span class="token punctuation">.</span>kr<span class="token punctuation">:</span><span class="token number">85</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">ZGVtbzohMTIzNHF3ZXI</span><span class="token operator">=</span>
</pre>
<p><a href="http://tssolution.ipdisk.co.kr:85/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI=">실행하기</a></p>
<p>동영상이 표시되나요?</p>
<p><code>[참고]</code> <em>이 예제 코드에 사용된 시연용 영상은 현장 상황에 따라 접속되지 않을 수도 있습니다.</em></p>
<h3 class="mume-header" id="&#xC6F9;-&#xD398;&#xC774;&#xC9C0;&#xC5D0;-&#xC601;&#xC0C1;-&#xC0BD;&#xC785;&#xD558;&#xAE30;">웹 페이지에 영상 삽입하기</h3>

<p>이 번에는 이 영상을 웹 페이지에 삽입해 봅시다.</p>
<pre class="language-html"><span class="token doctype">&lt;!DOCTYPE>
&lt;head></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>ex1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>예제1. 동영상 삽입하기<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://tssolution.ipdisk.co.kr:85/watch?ch<span class="token punctuation">=</span>1&amp;auth<span class="token punctuation">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token punctuation">=</span><span class="token punctuation">"</span></span> 
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
</pre>
<p><a href="./examples/ex1.html">실행하기</a></p>
<p>예제에서 사용된 동영상 URL과 <code>&lt;iframe&gt;</code> 태그 코드는 표시되는 <strong>영상 위에서 오른쪽 마우스 버튼을 클릭</strong>하면 (모바일인 경우 1초 정도 화면을 누르면) 팝업 메뉴가 나타납니다. 여기서 필요한 메뉴 항목을 선택하면 해당 코드가 클립보드에 복사되며 아래 표와 같이 각각의 용도에 맞게 <strong>붙여넣기</strong> 하면 됩니다.</p>
<table>
<thead>
<tr>
<th>메뉴 항목</th>
<th>용도</th>
</tr>
</thead>
<tbody>
<tr>
<td>동영상 URL 복사</td>
<td>웹 브라우저 주소 창에 붙여넣기</td>
</tr>
<tr>
<td>동영상 태그 코드 복사</td>
<td>HTML 코드의 <code>&lt;iframe&gt;</code>부분에 붙여넣기</td>
</tr>
</tbody>
</table>
<p><code>[참고]</code> <em>보안 상의 이유로 이렇게 복사한 코드에는 <code>auth=ZGVtbzohMTIzNHF3ZXI=</code> 부분이 제외됩니다. 이 부분은 로그인에 필요한 코드이며 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>에서 자세히 설명합니다.<br>
이 예제에서는 동영상을 표시하기 위한 최소한의 코드만을 사용했기 때문에 복사된 코드에 비해 빠진 부분이 더 있습니다.</em></p>
<h3 class="mume-header" id="&#xC2E4;&#xC81C;-&#xC11C;&#xBC84;&#xC5D0;-&#xC811;&#xC18D;&#xD558;&#xAE30;">실제 서버에 접속하기</h3>

<p>이제 데모용 서버가 아닌 실제 서버의 영상을 표시하는 방법을 알아 보겠습니다.<br>
실제 서버에 접속하려면 기본적으로 아래 두 가지 정보를 알아야 합니다.</p>
<ol>
<li>서버의 <strong>호스트명</strong> (<strong>IP 주소</strong> 또는 <strong>도메인명</strong>, 80 포트가 아닌 경우 <strong>포트 번호</strong>)</li>
</ol>
<blockquote>
<ul>
<li>포트 번호는 사용하시는 제품 설정 창에서 <code>웹 서비스</code> 탭의 <code>HTTP 포트</code> 항목에서 확인할 수 있습니다.</li>
</ul>
</blockquote>
<ol start="2">
<li><strong>원격 접속</strong> 권한이 있는 <strong>사용자 ID</strong>와 <strong>비밀번호</strong></li>
</ol>
<h3 class="mume-header" id="&#xC0AC;&#xC6A9;&#xC790;-&#xC778;&#xC99D;">사용자 인증</h3>

<p>예를 들어, 다음과 같은 접속정보를 사용하는 것으로 가정하면</p>
<table>
<thead>
<tr>
<th>항목</th>
<th>값</th>
</tr>
</thead>
<tbody>
<tr>
<td>IP 주소</td>
<td><code>tssolution.ipdisk.co.kr</code></td>
</tr>
<tr>
<td>웹 포트</td>
<td><code>85</code></td>
</tr>
<tr>
<td>사용자 아이디</td>
<td><code>demo</code></td>
</tr>
<tr>
<td>비밀번호</td>
<td><code>!1234qwer</code></td>
</tr>
</tbody>
</table>
<p>위의 예제에서 주소 부분을 다음과 같이 변경하면 됩니다.</p>
<pre class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://tssolution.ipdisk.co.kr:85/watch?ch<span class="token punctuation">=</span>1&amp;auth<span class="token punctuation">=</span>ZGVtbzohMTIzNHF3ZXI<span class="token punctuation">=</span><span class="token punctuation">"</span></span>
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span>
</pre>
<p>여기서 <code>auth=</code> 다음에 있는 <code>ZGVtbzohMTIzNHF3ZXI=</code> 부분은 사용자 아이디와 비밀번호를 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>한 부분입니다.<br>
형식은 <code>userid:password</code>와 같이 콜론(<code>:</code>) 구분자를 사용하여 사용자 아이디와 비밀번호를 하나의 텍스트로 만든 다음 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>합니다.<br>
위의 예에서는 <code>demo:!1234qwer</code>을 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>해서 <code>ZGVtbzohMTIzNHF3ZXI=</code>가 됩니다.</p>
<p>이번 예제에서는 자바스크립트로 로그인 정보를 <a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a>해서 접속하는 방식으로 개선해 보도록 하겠습니다.</p>
<pre class="language-html"><span class="token doctype">&lt;!DOCTYPE>
&lt;head></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>ex2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token keyword">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> hostName <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"호스트를 입력하십시오."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> userId <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"사용자 아이디를 입력하십시오."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> password <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"비밀번호를 입력하십시오."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> encodedData <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// base64 인코딩</span>
    <span class="token keyword">var</span> src <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> hostName <span class="token operator">+</span> <span class="token string">'/watch?ch=1&amp;auth='</span> <span class="token operator">+</span> encodedData<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> src<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'player'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>예제2. 실제 서버에 접속하기<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>호스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>사용자 아이디<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>비밀번호<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>host-name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user-id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onConnect()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>접속<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>result<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>640<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>player<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
</pre>
<p><a href="./examples/ex2.html">실행하기</a></p>
<h3 class="mume-header" id="&#xCC44;&#xB110;-&#xBCC0;&#xACBD;">채널 변경</h3>

<p>아래와 같이 동영상 소스의 <code>ch=</code> 부분을 원하는 채널 번호로 변경하면 해당 채널의 동영상이 표시됩니다.<br>
채널 번호는 1부터 시작하는 정수입니다.<br>
예를 들어, 채널 3번을 보고 싶다면 다음과 같이 수정하면 됩니다.</p>
<pre class="language-ruby">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>ipdisk<span class="token punctuation">.</span>co<span class="token punctuation">.</span>kr<span class="token punctuation">:</span><span class="token number">85</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">3</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">ZGVtbzohMTIzNHF3ZXI</span><span class="token operator">=</span>
</pre>
<p>실행하기: <a href="http://tssolution.ipdisk.co.kr:85/watch?ch=1&amp;auth=ZGVtbzohMTIzNHF3ZXI=">채널1</a> <a href="http://tssolution.ipdisk.co.kr:85/watch?ch=2&amp;auth=ZGVtbzohMTIzNHF3ZXI=">채널2</a> <a href="http://tssolution.ipdisk.co.kr:85/watch?ch=3&amp;auth=ZGVtbzohMTIzNHF3ZXI=">채널3</a></p>
<h3 class="mume-header" id="&#xB179;&#xD654;-&#xC601;&#xC0C1;-&#xD45C;&#xC2DC;">녹화 영상 표시</h3>

<p>녹화된 영상을 표시하기 위해서는 원하는 동영상의 날짜, 시각 정보(타임스탬프)가 필요합니다.<br>
예를 들어, 위의 예제와 동일한 접속 정보로 <code>채널 1번</code>의 <code>2018년 2월 1일 오후 2시 30분 15초</code>에 녹화된 영상을 표시하기 위해서는 다음과 같이 <code>when=2018-02-01T14%3a30%3a15%2b09%3a00</code> 부분을 추가해야 합니다.</p>
<pre class="language-ruby">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>tssolution<span class="token punctuation">.</span>ipdisk<span class="token punctuation">.</span>co<span class="token punctuation">.</span>kr<span class="token punctuation">:</span><span class="token number">85</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span>01T14<span class="token operator">%</span>3a30<span class="token operator">%</span>3a15<span class="token operator">%</span>2b09<span class="token operator">%</span>3a00<span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">ZGVtbzohMTIzNHF3ZXI</span><span class="token operator">=</span>
</pre>
<p><a href="http://tssolution.ipdisk.co.kr:85/watch?ch=1&amp;when=2018-02-01T14%3a30%3a15%2b09%3a00&amp;auth=ZGVtbzohMTIzNHF3ZXI=">실행하기</a><br>
<code>[참고]</code> <em>오래된 날짜의 녹화 영상은 저장장치의 용량에 따라 이미 덮어쓰기 되어 존재하지 않을 수 있습니다.</em></p>
<p><code>2018-02-01T14%3a30%3a15%2b09%3a00</code> 부분은 <a href="#ISO-8601-%ED%98%95%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EB%82%A0%EC%A7%9C-%EC%8B%9C%EA%B0%81-%ED%91%9C%ED%98%84%ED%95%98%EA%B8%B0">ISO 8601</a> 형식의 날짜, 시각을 <a href="#url-%EC%9D%B8%EC%BD%94%EB%94%A9">URL 인코딩</a>한 것입니다.</p>
<p>실시간 영상을 요청하기 위해서 <code>when=now</code>로 요청해도 되지만, <code>when=</code>이 없으면 실시간을 의미하므로 생략해도 됩니다.<br>
그리고 사용상 편의를 위해 다음과 같은 팁들을 제공합니다.</p>
<pre class="language-">when=yesterday    // &#xC11C;&#xBC84;&#xC758; &#xB85C;&#xCEEC; &#xD0C0;&#xC784;&#xC73C;&#xB85C; &#xC5B4;&#xC81C; 00&#xC2DC; 00&#xBD84; 00&#xCD08;
when=today        // &#xC11C;&#xBC84;&#xC758; &#xB85C;&#xCEEC; &#xD0C0;&#xC784;&#xC73C;&#xB85C; &#xC624;&#xB298; 00&#xC2DC; 00&#xBD84; 00&#xCD08;
</pre>
<p>실행하기: <a href="http://tssolution.ipdisk.co.kr:85/watch?ch=1&amp;when=yesterday&amp;auth=ZGVtbzohMTIzNHF3ZXI=">어제 영상</a> <a href="http://tssolution.ipdisk.co.kr:85/watch?ch=1&amp;when=today&amp;auth=ZGVtbzohMTIzNHF3ZXI=">오늘 영상</a></p>
<p>매개변수를 사용하여 영상 위에 표시되는 자막의 언어를 설정할 수 있습니다.<br>
<a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EC%96%B8%EC%96%B4-%EB%AA%A9%EB%A1%9D">지원하는 언어 목록</a>은 부록을 참고하십시오.<br>
여기서부터는 <code>http://host</code>부분과 <code>auth=</code> 부분은 생략하고 표현합니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># 매개변수</span>
lang            <span class="token comment" spellcheck="true"># 자막 언어 지정</span>
showTitle       <span class="token comment" spellcheck="true"># 채널 이름 표시 (true, false)</span>
showPlayTime    <span class="token comment" spellcheck="true"># 재생 날짜, 시각 표시 (true, false)</span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># 한글로 날짜, 시각 표시</span>
<span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span>01T14<span class="token operator">%</span>3a30<span class="token operator">%</span>3a15<span class="token operator">%</span>2b09<span class="token operator">%</span>3a00<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ko<span class="token operator">-</span><span class="token constant">KR</span>

<span class="token comment" spellcheck="true"># 채널 이름 및 재생 날짜, 시각 표시 안함</span>
<span class="token comment" spellcheck="true"># showTitle과 showPlayTime은 명시하지 않은 경우 true로 간주함</span>
<span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span>01T14<span class="token operator">%</span>3a30<span class="token operator">%</span>3a15<span class="token operator">%</span>2b09<span class="token operator">%</span>3a00<span class="token operator">&amp;</span>showTitle<span class="token operator">=</span><span class="token keyword">false</span><span class="token operator">&amp;</span>showPlayTime<span class="token operator">=</span><span class="token keyword">false</span>
</pre>
<p>지금까지는 <code>/watch</code> 호출을 통해 영상을 표시하는 방법들을 알아 보았습니다. 여기서부터는 <code>/api</code> 호출을 통해 각종 정보를 질의하는 방법을 알아보겠습니다.<br>
모든 응답 데이터는 <a href="#JSON-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%95%EC%8B%9D">JSON</a> 형식이며 텍스트는 <code>utf8</code>로 인코딩되어 있습니다. 실제 전송되는 데이터는 줄바꿈과 공백 문자없이 최적화된 형식을 사용하지만, 이 문서에서는 데이터의 항목들을 쉽게 읽을 수 있도록 변환된 형식을 사용합니다.</p>
<h2 class="mume-header" id="&#xC138;&#xC158;-&#xC778;&#xC99D;">세션 인증</h2>

<p>서버는 클라이언트 프로그램(웹 브라우저)이 로그인 한 이후부터 로그아웃할 때까지 쿠키를 사용하여 HTTP 세션을 유지합니다. 세션이 유지되는 동안은 인증 정보를 서버가 유지하고 있으므로 클라이언트 프로그램(웹 브라우저)에서는 서버에 어떤 요청을 할 때마다 매번 로그인할 필요가 없습니다.</p>
<p><em>이렇게 로그인하는 과정을 통칭하여 <strong>세션 인증</strong>이라고 부르겠습니다.</em></p>
<h3 class="mume-header" id="&#xB85C;&#xADF8;&#xC778;">로그인</h3>

<p>여기서는 API를 사용하여 세션 인증하는 방법을 알아봅니다.<br>
서버에서는 아래 코드와 같이 전통적인 URL 형식으로 로그인하는 Basic authentication 방식도 지원하고 있지만, 대부분의 최신 웹 브라우저에서 로그인 정보가 그대로 노출되는 보안상의 이유로 더 이상 지원하지 않고 있습니다.</p>
<pre class="language-ruby">http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>path<span class="token regex">/to/</span>
</pre>
<p>이런 이유로 다음과 같이 추가적인 로그인 방식을 제공합니다.<br>
<a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D">사용자 인증</a>에서 사용했던 방법으로 사용자 아이디와 비빌번호를 암호화한 다음, 다음과 같이 <code>login=</code> 매개변수에 붙여서 사용합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>login<span class="token operator">=</span><span class="token constant">ZGVtbzohMTIzNHF3ZXI</span><span class="token operator">=</span>    <span class="token comment" spellcheck="true"># http://host 부분 생략함</span>
</pre>
<p>로그인이 성공한 경우 서버는 HTTP 응답 코드 200을 반환합니다.</p>
<p>아래와 같이 <code>auth=</code>를 사용해도 동일하게 로그인할 수 있습니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>auth<span class="token operator">=</span><span class="token constant">ZGVtbzohMTIzNHF3ZXI</span><span class="token operator">=</span>
</pre>
<p><code>auth=</code> 매개변수는 앞으로 소개할 다양한 API에 사용될 수 있으며, 별도의 로그인 과정을 거치지 않고 서버에 어떤 요청을 하면서 사용자 인증 정보를 한꺼번에 전달하는 용도로 사용할 수 있습니다.</p>
<h3 class="mume-header" id="&#xB85C;&#xADF8;&#xC544;&#xC6C3;">로그아웃</h3>

<p><a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>된 상태에서 다음과 같이 요청하면 세션이 종료됩니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>auth<span class="token operator">?</span>logout
</pre>
<p>세션이 종료된 상태에서는 서버는 인증이 필요한 요청에 대해 HTTP 응답 코드 401을 반환하여 인증이 필요함을 알립니다.</p>
<h2 class="mume-header" id="&#xC11C;&#xBC84;-&#xC815;&#xBCF4;-&#xC694;&#xCCAD;">서버 정보 요청</h2>

<h3 class="mume-header" id="api-&#xBC84;&#xC804;">API 버전</h3>

<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>apiVersion
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.3.0"</span>
<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="&#xC0AC;&#xC774;&#xD2B8;-&#xC774;&#xB984;">사이트 이름</h3>

<p>서버의 사이트 이름을 얻기 위해 사용합니다. 서버가 여러 대일 경우 각각을 구분할 수 있는 이름을 부여해서 사용할 수 있습니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>siteName
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"siteName"</span><span class="token punctuation">:</span> <span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span>  <span class="token comment" spellcheck="true">// (URL 인코딩)</span>
<span class="token punctuation">}</span>
</pre>
<p><code>siteName</code>에 해당하는 텍스트<code>&quot;%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84&quot;</code>는 서버의 웹 서비스 설정 창에 입력한 내용이며 어떤 문자를 사용하더라도 JSON 형식으로 표현하기 위해 URL 인코딩되어 있습니다.<br>
위의 문자열을 <a href="#URL-%EB%94%94%EC%BD%94%EB%94%A9">URL 디코딩</a>하면 <code>&quot;우리집 서버&quot;</code>로 변환됩니다.</p>
<h3 class="mume-header" id="&#xC11C;&#xBC84;-&#xC2DC;&#xAC04;&#xB300;">서버 시간대</h3>

<p>서버 측 표준 시간대(타임 존)를 얻을 수 있습니다.<br>
클라이언트 측과 서버가 다른 시간대로 동작할 경우 구분하기 위해 사용합니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>timezone
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"timezone"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// IANA 타임 존 이름</span>
    <span class="token string">"bias"</span><span class="token punctuation">:</span> <span class="token string">"+09:00"</span>        <span class="token comment" spellcheck="true">// UTC 오프셋</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
<p><code>Asia/Seoul</code> 부분은 <code>IANA</code> 형식의 타임 존 이름이며, 해당 서버의 운영체제에 따라 <a href="#https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">IANA 타임 존 이름</a> 대신 <code>UTC+09:00</code>와 같이 UTC 오프셋으로 표기될 수도 있습니다.</p>
<h3 class="mume-header" id="&#xC81C;&#xD488;-&#xC815;&#xBCF4;">제품 정보</h3>

<p>서버의 제품명과 버전 정보를 얻기 위해 사용합니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>product
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token comment" spellcheck="true">// TS-CMS인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string">"product"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"TS-CMS"</span><span class="token punctuation">,</span>               <span class="token comment" spellcheck="true">// 제품명</span>
    <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"v0.38.0 (64-bit)"</span>   <span class="token comment" spellcheck="true">// 버전명</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// TS-NVR인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string">"product"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"TS-NVR"</span><span class="token punctuation">,</span>               <span class="token comment" spellcheck="true">// 제품명</span>
    <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"v0.35.0 (64-bit)"</span>   <span class="token comment" spellcheck="true">// 버전명</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// TS-LPR인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string">"product"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>               <span class="token comment" spellcheck="true">// 제품명</span>
    <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"v0.2.0A (64-bit)"</span>   <span class="token comment" spellcheck="true">// 버전명</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="&#xB77C;&#xC774;&#xC13C;&#xC2A4;-&#xC815;&#xBCF4;">라이센스 정보</h3>

<p>서버에 설치된 라이센스 정보를 얻기 위해 사용합니다.</p>
<p>이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니어도 정상적으로 응답합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>license
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token comment" spellcheck="true">// 정품인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string">"license"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 정품 라이센스</span>
    <span class="token string">"maxChannels"</span><span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 최대 사용할 수 있는 채널 수</span>
    <span class="token string">"extension"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token comment" spellcheck="true">// 부가 기능</span>
      <span class="token string">"lprExt"</span>            <span class="token comment" spellcheck="true">// 차량 번호 인식 장치 연동</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 무료 평가판인 경우:</span>
<span class="token punctuation">{</span>
  <span class="token string">"license"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"trial"</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 무료 평가판</span>
    <span class="token string">"maxChannels"</span><span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 최대 사용할 수 있는 채널 수</span>
    <span class="token string">"trialDays"</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 30일 무료 사용</span>
    <span class="token string">"leftDays"</span><span class="token punctuation">:</span> <span class="token number">15</span>      <span class="token comment" spellcheck="true">// 15일 남음</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="&#xC0AC;&#xC6A9;&#xC790;-&#xC815;&#xBCF4;">사용자 정보</h3>

<p>로그인된 사용자 정보를 얻어오기 위해 사용됩니다.<br>
이 요청은 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태에서만 정상적으로 응답합니다.<br>
여기서부터는 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>을 하기 위한 <code>auth=</code> 사용 부분은 생략하겠습니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>whoAmI
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.<br>
만약 <a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a> 상태가 아니라면 서버는 HTTP 응답 코드 401 에러를 보냅니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"whoAmI"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"uid"</span><span class="token punctuation">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span>      <span class="token comment" spellcheck="true">// 사용자 아이디 (URL 인코딩)</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// 사용자 이름 (URL 인코딩)</span>
    <span class="token string">"accessRights"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>   <span class="token comment" spellcheck="true">// 사용 권한</span>
      <span class="token string">"DataExport"</span><span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// 이미지, 동영상 받아내기</span>
      <span class="token string">"Control"</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">// 팬틸트, 릴레이 제어</span>
      <span class="token string">"Settings"</span><span class="token punctuation">,</span>       <span class="token comment" spellcheck="true">// 설정 변경</span>
      <span class="token string">"Playback"</span><span class="token punctuation">,</span>       <span class="token comment" spellcheck="true">// 녹화 데이터 보기</span>
      <span class="token string">"LPR"</span><span class="token punctuation">,</span>            <span class="token comment" spellcheck="true">// 차량 번호 조회</span>
      <span class="token string">"SearchEdit"</span><span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// 검색 데이터 편집</span>
      <span class="token string">"Remote"</span>          <span class="token comment" spellcheck="true">// 원격 접속</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="&#xBAA8;&#xB450;-&#xD55C;-&#xBC88;&#xC5D0;-&#xC694;&#xCCAD;">모두 한 번에 요청</h3>

<p>각각 정보를 개별적으로 요청할 수도 있지만, 편의상 모든 정보를 한 번에 요청하는 방법도 제공합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>info<span class="token operator">?</span>all
</pre>
<p>이 요청은 세션 인증 상태인 경우는 HTTP 응답 코드 200과 함께 JSON 데이터를 반환하며, 인증이 되지 않은 경우는 HTTP 응답 코드 401과 함께 <code>&quot;whoAmI&quot;</code> 항목이 빠진 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token comment" spellcheck="true">// 세션 인증된 상태 (HTTP 응답 코드: 200):</span>
<span class="token punctuation">{</span>
  <span class="token string">"apiVersion"</span><span class="token punctuation">:</span> <span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span>
  <span class="token string">"siteName"</span><span class="token punctuation">:</span> <span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span>
  <span class="token string">"timezone"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>
    <span class="token string">"bias"</span><span class="token punctuation">:</span> <span class="token string">"+09:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"product"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token string">"maxChannels"</span><span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token string">"extension"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"lprExt"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"whoAmI"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"uid"</span><span class="token punctuation">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token string">"accessRights"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"DataExport"</span><span class="token punctuation">,</span>
      <span class="token string">"Control"</span><span class="token punctuation">,</span>
      <span class="token string">"Settings"</span><span class="token punctuation">,</span>
      <span class="token string">"Playback"</span><span class="token punctuation">,</span>
      <span class="token string">"LPR"</span><span class="token punctuation">,</span>
      <span class="token string">"SearchEdit"</span><span class="token punctuation">,</span>
      <span class="token string">"Remote"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 세션 인증 안된 상태 (HTTP 응답 코드: 401):</span>
<span class="token punctuation">{</span>
  <span class="token string">"apiVersion"</span><span class="token punctuation">:</span> <span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span>
  <span class="token string">"siteName"</span><span class="token punctuation">:</span> <span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span>
  <span class="token string">"timezone"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>
    <span class="token string">"bias"</span><span class="token punctuation">:</span> <span class="token string">"+09:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"product"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token string">"maxChannels"</span><span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
    <span class="token string">"extension"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"lprExt"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>     <span class="token comment" spellcheck="true">// whoAmI 부분 없음</span>
<span class="token punctuation">}</span>
</pre>
<h2 class="mume-header" id="&#xC2DC;&#xC2A4;&#xD15C;-&#xC815;&#xBCF4;-&#xC694;&#xCCAD;-020">시스템 정보 요청 <code>@0.2.0</code></h2>

<p>서버의 시스템 정보를 요청합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>sysinfo
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"cpu"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Intel(R) Core(TM) i7-4712MQ CPU @ 2.30GHz"</span><span class="token punctuation">,</span>
    <span class="token string">"cores"</span><span class="token punctuation">:</span> <span class="token number">8</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"systemMemory"</span><span class="token punctuation">:</span> <span class="token string">"12 GB"</span><span class="token punctuation">,</span>
  <span class="token string">"displayAdapter"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">"model"</span><span class="token punctuation">:</span> <span class="token string">"Intel(R) HD Graphics 4600"</span><span class="token punctuation">,</span>
      <span class="token string">"monitor"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"Generic PnP Monitor"</span><span class="token punctuation">,</span>
        <span class="token string">"Generic PnP Monitor"</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"hdd"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">"model"</span><span class="token punctuation">:</span> <span class="token string">"SanDisk SD7SB6S256G1122"</span><span class="token punctuation">,</span>
      <span class="token string">"serialNo"</span><span class="token punctuation">:</span> <span class="token string">"150608401947"</span><span class="token punctuation">,</span>
      <span class="token string">"capacity"</span><span class="token punctuation">:</span> <span class="token string">"256 GB"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">"model"</span><span class="token punctuation">:</span> <span class="token string">"ST1000LM024 HN-M101MBB"</span><span class="token punctuation">,</span>
      <span class="token string">"serialNo"</span><span class="token punctuation">:</span> <span class="token string">"S2R8J9BC700641"</span><span class="token punctuation">,</span>
      <span class="token string">"capacity"</span><span class="token punctuation">:</span> <span class="token string">"1 TB"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"networkAdapter"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Realtek PCIe GBE Family Controller"</span><span class="token punctuation">,</span>
      <span class="token string">"mac"</span><span class="token punctuation">:</span> <span class="token string">"80-FA-5B-03-79-5E"</span><span class="token punctuation">,</span>
      <span class="token string">"ipAddress"</span><span class="token punctuation">:</span> <span class="token string">"192.168.0.43"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</pre>
<h2 class="mume-header" id="&#xAC01;&#xC885;-&#xBAA9;&#xB85D;-&#xC694;&#xCCAD;">각종 목록 요청</h2>

<p>다음 요청들은 <code>auth=</code>를 사용하여 로그인 정보를 전달하거나 이미 로그인된 세션의 경우는 HTTP 응답 코드 200과 함께 JSON 데이터를 반환하며, 로그인 인증이 되지 않은 경우는 HTTP 응답 코드 401이 반환합니다.</p>
<h3 class="mume-header" id="&#xCC44;&#xB110;-&#xBAA9;&#xB85D;">채널 목록</h3>

<p>사용 중인 채널 목록을 얻기 위해 아래와 같이 요청합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>channel
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                                                  <span class="token comment" spellcheck="true">//채널 번호</span>
    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"%EC%A0%84%EB%B0%A9%20%EC%B6%9C%EC%9E%85%EA%B5%AC"</span> <span class="token comment" spellcheck="true">//채널 이름 (URL 인코딩)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                                                  <span class="token comment" spellcheck="true">//채널 번호</span>
    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"%ED%9B%84%EB%B0%A9%20%EC%B6%9C%EC%9E%85%EA%B5%AC"</span> <span class="token comment" spellcheck="true">//채널 이름 (URL 인코딩)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</pre>
<h3 class="mume-header" id="&#xCC28;&#xB7C9;-&#xBC88;&#xD638;-&#xC778;&#xC2DD;-&#xC7A5;&#xCE58;-&#xBAA9;&#xB85D;">차량 번호 인식 장치 목록</h3>

<p>사용 중인 차량 번호 인식 장치 목록을 얻기 위해 아래와 같이 요청합니다.<br>
차량 번호 인식 장치 목록에는 차량 번호 인식 장치 연동 기능을 사용하는 경우는 해당 장치들이 포함되고, 차량 번호 인식 기능이 내장된 TS-LPR의 경우는 설정된 차량 번호 인식 영역들이 포함됩니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>lprSrc
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">[</span>
  <span class="token comment" spellcheck="true">// 연동된 차량 번호 인식 장치로부터 수신한 정보</span>
  <span class="token punctuation">{</span>
    <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                  <span class="token comment" spellcheck="true">// 장치 번호</span>
    <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>         <span class="token comment" spellcheck="true">// 장치 코드 (URL 인코딩)</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"F00001"</span><span class="token punctuation">,</span>         <span class="token comment" spellcheck="true">// 장치 이름 (URL 인코딩)</span>
    <span class="token string">"linkedChannel"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token comment" spellcheck="true">// 트리거 발생 시 연동되는 채널 목록</span>
      <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token number">2</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"tag"</span><span class="token punctuation">:</span> <span class="token string">"Normal"</span>           <span class="token comment" spellcheck="true">// 상태 (Normal: 사용중인 채널, NotUsed: 사용 안하는 채널, ReadOnly: 읽기 전용 채널)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment" spellcheck="true">// TS-LPR의 경우 차량 번호 인식 영역에 의해 인식된 정보</span>
  <span class="token punctuation">{</span>
    <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                  <span class="token comment" spellcheck="true">// 장치 번호</span>
    <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token string">"1%2D1%2D1"</span><span class="token punctuation">,</span>      <span class="token comment" spellcheck="true">// 장치 코드 (URL 인코딩)</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"1%2D1%2D1"</span><span class="token punctuation">,</span>      <span class="token comment" spellcheck="true">// 장치 이름 (URL 인코딩)</span>
    <span class="token string">"linkedChannel"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token comment" spellcheck="true">// 트리거 발생 시 연동되는 채널 목록 (추가 연동 채널이 없는 경우 비어있음)</span>
    <span class="token string">"tag"</span><span class="token punctuation">:</span> <span class="token string">"Normal"</span><span class="token punctuation">,</span>          <span class="token comment" spellcheck="true">// 상태 (Normal: 사용중인 채널, NotUsed: 사용 안하는 채널, ReadOnly: 읽기 전용 채널)</span>
    <span class="token string">"zone"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                 <span class="token comment" spellcheck="true">// 인식 영역</span>
      <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token comment" spellcheck="true">// 영역 번호</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment" spellcheck="true">// 채널 번호</span>
      <span class="token string">"rect"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>               <span class="token comment" spellcheck="true">// 영역 좌표</span>
        <span class="token number">2622</span><span class="token punctuation">,</span> <span class="token number">1499</span><span class="token punctuation">,</span>           <span class="token comment" spellcheck="true">// 사각형 테두리의 왼쪽 위 좌표 (x0,y0) </span>
        <span class="token number">4297</span><span class="token punctuation">,</span> <span class="token number">4297</span>            <span class="token comment" spellcheck="true">// 사각형 테두리의 오른쪽 아래 좌표 (x1,y1) </span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"mode"</span><span class="token punctuation">:</span> <span class="token string">"driving"</span><span class="token punctuation">,</span>      <span class="token comment" spellcheck="true">// 번호 인식 동작 모드 (driving: 주행 모드, parking: 주차 모드)</span>
      <span class="token string">"disabledOnly"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 장애인 전용 주차면일 경우 true, 아니면 false</span>
      <span class="token string">"noParkingAllowed"</span><span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment" spellcheck="true">// 주차 금지 구역일 경우 true, 아니면 false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment" spellcheck="true">// 여기서,</span>
<span class="token comment" spellcheck="true">// zone의 rect를 표현하는 좌푯값은 다양한 실제 해상도와 무관하게 영상 위의 위치를</span>
<span class="token comment" spellcheck="true">// 표현하기 위해 논리적 좌표계 8K(7680x4320)를 기준으로 물리적 좌표계(실제 영상의</span>
<span class="token comment" spellcheck="true">// 해상도)를 비례식으로 계산한 값을 사용합니다.</span>
<span class="token comment" spellcheck="true">// 예를 들어, 1920x1080 영상에서 사각형 영역의 좌표가 (480, 270, 1440, 810)일 경우 </span>
<span class="token comment" spellcheck="true">// 각각 가로 좌표에는 7680/1920을 곱하고, 세로 좌표에는 각각 4320/1080을 곱해서</span>
<span class="token comment" spellcheck="true">// (1920, 1080, 5760, 3240)으로 표현합니다.</span>
</pre>
<h3 class="mume-header" id="&#xC774;&#xBCA4;&#xD2B8;-&#xB85C;&#xADF8;-&#xC885;&#xB958;-&#xBAA9;&#xB85D;">이벤트 로그 종류 목록</h3>

<p>지원하는 이벤트 로그 종류 목록을 얻으려면 다음과 같이 요청합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                  <span class="token comment" spellcheck="true">// 이벤트 로그 유형 번호</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// 이벤트 로그 유형 이름</span>
    <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>                 <span class="token comment" spellcheck="true">// 이벤트 로그 코드 목록</span>
      <span class="token punctuation">{</span>
        <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>              <span class="token comment" spellcheck="true">// 이벤트 로그 코드 번호</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"시스템 시작"</span>  <span class="token comment" spellcheck="true">// 이벤트 로그 코드 이름</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"시스템 종료"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment" spellcheck="true">// ... 중략</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"사용자 정의 이벤트"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</pre>
<p>이처럼 이벤트 로그 종류 목록은 유형별로 코드가 정의되어 있습니다.</p>
<p>언어를 지정하지 않으면 기본값으로 서버의 언어 설정에 따라 결과를 반환합니다.<br>
필요한 경우, 아래 매개변수를 사용하여 언어를 변경할 수 있습니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># 매개변수</span>
lang      <span class="token comment" spellcheck="true"># 언어</span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># 영어로 요청한 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>enum<span class="token operator">?</span>what<span class="token operator">=</span>eventType<span class="token operator">&amp;</span>lang<span class="token operator">=</span>en<span class="token operator">-</span><span class="token constant">US</span>
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"System log"</span><span class="token punctuation">,</span>
    <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"System startup"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"System shutdown"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Abnormal shutdown"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment" spellcheck="true">// ... 중략</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"User-defined event"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</pre>
<h2 class="mume-header" id="&#xC800;&#xC7A5;-&#xB370;&#xC774;&#xD130;-&#xAC80;&#xC0C9;">저장 데이터 검색</h2>

<p>녹화데이터를 검색하기 위해서는 <code>/api/find</code>를 사용합니다.</p>
<h3 class="mume-header" id="&#xB179;&#xD654;-&#xC601;&#xC0C1;&#xC774;-&#xC788;&#xB294;-&#xB0A0;&#xC9DC;-&#xAC80;&#xC0C9;">녹화 영상이 있는 날짜 검색</h3>

<p>녹화된 영상이 있는 날짜 목록을 얻기 위해 다음과 같이 요청합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays      <span class="token operator">/</span><span class="token operator">/</span> 녹화된 영상이 있는 모든 날짜를 요청
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"result"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">"yearMonth"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"2018-01"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment" spellcheck="true">// YYYY-MM 형식으로 데이터가 존재하는 날짜를 배열로 표시</span>
          <span class="token number">8</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true">// 2018-1-18  녹화 데이터 있음</span>
          <span class="token number">23</span><span class="token punctuation">,</span>       <span class="token comment" spellcheck="true">// 2018-1-23  녹화 데이터 있음</span>
          <span class="token number">24</span>        <span class="token comment" spellcheck="true">// 2018-1-24  녹화 데이터 있음</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"2018-02"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token number">5</span><span class="token punctuation">,</span>
          <span class="token number">6</span><span class="token punctuation">,</span>
          <span class="token number">7</span><span class="token punctuation">,</span>
          <span class="token number">9</span><span class="token punctuation">,</span>
          <span class="token number">13</span><span class="token punctuation">,</span>
          <span class="token number">14</span><span class="token punctuation">,</span>
          <span class="token number">19</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</pre>
<p>아래와 같은 매개변수를 추가하여 특정 조건에 해당하는 결과를 요청할 수 있습니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># 매개변수</span>
ch          <span class="token comment" spellcheck="true"># 특정 채널이 녹화된 날짜 목록 </span>
            <span class="token comment" spellcheck="true"># (여러 채널은 쉼표를 사용하여 나열)</span>
timeBegin   <span class="token comment" spellcheck="true"># 특정 날짜, 시각 이후 녹화된 날짜 목록</span>
timeEnd     <span class="token comment" spellcheck="true"># 특정 날짜, 시각 이전 녹화된 날짜 목록</span>
            <span class="token comment" spellcheck="true"># (UTC 타임으로 요청하면 UTC를 기준으로한 날짜가 반환되며, </span>
            <span class="token comment" spellcheck="true"># 그렇지 않으면 서버의 로컬 타임을 기준으로하는 날짜가 반환됨)</span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># 1번 채널이 녹화된 날짜 목록 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment" spellcheck="true"># 1,2,3번 채널이 녹화된 날짜 목록 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>

<span class="token comment" spellcheck="true"># 2018년 2월 (2018-02-01T00:00:00+09:00) 이후 녹화된 날짜 목록</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span>01T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00

<span class="token comment" spellcheck="true"># 2018년 1월 중에 녹화된 날짜 목록</span>
<span class="token comment" spellcheck="true"># (2018-01-01T00:00:00+09:00 ~ 2018-01-31T23:59:59.999+09:00)</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>01T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>31T23<span class="token operator">%</span>3A59<span class="token operator">%</span>3A59<span class="token number">.999</span><span class="token operator">%</span>2B09<span class="token operator">%</span>3A00

<span class="token comment" spellcheck="true"># 2018년 1번 채널이 1월 중에 녹화된 날짜 목록</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recDays<span class="token operator">&amp;</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>01T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>31T23<span class="token operator">%</span>3A59<span class="token operator">%</span>3A59<span class="token number">.999</span><span class="token operator">%</span>2B09<span class="token operator">%</span>3A00
</pre>
<p><code>ch</code>, <code>timeBegin</code> 또는 <code>timeEnd</code>와 같은 매개변수를 사용하여 조건을 지정한 경우는 아래와 같이 요청받은 시간을 포함하여 결과가 반환됩니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"timeBegin"</span><span class="token punctuation">:</span> <span class="token string">"2018-01-01T00:00:00+09:00"</span><span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// 처음 날짜, 시각 (서버의 로컬 타임)</span>
  <span class="token string">"timeEnd"</span><span class="token punctuation">:</span> <span class="token string">"2018-01-31T23:59:59.999+09:00"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">//  마지막 날짜, 시각 (서버의 로컬 타임)</span>
  <span class="token string">"result"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// 채널 번호</span>
      <span class="token string">"yearMonth"</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token string">"2018-01"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token number">8</span><span class="token punctuation">,</span>
          <span class="token number">23</span><span class="token punctuation">,</span>
          <span class="token number">24</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="&#xB179;&#xD654;-&#xC601;&#xC0C1;&#xC774;-&#xC788;&#xB294;-&#xBD84;-&#xB2E8;&#xC704;-&#xAC80;&#xC0C9;-020">녹화 영상이 있는 분 단위 검색 <code>@0.2.0</code></h3>

<p>녹화된 영상이 있는 분 단위 목록을 얻기 위해 다음과 같이 요청합니다.<br>
분 단위 검색 경우는 날짜 검색과 달리 응답 데이터량이 클 수 있으므로 전체를 모두 요청할 수 없으며 반드시 시간을 명시해야 합니다.<br>
timeBegin 또는 timeEnd 중 하나만 지정하면 저정한 날짜로 부터 하루 동안의 검색 결과를 반환합니다. 지정할 수 있는 날짜 범위는 최대 3일로 제한됩니다.<br>
사용할 수 있는 매개변수들은 <code>/api/find?what=recDays</code>와 동일합니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># 로컬 타임을 사용하는 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recMinutes<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span>25T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span>02T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00

<span class="token comment" spellcheck="true"># UTC 타임을 사용하는 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>recMinutes<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span>25T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00Z<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span>26T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00Z
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"timeBegin"</span><span class="token punctuation">:</span> <span class="token string">"2018-05-25T00:00:00.000+09:00"</span><span class="token punctuation">,</span>
  <span class="token string">"timeEnd"</span><span class="token punctuation">:</span> <span class="token string">"2018-05-26T00:00:00.000+09:00"</span><span class="token punctuation">,</span>
  <span class="token string">"result"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">"dateHour"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// "YYYYMMDD-hh" 형식으로 한 시간 단위로 녹화 데이터가 분 단위 배열로 표현됨</span>
        <span class="token string">"20180525-10"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">48</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"20180525-18"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span> <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">"dateHour"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"20180525-17"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">36</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"20180525-18"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</pre>
<h2 class="mume-header" id="&#xC774;&#xBCA4;&#xD2B8;-&#xB85C;&#xADF8;-&#xAC80;&#xC0C9;">이벤트 로그 검색</h2>

<p>서버에 기록된 이벤트 로그를 검색하기 위해서는 다음과 같이 요청합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"totalCount"</span><span class="token punctuation">:</span> <span class="token number">513</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 서버에 기록된 총 이벤트 로그 개수</span>
  <span class="token string">"at"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>              <span class="token comment" spellcheck="true">// 데이터 오프셋 표시 (0이므로 첫 번째 위치의 데이터를 의미함)</span>
  <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>             <span class="token comment" spellcheck="true">// 이벤트 로그 데이터 목록</span>
    <span class="token punctuation">{</span>
      <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">518</span><span class="token punctuation">,</span>                        <span class="token comment" spellcheck="true">// 이벤트 로그 번호</span>
      <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token comment" spellcheck="true">// 이벤트 로그 유형 번호</span>
      <span class="token string">"typeName"</span><span class="token punctuation">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>         <span class="token comment" spellcheck="true">// 이벤트 로그 유형 이름</span>
      <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span>                       <span class="token comment" spellcheck="true">// 이벤트 로그 코드 번호</span>
      <span class="token string">"codeName"</span><span class="token punctuation">:</span> <span class="token string">"저장 장치 준비 완료"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 이벤트 로그 코드 이름</span>
      <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T18:24:26.002+09:00"</span> <span class="token comment" spellcheck="true">// 발생 시각 (일정 기간 연속적으로 발생한 이벤트는 배열의 두 번 째 항목에 종료 시각이 포함됨)</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"param"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                            <span class="token comment" spellcheck="true">// 이벤트 로그 코드별 추가 정보</span>
        <span class="token string">"storagePath"</span><span class="token punctuation">:</span> <span class="token string">"E%3A%5CrecData%5C"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 녹화용으로 사용할 스토리지 경로</span>
        <span class="token string">"statusCode"</span><span class="token punctuation">:</span> <span class="token number">0</span>                     <span class="token comment" spellcheck="true">// 스토리지 상태 코드</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">517</span><span class="token punctuation">,</span>
      <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">"typeName"</span><span class="token punctuation">:</span> <span class="token string">"개인 정보"</span><span class="token punctuation">,</span>
      <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token string">"codeName"</span><span class="token punctuation">:</span> <span class="token string">"로그인"</span><span class="token punctuation">,</span>
      <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T18:24:20.249+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"param"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"uid"</span><span class="token punctuation">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
        <span class="token string">"autoLogin"</span><span class="token punctuation">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">"comment"</span><span class="token punctuation">:</span> <span class="token string">"admin: 자동 로그인"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ... 중략</span>
    <span class="token punctuation">{</span>
      <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">469</span><span class="token punctuation">,</span>
      <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">"typeName"</span><span class="token punctuation">:</span> <span class="token string">"시스템 로그"</span><span class="token punctuation">,</span>
      <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span>
      <span class="token string">"codeName"</span><span class="token punctuation">:</span> <span class="token string">"라이센스 적용"</span><span class="token punctuation">,</span>
      <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-19T12:11:08.680+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"param"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
        <span class="token string">"maxChannels"</span><span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">,</span>
        <span class="token string">"extension"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token number">0</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"mediaType"</span><span class="token punctuation">:</span> <span class="token string">"USB dongle"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">"comment"</span><span class="token punctuation">:</span> <span class="token string">"정품 라이센스"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</pre>
<p>서버에 기록된 이벤트 로그는 대량의 데이터이므로 모두 한꺼번에 전송하기 적합하지 않습니다. 이 때문에 개수를 명시하지 않을 경우 가장 최근 것부터 최대 50개까지만 로그 항목을 반환합니다.<br>
<code>totalCount</code>, <code>at</code> 그리고 다음에 언급할 <code>maxCount</code>를 사용하여 검색 결과 페이지 단위로 표현할 수 있습니다.</p>
<p>언어를 지정하지 않으면 기본값으로 서버의 언어 설정에 따라 결과를 반환합니다.<br>
필요한 경우 아래와 같은 매개변수들을 하나 또는 여러 개를 조합하여 검색 조건들을 지정할 수 있습니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># 매개변수</span>
lang        <span class="token comment" spellcheck="true"># 언어</span>
timeBegin   <span class="token comment" spellcheck="true"># 특정 날짜, 시각 이후에 기록된 이벤트 목록</span>
timeEnd     <span class="token comment" spellcheck="true"># 특정 날짜, 시각 이전에 기록된 이벤트 목록</span>
at          <span class="token comment" spellcheck="true"># 데이터 오프셋</span>
maxCount    <span class="token comment" spellcheck="true"># 최대 항목 개수</span>
sort        <span class="token comment" spellcheck="true"># 정렬 방식 (desc: 최신 데이터 순(기본값), asc: 오래된 데이터 순)</span>
type        <span class="token comment" spellcheck="true"># 이벤트 로그 유형</span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># 아랍어로 요청한 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ar<span class="token operator">-</span><span class="token constant">AE</span>

<span class="token comment" spellcheck="true"># 2018년 1월 동안 기록된 이벤트 로그 요청</span>
<span class="token comment" spellcheck="true"># (2018-01-01T00:00:00+09:00 ~ 2018-01-31T23:59:59.999+09:00)</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>01T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>31T23<span class="token operator">%</span>3A59<span class="token operator">%</span>3A59<span class="token number">.999</span><span class="token operator">%</span>2B09<span class="token operator">%</span>3A00

<span class="token comment" spellcheck="true"># 검색 결과의 10번째 항목부터 20개를 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment" spellcheck="true"># 오래된 데이터 순(오름차순)으로 정렬하여 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc

<span class="token comment" spellcheck="true"># 이벤트 로그 유형 중 시스템 로그(id: 0)만 요청</span>
<span class="token comment" spellcheck="true"># [참고] 시스템 로그 유형 id 목록은 아래와 같이 요청해서 확인할 것</span>
<span class="token comment" spellcheck="true">#        /api/enum?what=eventType</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>eventLog<span class="token operator">&amp;</span>type<span class="token operator">=</span><span class="token number">0</span>

</pre>
<h2 class="mume-header" id="&#xCC28;&#xB7C9;-&#xBC88;&#xD638;-&#xB85C;&#xADF8;-&#xAC80;&#xC0C9;">차량 번호 로그 검색</h2>

<p>차량 번호 인식 기능을 사용하는 경우 인식된 차량 번호는 해당 동영상과 함께 저장됩니다. 차량 번호 로그를 조회하기 위해서는 다음과 같이 요청합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"totalCount"</span><span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// 서버에 기록된 전체 차량 번호 로그 개수</span>
  <span class="token string">"at"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>            <span class="token comment" spellcheck="true">// 데이터 오프셋 표시 (0이므로 첫 번째 위치의 데이터를 의미함)</span>
  <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>           <span class="token comment" spellcheck="true">// 차량 번호 로그 데이터 목록</span>
    <span class="token punctuation">{</span>
      <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">,</span>                           <span class="token comment" spellcheck="true">// 차량 번호 로그 번호</span>
      <span class="token string">"plateNo"</span><span class="token punctuation">:</span> <span class="token string">"13다5939"</span><span class="token punctuation">,</span>               <span class="token comment" spellcheck="true">// 차량 번호 텍스트</span>
      <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>                      <span class="token comment" spellcheck="true">// 차량 번호 인식 날짜, 시각</span>
        <span class="token string">"2018-02-21T09:07:29.000+09:00"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 시작 시점</span>
        <span class="token string">"2018-02-21T09:07:34.057+09:00"</span>   <span class="token comment" spellcheck="true">// 종료 시점</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"srcCode"</span><span class="token punctuation">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>                 <span class="token comment" spellcheck="true">// 차량 번호 인식 장치 (또는 영역) 코드</span>
      <span class="token string">"srcName"</span><span class="token punctuation">:</span> <span class="token string">"정문 입구"</span><span class="token punctuation">,</span>              <span class="token comment" spellcheck="true">// 차량 번호 인식 장치 (또는 영역) 이름</span>
      <span class="token string">"vod"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>  <span class="token comment" spellcheck="true">// 인식된 시점의 영상 (연동 채널이 설정된 경우 여러 개가 될 수 있음)</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=2&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=3&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=4&amp;when=2018%2D02%2D21T09%3A07%3A29%2E000%2B09%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">63</span><span class="token punctuation">,</span>
      <span class="token string">"plateNo"</span><span class="token punctuation">:</span> <span class="token string">"02루2841"</span><span class="token punctuation">,</span>
      <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-21T08:00:00.915+09:00"</span><span class="token punctuation">,</span>
        <span class="token string">"2018-02-21T08:00:01.714+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"srcCode"</span><span class="token punctuation">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string">"srcName"</span><span class="token punctuation">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string">"vod"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=2&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=3&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=4&amp;when=2018%2D02%2D21T08%3A00%3A00%2E915%2B09%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ... 중략</span>
    <span class="token punctuation">{</span>
      <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
      <span class="token string">"plateNo"</span><span class="token punctuation">:</span> <span class="token string">"64다3736"</span><span class="token punctuation">,</span>
      <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"2018-02-20T18:12:05.828+09:00"</span><span class="token punctuation">,</span>
        <span class="token string">"2018-02-20T18:12:06.253+09:00"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"srcCode"</span><span class="token punctuation">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string">"srcName"</span><span class="token punctuation">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
      <span class="token string">"vod"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828%2B09%3A00"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</pre>
<p>서버에 기록된 차량 번호 로그는 대량의 데이터이므로 모두 한꺼번에 전송하기 적합하지 않습니다. 이 때문에 개수를 명시하지 않을 경우 가장 최근 것부터 최대 50개까지만 로그 항목을 반환합니다.<br>
totalCount, at 그리고 다음에 언급할 maxCount를 사용하여 검색 결과를 페이지 단위로 표현할 수 있습니다.</p>
<p>언어를 지정하지 않으면 기본값으로 서버의 언어 설정에 따라 결과를 반환합니다.<br>
필요한 경우 아래와 같은 매개변수들을 하나 또는 여러 개를 조합하여 검색 조건들을 지정할 수 있습니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># 매개변수</span>
keyword     <span class="token comment" spellcheck="true"># 검색할 차량 번호 (또는 일부 문자)</span>
lang        <span class="token comment" spellcheck="true"># 언어</span>
timeBegin   <span class="token comment" spellcheck="true"># 특정 날짜, 시각 이후에 기록된 차량 번호 목록</span>
timeEnd     <span class="token comment" spellcheck="true"># 특정 날짜, 시각 이전에 기록된 차량 번호 목록</span>
at          <span class="token comment" spellcheck="true"># 데이터 오프셋</span>
maxCount    <span class="token comment" spellcheck="true"># 최대 항목 개수</span>
sort        <span class="token comment" spellcheck="true"># 정렬 방식 (desc: 최신 데이터 순(기본값), asc: 오래된 데이터 순)</span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># "12"가 포함된 차량 번호를 검색 (키워드 검색)</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">12</span>

<span class="token comment" spellcheck="true"># 아랍어로 요청한 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>lang<span class="token operator">=</span>ar<span class="token operator">-</span><span class="token constant">AE</span>

<span class="token comment" spellcheck="true"># 2018년 1월 동안 기록된 이벤트 로그 요청</span>
<span class="token comment" spellcheck="true"># (2018-01-01T00:00:00+09:00 ~ 2018-01-31T23:59:59.999+09:00)</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>timeBegin<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>01T00<span class="token operator">%</span>3A00<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>timeEnd<span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>31T23<span class="token operator">%</span>3A59<span class="token operator">%</span>3A59<span class="token number">.999</span><span class="token operator">%</span>2B09<span class="token operator">%</span>3A00

<span class="token comment" spellcheck="true"># 검색 결과의 10번째 항목부터 20개를 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>at<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">20</span>

<span class="token comment" spellcheck="true"># 오래된 데이터 순(오름차순)으로 정렬하여 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>carNo<span class="token operator">&amp;</span>sort<span class="token operator">=</span>asc
</pre>
<p>검색된 결과 데이터에 있는 동영상을 표시하기 위해서는 <a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">녹화 영상 표시</a>에서 사용했던 방법을 쓰면 됩니다.</p>
<p>예를 들어, 검색 결과 중 동영상을 표시하고자 하는 항목이 다음과 같다면</p>
<pre class="language-jsx">  <span class="token comment" spellcheck="true">// ... 중략</span>
  <span class="token punctuation">{</span>
    <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    <span class="token string">"plateNo"</span><span class="token punctuation">:</span> <span class="token string">"64다3736"</span><span class="token punctuation">,</span>
    <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"2018-02-20T18:12:05.828+09:00"</span><span class="token punctuation">,</span>
      <span class="token string">"2018-02-20T18:12:06.253+09:00"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"srcCode"</span><span class="token punctuation">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
    <span class="token string">"srcName"</span><span class="token punctuation">:</span> <span class="token string">"1-1-1"</span><span class="token punctuation">,</span>
    <span class="token string">"vod"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"videoSrc"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828%2B09%3A00"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token comment" spellcheck="true">// ... 중략</span>
</pre>
<p>여기서 <code>&quot;vod&quot;</code> 아래 <code>&quot;videoSrc&quot;</code>의 값에 해당하는 <code>http://192.168.0.100/watch?ch=1&amp;when=2018%2D02%2D20T18%3A12%3A05%2E828%2B09%3A00</code>을 사용하여 영상을 표시할 수 있습니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># 세션 인증된 경우 그대로 사용</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">0.100</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">%</span>2D02<span class="token operator">%</span>2D20T18<span class="token operator">%</span>3A12<span class="token operator">%</span>3A05<span class="token operator">%</span><span class="token number">2E828</span><span class="token operator">%</span>2B09<span class="token operator">%</span>3A00

<span class="token comment" spellcheck="true"># 세션 인증된 안된 경우는 auth 매개변수를 추가</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">0.100</span><span class="token operator">/</span>watch<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">%</span>2D02<span class="token operator">%</span>2D20T18<span class="token operator">%</span>3A12<span class="token operator">%</span>3A05<span class="token operator">%</span><span class="token number">2E828</span><span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">ZGV2MTpkZXZlbG9wZXIhMTIzNA</span><span class="token operator">==</span>
</pre>
<h2 class="mume-header" id="&#xC720;&#xC0AC;-&#xCC28;&#xB7C9;-&#xBC88;&#xD638;-&#xAC80;&#xC0C9;-020">유사 차량 번호 검색 <code>@0.2.0</code></h2>

<p>유사한 차량 번호가 존재하는지 확인하기 위해 사용할 수 있습니다. 인식된 차량 번호 로그에서 유사한 차량 번호를 조회하기 위해서는 다음과 같이 요청합니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>similarCarNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">1234</span>

<span class="token comment" spellcheck="true"># 매개변수</span>
keyword     <span class="token comment" spellcheck="true"># 검색할 차량 번호 (또는 일부 문자)</span>
maxCount    <span class="token comment" spellcheck="true"># 최대 항목 개수</span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># 최대 10개까지 결과를 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>find<span class="token operator">?</span>what<span class="token operator">=</span>similarCarNo<span class="token operator">&amp;</span>keyword<span class="token operator">=</span><span class="token number">1234</span><span class="token operator">&amp;</span>maxCount<span class="token operator">=</span><span class="token number">10</span>
</pre>
<p>요청에 대해 서버는 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">[</span>
  <span class="token string">"11가1234"</span><span class="token punctuation">,</span>
  <span class="token string">"12바1234"</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ... 중략</span>
<span class="token punctuation">]</span>
</pre>
<h2 class="mume-header" id="&#xB3D9;&#xC601;&#xC0C1;-&#xC18C;&#xC2A4;-&#xAC80;&#xC0C9;">동영상 소스 검색</h2>

<p><a href="#%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90-%EC%98%81%EC%83%81-%EC%82%BD%EC%9E%85%ED%95%98%EA%B8%B0">웹 페이지에 영상 삽입하기</a>에서 사용했던 API를 사용한 동영상 표시 기능 대신 응용 프로그램에서 직접 동영상 주소 사용하는 경우 이 방법을 사용할 수 있습니다.</p>
<p>이 방법은 동영상을 표시하는 대신 동영상 주소를 얻을 수 있습니다.</p>
<h3 class="mume-header" id="&#xC2E4;&#xC2DC;&#xAC04;-&#xC601;&#xC0C1;-&#xC18C;&#xC2A4;">실시간 영상 소스</h3>

<p>아무런 매개변수 없이 다음과 같이 호출하면 서버에서 스트리밍하고 있는 실시간 영상 주소 목록을 요청할 수 있습니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>vod
</pre>
<p>서버는 이에 대해 다음과 같이 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">[</span> <span class="token comment" spellcheck="true">// 각 채널이 배열의 항목으로 구성됨</span>
  <span class="token punctuation">{</span>
    <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                              <span class="token comment" spellcheck="true">// 채널 번호</span>
    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"Profile1%20%281920x1080%29"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 채널 이름 (URL 인코딩)</span>
    <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>  <span class="token comment" spellcheck="true">// 동영상 소스 목록</span>
              <span class="token comment" spellcheck="true">// (프로토콜 및 해상도에 따라 하나의 채널에 여러 개의 소스가 배열로 구성됨)</span>
      <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 1080p RTMP 스트림</span>
        <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1main"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 동영상 주소</span>
        <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
        <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// 해상도 이름</span>
        <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>               <span class="token comment" spellcheck="true">// 해상도</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment" spellcheck="true">// 가로 픽셀 수</span>
          <span class="token number">1080</span>                  <span class="token comment" spellcheck="true">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 1080p HLS 스트림</span>
        <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/hls/ch1main/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 동영상 주소</span>
        <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
        <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// 해상도 이름</span>
        <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>               <span class="token comment" spellcheck="true">// 해상도</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment" spellcheck="true">// 가로 픽셀 수</span>
          <span class="token number">1080</span>                  <span class="token comment" spellcheck="true">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// VGA RTMP 스트림</span>
        <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token string">"rtmp://192.168.0.100/live/ch1sub"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// RTMP 프로토콜 (Adobe Flash 방식)</span>
        <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"rtmp/mp4"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// MIME 형식: RTMP 프로토콜 (Adobe Flash 방식)</span>
        <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>
        <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token number">640</span><span class="token punctuation">,</span>
          <span class="token number">480</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// VGA HLS 스트림</span>
        <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/hls/ch1sub/index.m3u8"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 동영상 주소</span>
        <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-mpegurl"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// MIME 형식: HLS 프로토콜 (HTML5 방식)</span>
        <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token string">"VGA"</span><span class="token punctuation">,</span>       <span class="token comment" spellcheck="true">// 해상도 이름</span>
        <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>             <span class="token comment" spellcheck="true">// 해상도</span>
          <span class="token number">640</span><span class="token punctuation">,</span>                <span class="token comment" spellcheck="true">// 가로 픽셀 수</span>
          <span class="token number">480</span>                 <span class="token comment" spellcheck="true">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"192%2E168%2E0%2E106"</span><span class="token punctuation">,</span>
    <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token comment" spellcheck="true">// ... 중략</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">// ... 중략</span>
<span class="token punctuation">]</span>
</pre>
<p>동영상을 재생하는 환경 (전송 선로 속도와 플레이어에서 지원하는 프로토콜)이 다양하기 때문에 호환성을 높이기 위해 위의 예처럼 채널 당 여러 개의 동영상 소스를 제공합니다.<br>
현재 버전에서는 <code>RTMP</code>와 <code>HLS</code> 두 가지 형식으로 스트리밍하고 있으며, 카메라가 지원하는 경우 고해상도와 저해상도로 이중으로 스트리밍합니다.</p>
<p>사실 위의 예제에는 실시간 영상을 의미하는 <code>when=now</code> 매개변수가 생략되어 있습니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span><span class="token keyword">when</span><span class="token operator">=</span>now
</pre>
<p>필요한 경우 아래와 같은 매개변수들을 하나 또는 여러 개를 조합하여 검색 조건들을 지정할 수 있습니다.</p>
<pre class="language-ruby">ch          <span class="token comment" spellcheck="true"># 채널 번호 (명시하지 않으면 전체 채널을 의미함)</span>
protocol    <span class="token comment" spellcheck="true"># 스트리밍 프로토콜을 지정 (rtmp, hls)</span>
stream      <span class="token comment" spellcheck="true"># 동영상의 해상도를 지정 (main: 고해상도 영상, sbu:저해상도 영상)</span>
nameonly    <span class="token comment" spellcheck="true"># true인 경우 동영상 스트림 데이터 부분 없이 채널 이름만 요청 </span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># 1번 채널만 요청</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment" spellcheck="true"># hls 프로토콜만 요청할 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>protocol<span class="token operator">=</span>hls

<span class="token comment" spellcheck="true"># 저해상도 스트림만 요청할 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>stream<span class="token operator">=</span>sub

<span class="token comment" spellcheck="true"># 채널 이름만 요청할 경우</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>nameonly<span class="token operator">=</span><span class="token keyword">true</span>
<span class="token comment" spellcheck="true"># 또는 간단히</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>nameonly
</pre>
<h3 class="mume-header" id="&#xB179;&#xD654;-&#xC601;&#xC0C1;-&#xC18C;&#xC2A4;">녹화 영상 소스</h3>

<p>일반적으로는 <a href="#%EB%85%B9%ED%99%94-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B2%80%EC%83%89">녹화 데이터 검색</a> 기능을 사용해서 녹화 영상에 접근하겠지만, 여기서는 좀 더 저수준으로 녹화된 동영상 소스를 얻는 방법들을 소개합니다.</p>
<p>실시간 영상 소스를 요청할 때 사용하는 <code>/api/vod</code>를 그대로 사용하며 다음과 같이 매개변수만 다르게 지정합니다.</p>
<pre class="language-ruby"><span class="token keyword">when</span>        <span class="token comment" spellcheck="true"># 녹화된 영상의 시각(타임스템프)을 지정</span>
duration    <span class="token comment" spellcheck="true"># when으로 지정한 시각부터 검색할 시간</span>
id          <span class="token comment" spellcheck="true"># 녹화 동영상 파일 아이디</span>
<span class="token keyword">next</span>        <span class="token comment" spellcheck="true"># true이면 지정한 영상의 다음 영상</span>
prev        <span class="token comment" spellcheck="true"># true이면 지정한 영상의 이전 영상</span>
limit       <span class="token comment" spellcheck="true"># 검색 결과의 항목 수를 지정 (명시하지 않으면 기본값 10개, 최대 50개)</span>
otherwise   <span class="token comment" spellcheck="true"># 검색 결과가 없을 경우, </span>
            <span class="token comment" spellcheck="true"># 'nearBefore'로 요청하면 검색 구간보다 이전에 녹화된 영상 중 가까운 것을 반환</span>
            <span class="token comment" spellcheck="true"># 'nearAfter'로 요청하면 검색 구간보다 이후에 녹화된 영상 중 가까운 것을 반환</span>

<span class="token comment" spellcheck="true"># 예제</span>
<span class="token comment" spellcheck="true"># 1번 채널에 대한민국 시각 2018년 1월 8일 오후 9시 30분 00초에 녹화된 영상 소스</span>
<span class="token comment" spellcheck="true"># [중요]</span>
<span class="token comment" spellcheck="true">#   1. 녹화 영상의 경우는 ch=를 명시하지 않으면 HTTP 응답 코드 400(잘못된 요청) 발생함</span>
<span class="token comment" spellcheck="true">#   2. when=으로 지정한 시각에서 1초 이내의 데이터만 검색함</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>08T09<span class="token operator">%</span>3A30<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00

<span class="token comment" spellcheck="true"># 1번 채널에 대한민국 시각 2018년 1월 8일 오후 9시 30분 00초부터 1시간 이내의 데이터 검색</span>
<span class="token comment" spellcheck="true"># [duration에서 사용하는 시간 단위 표기법]</span>
<span class="token comment" spellcheck="true">#   w: 주  (예: 1w = 한 주)</span>
<span class="token comment" spellcheck="true">#   d: 일  (예: 5d = 5일)</span>
<span class="token comment" spellcheck="true">#   h: 시  (예: 3h = 3시간)</span>
<span class="token comment" spellcheck="true">#   m: 분  (예: 10m = 10분)</span>
<span class="token comment" spellcheck="true">#   s: 초  (예: 30s = 30초)</span>
<span class="token comment" spellcheck="true">#   ms: 밀리초(1/1000초) (예: 5000ms = 5000밀리초 = 5초)</span>
<span class="token comment" spellcheck="true">#   * 단위를 명시하지 않으면 기본적으로 초 단위가 적용됨</span>
<span class="token comment" spellcheck="true">#   * 여러 단위를 조합하는 표기(예: 1h30m)법은 지원되지 않으며</span>
<span class="token comment" spellcheck="true">#     필요하면 가장 작은 단위로 계산해서 표기(예: 90m)해야 함</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>08T09<span class="token operator">%</span>3A30<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span>1h

<span class="token comment" spellcheck="true"># 녹화 파일 아이디를 사용하여 직접 요청</span>
<span class="token comment" spellcheck="true"># 영상이 있을 경우 해당 영상에서부터 10개(기본값)를 반환함</span>
<span class="token comment" spellcheck="true"># [참고]</span>
<span class="token comment" spellcheck="true">#   서버에 녹화된 동영상 파일은 각각 정수로 표현되는 일련 번호가 부여되어 있습니다.</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1304</span>

<span class="token comment" spellcheck="true"># 1번 채널의 현재 파일 아이디가 1034일 경우 같은 채널의 다음 파일을 요청 (연속 재생 시 유용함)</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span><span class="token keyword">next</span><span class="token operator">=</span><span class="token keyword">true</span>
<span class="token comment" spellcheck="true"># 또는 간단히</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span><span class="token keyword">next</span>

<span class="token comment" spellcheck="true"># 1번 채널의 현재 파일 아이디가 1034일 경우 같은 채널의 이전 파일을 요청 (역방향 연속 재생 시 유용함)</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span>prev<span class="token operator">=</span><span class="token keyword">true</span>
<span class="token comment" spellcheck="true"># 또는 간단히</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>id<span class="token operator">=</span><span class="token number">1304</span><span class="token operator">&amp;</span>prev

<span class="token comment" spellcheck="true"># 검색된 영상 소스를 30개 받기</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>08T09<span class="token operator">%</span>3A30<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span>1h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span>

<span class="token comment" spellcheck="true"># 검색 결과 해당 시간에 영상이 존재하지 않을 경우:</span>
<span class="token comment" spellcheck="true"># 검색 구간보다 이전에 녹화된 영상 중 가까운 것을 반환</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>08T09<span class="token operator">%</span>3A30<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span>1h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span><span class="token operator">&amp;</span>otherwise<span class="token operator">=</span>nearBefore
<span class="token comment" spellcheck="true"># 검색 구간보다 이후에 녹화된 영상 중 가까운 것을 반환</span>
<span class="token operator">/</span>api<span class="token operator">/</span>vod<span class="token operator">?</span>ch<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">when</span><span class="token operator">=</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>08T09<span class="token operator">%</span>3A30<span class="token operator">%</span>3A00<span class="token operator">%</span>2B09<span class="token operator">%</span>3A00<span class="token operator">&amp;</span>duration<span class="token operator">=</span>1h<span class="token operator">&amp;</span>limit<span class="token operator">=</span><span class="token number">30</span><span class="token operator">&amp;</span>otherwise<span class="token operator">=</span>nearAfter
</pre>
<p>이와 같은 방식으로 요청하면 서버는 HTTP 응답 코드 200과 함께 아래와 같은 형식의 JSON 데이터를 반환합니다.</p>
<pre class="language-jsx"><span class="token punctuation">[</span> <span class="token comment" spellcheck="true">// 녹화된 동영상 파일 단위의 배열로 구성됨</span>
  <span class="token punctuation">{</span>
    <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token comment" spellcheck="true">// 채널 번호</span>
    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"192%2E168%2E0%2E111"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// 동영상 이름</span>
    <span class="token string">"fileId"</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>                    <span class="token comment" spellcheck="true">// 파일 아이디</span>
    <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>  <span class="token comment" spellcheck="true">//동영상 소스 </span>
      <span class="token punctuation">{</span>
        <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/storage/e/0/0/0/0/100.mp4"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 동영상 주소</span>
        <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"video/mp4"</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// MIME 형식 (mp4 파일)</span>
        <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// 해상도 이름</span>
        <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>               <span class="token comment" spellcheck="true">// 해상도</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>                 <span class="token comment" spellcheck="true">// 가로 픽셀 수</span>
          <span class="token number">1080</span>                  <span class="token comment" spellcheck="true">// 세로 픽셀 수</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">"2018-02-05T17:57:12.935+09:00"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 동영상 파일 처음의 날짜, 시각 </span>
          <span class="token string">"2018-02-05T17:57:20.036+09:00"</span>   <span class="token comment" spellcheck="true">// 동영상 파일 마지막의 날짜, 시각</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">// ... 중략</span>
  <span class="token punctuation">{</span>
    <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"192%2E168%2E0%2E111"</span><span class="token punctuation">,</span>
    <span class="token string">"fileId"</span><span class="token punctuation">:</span> <span class="token number">104</span><span class="token punctuation">,</span>
    <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">"src"</span><span class="token punctuation">:</span> <span class="token string">"http://192.168.0.100/storage/e/0/0/0/0/104.mp4"</span><span class="token punctuation">,</span>
        <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"video/mp4"</span><span class="token punctuation">,</span>
        <span class="token string">"label"</span><span class="token punctuation">:</span> <span class="token string">"1080p FHD"</span><span class="token punctuation">,</span>
        <span class="token string">"size"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token number">1920</span><span class="token punctuation">,</span>
          <span class="token number">1080</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"timeRange"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">"2018-02-05T18:05:12.147+09:00"</span><span class="token punctuation">,</span>
          <span class="token string">"2018-02-05T18:05:12.229+09:00"</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</pre>
<h2 class="mume-header" id="&#xBE44;&#xB514;&#xC624;-&#xC18C;&#xC2A4;&#xB97C;-&#xC0AC;&#xC6A9;&#xD558;&#xC5EC;-&#xC601;&#xC0C1;-&#xC694;&#xCCAD;-030">비디오 소스를 사용하여 영상 요청 <code>@0.3.0</code></h2>

<p>API로 제공되는 <code>/watch</code>를 사용하지 않고 영상 소스를 사용하여 영상을 요청하는 경우에 대해, 각 프로토콜 별로 다음과 같은 방식으로 인증을 지원합니다.</p>
<pre class="language-ruby"><span class="token comment" spellcheck="true"># RTMP (auth= 매개변수가 지원됩니다.)</span>
rtmp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">YWRtaW46YWRtaW4</span><span class="token operator">=</span>

<span class="token comment" spellcheck="true"># HTTP (m3u8, JPG, MP4 와 같은 정적인 파일 기반 리소스들은 Basic Authentication만 지원됩니다.)</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>path<span class="token operator">/</span>to

<span class="token comment" spellcheck="true"># HTTP (/api/ 하위 경로는 두 가지 방법이 모두 지원됩니다.)</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>userid<span class="token symbol">:password</span><span class="token variable">@host</span><span class="token operator">/</span>api<span class="token operator">/</span>path<span class="token operator">/</span>to
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>api<span class="token operator">/</span>path<span class="token operator">/</span>to<span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">YWRtaW46YWRtaW4</span><span class="token operator">=</span>
</pre>
<h2 class="mume-header" id="&#xC2E4;&#xC2DC;&#xAC04;-&#xC774;&#xBCA4;&#xD2B8;-&#xBAA8;&#xB2C8;&#xD130;&#xB9C1;-030">실시간 이벤트 모니터링 <code>@0.3.0</code></h2>

<p><strong>웹 소켓</strong> <code>(RFC6455)</code>으로 실시간 이벤트 데이터를 수신할 수 있는 기능을 지원합니다.<br>
서버와 클라이언트가 접속 상태를 유지하며 이벤트가 발생하면 서버가 클라이언트에게 메시지를 송신하는 방식으로 동작합니다.</p>
<p>단계별 통신 절차는 다음과 같습니다.</p>
<blockquote>
<ol>
<li>클라이언트가 웹 소켓으로 서버에 접속</li>
<li>서버에 인증에 성공하면 구독자 ID를 발급</li>
<li>이후 클라이언트는 접속을 유지하며 메시지 대기 상태로 들어감</li>
<li>이벤트 발생시 서버는 클라이언트에게 메시지를 송신</li>
<li>클라이언트 스스로 접속을 종료하기 전까지 위의 3번에서 4번 과정을 반복</li>
</ol>
</blockquote>
<p>지원하는 이벤트 토픽은 다음과 같습니다.</p>
<pre class="language-">LPR             # &#xCC28;&#xB7C9; &#xBC88;&#xD638; &#xC778;&#xC2DD;
emergencyCall   # &#xBE44;&#xC0C1; &#xD638;&#xCD9C;
</pre>
<p>웹 소켓 접속 경로와 매개변수들은 다음과 같습니다.</p>
<pre class="language-ruby"><span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents

<span class="token comment" spellcheck="true"># 필수 매개 변수들</span>
auth    <span class="token comment" spellcheck="true"># 인증 정보 (세션 인증과 별도로 개별 웹 소켓마다 인증 필요)</span>
topics  <span class="token comment" spellcheck="true"># 수신할 토픽 지정 (여러 토픽을 동시에 지정할 경우 쉼표 문자(,)로 구분)</span>

<span class="token comment" spellcheck="true"># 사용 예</span>
<span class="token comment" spellcheck="true"># 차량 번호 인식 이벤트 요청</span>
ws<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">YWRtaW46YWRtaW4</span><span class="token operator">=</span>

<span class="token comment" spellcheck="true"># 비상 호출 이벤트 요청</span>
ws<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">YWRtaW46YWRtaW4</span><span class="token operator">=</span>

<span class="token comment" spellcheck="true"># 두 이벤트를 모두 요청</span>
ws<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>host<span class="token operator">/</span>api<span class="token operator">/</span>subscribeEvents<span class="token operator">?</span>topics<span class="token operator">=</span><span class="token constant">LPR</span><span class="token punctuation">,</span>emergencyCall<span class="token operator">&amp;</span>auth<span class="token operator">=</span><span class="token constant">YWRtaW46YWRtaW4</span><span class="token operator">=</span>
</pre>
<p>서버는 요청한 인증 정보와 토픽이 올바른 경우 아래와 같이 JSON형식으로 구독자 ID를 발급합니다.<br>
만약 인증 정보가 올바르지 않거나 지원하는 토픽이 아니면 즉시 접속을 끊습니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"subscriberId"</span><span class="token punctuation">:</span> <span class="token string">"cd57c82b-7e8c-4b04-91eb-520f6a9773ce"</span><span class="token punctuation">,</span> # 구독자 ID <span class="token punctuation">(</span>웹 소켓 접속 당 유일한 ID를 발급<span class="token punctuation">)</span>
  <span class="token string">"topics"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>   # 요청한 토픽에 대한 응답 <span class="token punctuation">(</span>두 이벤트를 모두 지원한다는 의미임<span class="token punctuation">)</span>
    <span class="token string">"LPR"</span><span class="token punctuation">,</span>
    <span class="token string">"emergencyCall"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="&#xCC28;&#xB7C9;-&#xBC88;&#xD638;-&#xC778;&#xC2DD;-&#xC774;&#xBCA4;&#xD2B8;">차량 번호 인식 이벤트</h3>

<p><code>topics=LPR</code>를 요청하면 실시간으로 차량 번호 인식 이벤트를 수신할 수 있습니다.<br>
차량 번호 이벤트는 웹 소켓 메시지를 통해 아래와 같이 JSON형식으로 수신됩니다.</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"timestamp"</span><span class="token punctuation">:</span><span class="token string">"2018-06-27T10:42:06.575+09:00"</span><span class="token punctuation">,</span>  # 차량 번호 인식 시점
  <span class="token string">"chid"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                                     # 차량 번호 인식 채널
    <span class="token string">"chid"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">"title"</span><span class="token punctuation">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
    <span class="token string">"src"</span><span class="token punctuation">:</span><span class="token string">"http://host/watch?ch=1&amp;when=2018%2D06%2D27T10%3A42%3A06%2E575%2B09%3A00"</span>  # 차량 번호 인식 시점의 영상
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"deviceCode"</span><span class="token punctuation">:</span><span class="token string">"1-1-7"</span><span class="token punctuation">,</span>                         # 차량 번호 인식 <span class="token function">장치</span><span class="token punctuation">(</span>영역<span class="token punctuation">)</span> 코드
  <span class="token string">"deviceName"</span><span class="token punctuation">:</span><span class="token string">"B1주차장"</span><span class="token punctuation">,</span>                       # 차량 번호 인식 <span class="token function">장치</span><span class="token punctuation">(</span>영역<span class="token punctuation">)</span> 이름
  <span class="token string">"linkedChannel"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>                            # 연동된 채널
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">"title"</span><span class="token punctuation">:</span><span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string">"src"</span><span class="token punctuation">:</span><span class="token string">"http://host/watch?ch=2&amp;when=2018%2D06%2D27T10%3A42%3A06%2E575%2B09%3A00"</span> # 차량 번호 인식 시점의 영상
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"plateNo"</span><span class="token punctuation">:</span><span class="token string">"11가1432"</span><span class="token punctuation">,</span>                         # 차량 번호
  <span class="token string">"timeBegin"</span><span class="token punctuation">:</span><span class="token string">"2018-06-27T10:42:02.573+09:00"</span><span class="token punctuation">,</span>  # 동일 차량 번호 최초 인식 시점 
  <span class="token string">"topic"</span><span class="token punctuation">:</span><span class="token string">"LPR"</span>                                 # 토픽 이름
<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="&#xBE44;&#xC0C1;-&#xD638;&#xCD9C;-&#xC774;&#xBCA4;&#xD2B8;">비상 호출 이벤트</h3>

<p><code>topics=emergencyCall</code>을 요청하면 실시간으로 비상 호출에 의한 통화 시작과 종료 시점에  이벤트 메시지를 수신할 수 있습니다.<br>
비상 호출 이벤트 메시지는 웹 소켓 메시지를 통해 아래와 같이 JSON형식으로 수신됩니다.</p>
<p>통화 시작 메시지</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"timestamp"</span><span class="token punctuation">:</span><span class="token string">"2018-06-27T10:56:16.316+09:00"</span><span class="token punctuation">,</span>  # 통화 시작 시점
  <span class="token string">"caller"</span><span class="token punctuation">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           # 비상 호출 장치 위치 코드
  <span class="token string">"device"</span><span class="token punctuation">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    # 비상 호출 장치 이름
  <span class="token string">"event"</span><span class="token punctuation">:</span><span class="token string">"callStart"</span><span class="token punctuation">,</span>                          # 통화 시작 이벤트
  <span class="token string">"linkedChannel"</span><span class="token punctuation">:</span><span class="token punctuation">[</span>                             # 연동된 채널
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">"title"</span><span class="token punctuation">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
      <span class="token string">"src"</span><span class="token punctuation">:</span><span class="token string">"http://host/watch?ch=1"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">"title"</span><span class="token punctuation">:</span><span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string">"src"</span><span class="token punctuation">:</span><span class="token string">"http://host/watch?ch=2"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"지하1층 계단"</span><span class="token punctuation">,</span>                         # 비상 호출 장치 위치 이름
  <span class="token string">"topic"</span><span class="token punctuation">:</span><span class="token string">"emergencyCall"</span>                       # 토픽 이름
<span class="token punctuation">}</span>
</pre>
<p>통화 종료 메시지</p>
<pre class="language-jsx"><span class="token punctuation">{</span>
  <span class="token string">"timestamp"</span><span class="token punctuation">:</span><span class="token string">"2018-06-27T10:59:26.322+09:00"</span><span class="token punctuation">,</span>  # 통화 종료 시점
  <span class="token string">"caller"</span><span class="token punctuation">:</span><span class="token string">"0000002"</span><span class="token punctuation">,</span>                           # 비상 호출 장치 위치 코드
  <span class="token string">"device"</span><span class="token punctuation">:</span><span class="token string">"Sammul/Vizufon"</span><span class="token punctuation">,</span>                    # 비상 호출 장치 이름
  <span class="token string">"event"</span><span class="token punctuation">:</span><span class="token string">"callEnd"</span><span class="token punctuation">,</span>                            # 통화 종료 이벤트
  <span class="token string">"linkedChannel"</span><span class="token punctuation">:</span><span class="token punctuation">[</span>                             # 연동된 채널
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">"title"</span><span class="token punctuation">:</span><span class="token string">"카메라1"</span><span class="token punctuation">,</span>
      <span class="token string">"src"</span><span class="token punctuation">:</span><span class="token string">"http://host/watch?ch=1"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">"chid"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">"title"</span><span class="token punctuation">:</span><span class="token string">"카메라2"</span><span class="token punctuation">,</span>
      <span class="token string">"src"</span><span class="token punctuation">:</span><span class="token string">"http://host/watch?ch=2"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"비상벨2"</span><span class="token punctuation">,</span>                             # 비상 호출 장치 위치 이름
  <span class="token string">"topic"</span><span class="token punctuation">:</span><span class="token string">"emergencyCall"</span>                      # 토픽 이름
<span class="token punctuation">}</span>
</pre>
<p>비상 호출 메시지는 실시간 통화를 위한 용도로 사용되므로 연동된 채널의 영상 주소는 차량 번호 인식의 경우와 달리 실시간 영상으로 링크되어 있습니다.</p>
<p>이 번에는 웹 소켓을 이용하여 이벤트 메시지를 수신하는 예제를 만들어 봅시다.</p>
<pre class="language-html"><span class="token doctype">&lt;!DOCTYPE>
&lt;head></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>utf-8<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>ex3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token selector">body </span><span class="token punctuation">{</span><span class="token property">font-family</span><span class="token punctuation">:</span>Arial, Helvetica, sans-serif<span class="token punctuation">}</span>
    <span class="token selector">div </span><span class="token punctuation">{</span><span class="token property">padding</span><span class="token punctuation">:</span><span class="token number">5</span>px<span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#control</span> </span><span class="token punctuation">{</span><span class="token property">background-color</span><span class="token punctuation">:</span>beige<span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#url</span>, <span class="token id">#messages</span> </span><span class="token punctuation">{</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">0.8</span>em<span class="token punctuation">;</span><span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">'Courier New'</span>, Courier, monospace<span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.open</span>, li<span class="token class">.close</span> </span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>blue<span class="token punctuation">}</span>
    <span class="token selector">li<span class="token class">.error</span> </span><span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>예제3. 웹 소켓 메시지 수신하기<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>control<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>host-name<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>서버 IP주소:포트<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>text<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>user-id<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>사용자 ID<span class="token punctuation">'</span></span><span class="token punctuation">></span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>비밀번호<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      토픽:
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>LPR<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>LPR<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">></span></span>차량 번호 인식 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>checkbox<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>emergencyCall<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>emergencyCall<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token punctuation">></span></span>비상 호출 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>onConnect()<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>접속<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>onDisconnect()<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>접속 종료<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>url<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>messages<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>text/javascript<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>myApp <span class="token operator">=</span> <span class="token punctuation">{</span> ws<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">'WebSocket'</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'웹 소켓을 지원하지 않는 웹 브라우저입니다.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> hostName <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'host-name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>hostName <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'호스트를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> userId <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'user-id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>userId <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'사용자 아이디를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> password <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>password <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'비밀번호를 입력하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> topics <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'LPR'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span>
      topics <span class="token operator">+=</span> <span class="token string">'LPR'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'emergencyCall'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>topics<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
        topics <span class="token operator">+=</span> <span class="token string">','</span><span class="token punctuation">;</span>
      topics <span class="token operator">+=</span> <span class="token string">'emergencyCall'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>topics<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'하나 이상의 토픽을 선택하십시오.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> encodedData <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">btoa</span><span class="token punctuation">(</span>userId <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// base64 인코딩</span>
    url <span class="token operator">=</span> <span class="token punctuation">(</span>hostName<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'ws://'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">'ws://'</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      hostName <span class="token operator">+</span> <span class="token string">'/api/subscribeEvents?topics='</span> <span class="token operator">+</span> topics <span class="token operator">+</span> 
      <span class="token string">'&amp;auth='</span> <span class="token operator">+</span> encodedData<span class="token punctuation">;</span>

    <span class="token keyword">return</span> url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">addItem</span><span class="token punctuation">(</span>tagClass<span class="token punctuation">,</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tagClass<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>

    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> url<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 웹 소켓 인스턴스와 핸들러 함수들</span>
    <span class="token keyword">var</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span>onopen <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'접속 성공'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span>onclose <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'접속 종료: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span>onerror <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'오류: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    ws<span class="token punctuation">.</span>onmessage <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>myApp<span class="token punctuation">.</span>ws <span class="token operator">=</span> ws<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>myApp<span class="token punctuation">.</span>ws<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</pre>
<p><a href="./examples/ex3.html">실행하기</a></p>
<h2 class="mume-header" id="&#xBD80;&#xB85D;">부록</h2>

<h3 class="mume-header" id="&#xC81C;&#xD488;&#xBCC4;-api-&#xC9C0;&#xC6D0;-&#xBC84;&#xC804;">제품별 API 지원 버전</h3>

<p>API를 지원하는 제품들의 버전은 다음과 같습니다.</p>
<table>
<thead>
<tr>
<th>API 버전</th>
<th>TS-CMS</th>
<th>TS-NVR</th>
<th>TS-LPR</th>
</tr>
</thead>
<tbody>
<tr>
<td>0.1.0</td>
<td>v0.38.0 이상</td>
<td>v0.35.0 이상</td>
<td>v0.2.0A 이상</td>
</tr>
<tr>
<td>0.2.0</td>
<td>v0.41.0 이상</td>
<td>v0.40.0 이상</td>
<td>v0.7.0A 이상</td>
</tr>
<tr>
<td>0.3.0</td>
<td>v0.42.1 이상</td>
<td>v0.41.1 이상</td>
<td>v0.8.2A 이상</td>
</tr>
</tbody>
</table>
<p>API는 모든 제품군에 호환되지만, 제품별 또는 라이센스별로 일부 기능이 지원되지 않을 수 있습니다. 아래 목록 중에서 사용하는 제품이 어디에 해당하는지 확인하시기 바랍니다.</p>
<h3 class="mume-header" id="&#xC81C;&#xD488;&#xBCC4;-&#xAE30;&#xB2A5;-&#xC9C0;&#xC6D0;-&#xD45C;">제품별 기능 지원 표</h3>

<table>
<thead>
<tr>
<th>구분</th>
<th>TS-CMS</th>
<th>TS-NVR</th>
<th>TS-LPR</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">실시간 영상 표시</a></td>
<td>O</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">실시간 영상 소스 검색</a></td>
<td>O</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">녹화 영상 표시</a></td>
<td>X</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">녹화 영상 소스 검색</a></td>
<td>X</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a></td>
<td>O</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EC%84%9C%EB%B2%84-%EC%A0%95%EB%B3%B4-%EC%9A%94%EC%B2%AD">서버 정보 요청</a></td>
<td>O</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EA%B0%81%EC%A2%85-%EB%AA%A9%EB%A1%9D-%EC%9A%94%EC%B2%AD">각종 목록 요청</a></td>
<td>O</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%82%A0%EC%A7%9C-%EA%B2%80%EC%83%89">녹화 영상이 있는 날짜 검색</a></td>
<td>X</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">이벤트 로그 검색</a></td>
<td>O</td>
<td>O</td>
<td>O</td>
</tr>
<tr>
<td><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">차량 번호 로그 검색</a></td>
<td>X</td>
<td>라이센스에 준함 <code>[설명]</code></td>
<td>O</td>
</tr>
</tbody>
</table>
<p><code>[설명]</code> TS-NVR은 자체적인 차량 번호 인식 기능이 없어 <strong>차량 번호 로그 검색</strong> 기능을 지원하지 않습니다.<br>
하지만 <strong>차량 번호 인식 장치 연동</strong> 부가 기능 라이센스를 사용하는 경우 별도의 차량 번호 인식 장치와 연동하여 차량 번호 로그를 저장하기 때문에 <strong>차량 번호 로그 검색</strong> 기능을 사용할 수 있습니다.</p>
<h3 class="mume-header" id="base64-&#xC778;&#xCF54;&#xB529;">base64 인코딩</h3>

<p>base64 인코딩 관련한 더 자세한 정보는 아래 링크들을 참고하십시오.</p>
<ul>
<li><a href="https://www.base64encode.org/">https://www.base64encode.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding">https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding</a></li>
<li><a href="https://www.w3schools.com/jsref/met_win_btoa.asp">https://www.w3schools.com/jsref/met_win_btoa.asp</a></li>
</ul>
<h3 class="mume-header" id="url-&#xC778;&#xCF54;&#xB529;">URL 인코딩</h3>

<p>URL 인코딩 관련한 더 자세한 정보는 아래 링크들을 참고하십시오.</p>
<ul>
<li><a href="http://www.convertstring.com/ko/EncodeDecode/UrlEncode">http://www.convertstring.com/ko/EncodeDecode/UrlEncode</a></li>
<li><a href="https://www.urlencoder.org/">https://www.urlencoder.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_encodeuricomponent.asp">https://www.w3schools.com/jsref/jsref_encodeuricomponent.asp</a></li>
</ul>
<h3 class="mume-header" id="url-&#xB514;&#xCF54;&#xB529;">URL 디코딩</h3>

<p>URL 디코딩에 관련한 더 자세한 정보는 아래 링크들을 참고하십시오.</p>
<ul>
<li><a href="http://www.convertstring.com/ko/EncodeDecode/UrlDecode">http://www.convertstring.com/ko/EncodeDecode/UrlDecode</a></li>
<li><a href="https://www.urldecoder.org/">https://www.urldecoder.org/</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent</a></li>
<li><a href="https://www.w3schools.com/jsref/jsref_decodeuricomponent.asp">https://www.w3schools.com/jsref/jsref_decodeuricomponent.asp</a></li>
</ul>
<h3 class="mume-header" id="iso-8601-&#xD615;&#xC2DD;&#xC73C;&#xB85C;-&#xB0A0;&#xC9DC;-&#xC2DC;&#xAC01;-&#xD45C;&#xD604;&#xD558;&#xAE30;">ISO 8601 형식으로 날짜 시각 표현하기</h3>

<pre class="language-">YYYY-MM-DDThh:mm:ss.sss&#xB1;Hh:Mm (&#xB85C;&#xCEEC; &#xD0C0;&#xC784; &#xD45C;&#xAE30;)
&#xB610;&#xB294;
YYYY-MM-DDThh:mm:ss.sssZ (UTC &#xD45C;&#xAE30;)
&#xB610; &#xD558;&#xB098; &#xB354;
YYYY-MM-DDThh:mm:ss.sss (&#xC11C;&#xBC84;&#xC758; &#xB85C;&#xCEEC; &#xD0C0;&#xC784;)

&#xC5EC;&#xAE30;&#xC11C;,
  YYYY: &#xB144;
  MM: &#xC6D4;
  DD: &#xC77C;
  hh: &#xC2DC; (24&#xC2DC; &#xD45C;&#xAE30;)
  mm: &#xBD84;
  ss: &#xCD08;
  sss: 1/n &#xCD08;
  Hh: UTC &#xC2DC;&#xAC04; &#xC624;&#xD504;&#xC14B;&#xC758; &#xC2DC;
  Mm: UTC &#xC2DC;&#xAC04; &#xC624;&#xD504;&#xC14B;&#xC758; &#xBD84;
</pre>
<p>예를 들어, <code>2018년 2월 1일 오후 2시 30분 15초</code>의 경우</p>
<blockquote>
<ol>
<li>날짜 부분의 년, 월, 일은 각각 숫자 4문자, 2문자, 2문자로 표현하며 구분자로 하이픈 문자(<code>-</code>)를 사용합니다. 그리고 자릿수가 남는 경우 앞에 <code>0</code>으로 채웁니다.<br>
<code>예) 2018-02-01</code></li>
<li>시각 부분의 시, 분, 초는 각각 숫자 2문자, 2문자, 2문자로 표현하며 구분자로 콜론 문자(<code>:</code>)를 사용합니다. 24시 표기를 사용하며 자릿수가 남는 경우 마찬가지로 앞에 <code>0</code>으로 채웁니다.<br>
<code>예) 14:30:15</code><br>
동영상은 일반적으로 1초 동안 여러 장면의 이미지로 구성되기 떄문에 초 이하의 단위를 사용해서 정확한 장면을 지정해야 하는 경우도 많습니다. 이 경우 초 단위 미만의 값에 대해 소수점 표기를 사용할 수 있습니다.<br>
<code>예) 14:30:15.253 =&gt; 14시 30분 15초 253 밀리초(1/1000초)</code></li>
<li>날짜와 시간은 <code>T</code> 문자로 구분하여 합칩니다.<br>
<code>예) 2018-02-01T14:30:15.253</code></li>
<li>표준 시간대(타임존)를 사용하여 어느 지역의 시각인지 추가로 표현합니다.<br>
대한민국 서울의 경우 영국 표준 시각(UTC)보다 9시간 빠르므로 다음과 같이 표기합니다.<br>
<code>예) +09:00 (또는 간단히 +0900 또는 +09)</code><br>
만약 UTC 시각으로 표기할 경우는 <code>+00:00</code> 표기 대신 <code>Z</code> 문자를 사용하여 끝마치면 됩니다.</li>
<li>위의 조각들을 모두 합치면 다음과 같습니다.<br>
<code>예) 2018-02-01T14:30:15+09:00 (로컬 타임)</code></li>
<li>이 문자열을 URL 인코딩하면 아래와 같습니다.<br>
<code>예) 2018-02-01T14%3A30%3A15%2B09%3A00</code></li>
</ol>
</blockquote>
<h3 class="mume-header" id="&#xC9C0;&#xC6D0;&#xD558;&#xB294;-&#xC5B8;&#xC5B4;-&#xBAA9;&#xB85D;">지원하는 언어 목록</h3>

<p>서버는 다음과 같이 총 104개 언어를 지원합니다.</p>
<pre class="language-ruby">af<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment" spellcheck="true"># 아프리카어, Afrikaans</span>
sq<span class="token operator">-</span><span class="token constant">AL</span>       <span class="token comment" spellcheck="true"># 알바니아어, Shqip, Albanian</span>
am<span class="token operator">-</span><span class="token constant">ET</span>       <span class="token comment" spellcheck="true"># 암하라어, አማርኛ, Amharic</span>
ar<span class="token operator">-</span><span class="token constant">AE</span>       <span class="token comment" spellcheck="true"># 아랍어, العربية, Arabic</span>
hy<span class="token operator">-</span><span class="token constant">AM</span>       <span class="token comment" spellcheck="true"># 아르메니아어, Հայերեն, Armenian</span>
az<span class="token operator">-</span><span class="token constant">Latn</span>     <span class="token comment" spellcheck="true"># 아제르바이잔어, Azərbaycan, Azerbaijani</span>
eu<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment" spellcheck="true"># 바스크어, Euskara, Basque</span>
be<span class="token operator">-</span><span class="token constant">BY</span>       <span class="token comment" spellcheck="true"># 벨라루스어, беларускі, Belarusian</span>
bn<span class="token operator">-</span><span class="token constant">BD</span>       <span class="token comment" spellcheck="true"># 벵골어, বাংলা, Bengali</span>
bs<span class="token operator">-</span><span class="token constant">Latn</span>     <span class="token comment" spellcheck="true"># 보스니아어, Bosanski, Bosnian</span>
bg<span class="token operator">-</span><span class="token constant">BG</span>       <span class="token comment" spellcheck="true"># 불가리아어, български, Bulgarian</span>
ca<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment" spellcheck="true"># 카탈로니아어, Català, Catalan</span>
ceb         <span class="token comment" spellcheck="true"># 세부아노, Cebuano</span>
ny          <span class="token comment" spellcheck="true"># 체와어, Chichewa</span>
zh<span class="token operator">-</span><span class="token constant">CN</span>       <span class="token comment" spellcheck="true"># 중국어 (간체), 简体中国, Chinese (Simplified)</span>
zh<span class="token operator">-</span><span class="token constant">TW</span>       <span class="token comment" spellcheck="true"># 중국어 (번체), 中國傳統, Chinese (Traditional)</span>
co<span class="token operator">-</span><span class="token constant">FR</span>       <span class="token comment" spellcheck="true"># 코르시카어, Corsu, Corsican</span>
hr<span class="token operator">-</span><span class="token constant">HR</span>       <span class="token comment" spellcheck="true"># 크로아티아어, Hrvatski, Croatian</span>
cs<span class="token operator">-</span><span class="token constant">CZ</span>       <span class="token comment" spellcheck="true"># 체코어, Čeština, Czech</span>
da<span class="token operator">-</span><span class="token constant">DK</span>       <span class="token comment" spellcheck="true"># 덴마크어, Dansk, Danish</span>
nl<span class="token operator">-</span><span class="token constant">NL</span>       <span class="token comment" spellcheck="true"># 네덜란드어, Nederlands, Dutch</span>
en<span class="token operator">-</span><span class="token constant">US</span>       <span class="token comment" spellcheck="true"># 영어, English</span>
eo          <span class="token comment" spellcheck="true"># 에스페란토어, Esperanto</span>
et<span class="token operator">-</span><span class="token constant">EE</span>       <span class="token comment" spellcheck="true"># 에스토니아어, Eesti keel, Estonian</span>
fil<span class="token operator">-</span><span class="token constant">PH</span>      <span class="token comment" spellcheck="true"># 필리핀어, Filipino</span>
fi<span class="token operator">-</span><span class="token constant">FI</span>       <span class="token comment" spellcheck="true"># 핀란드어, Suomalainen, Finnish</span>
fr<span class="token operator">-</span><span class="token constant">FR</span>       <span class="token comment" spellcheck="true"># 프랑스어, Français, French</span>
fy<span class="token operator">-</span><span class="token constant">NL</span>       <span class="token comment" spellcheck="true"># 프리지아어, Frysk, Frisian</span>
gl<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment" spellcheck="true"># 갈리시아어, Galego, Galician</span>
ka<span class="token operator">-</span><span class="token constant">GE</span>       <span class="token comment" spellcheck="true"># 조지아어, ქართული, Georgian</span>
de<span class="token operator">-</span><span class="token constant">DE</span>       <span class="token comment" spellcheck="true"># 독일어, Deutsch, German</span>
el<span class="token operator">-</span><span class="token constant">GR</span>       <span class="token comment" spellcheck="true"># 그리스어, Ελληνικά, Greek</span>
gu<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 구자라트어, ગુજરાતી, Gujarati</span>
ht          <span class="token comment" spellcheck="true"># 아이티 크리올어, Kreyòl ayisyen, Haitian Creole</span>
ha          <span class="token comment" spellcheck="true"># 하우사어, Hausa</span>
haw<span class="token operator">-</span><span class="token constant">U</span>       <span class="token comment" spellcheck="true"># 하와이어, ʻŌlelo Hawaiʻi, Hawaiian,</span>
he<span class="token operator">-</span><span class="token constant">IL</span>       <span class="token comment" spellcheck="true"># 히브리어, עברית, Hebrew</span>
hi<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 힌디어, हिन्दी, Hindi</span>
hmn         <span class="token comment" spellcheck="true"># 몽어, Hmong</span>
hu<span class="token operator">-</span><span class="token constant">HU</span>       <span class="token comment" spellcheck="true"># 헝가리어, Magyar, Hungarian</span>
is<span class="token operator">-</span><span class="token constant">IS</span>       <span class="token comment" spellcheck="true"># 아이슬란드어, Íslensku, Icelandic</span>
ig<span class="token operator">-</span><span class="token constant">NG</span>       <span class="token comment" spellcheck="true"># 이그보어, Igbo</span>
id<span class="token operator">-</span><span class="token constant">ID</span>       <span class="token comment" spellcheck="true"># 인도네시아어, Bahasa Indonesia, Indonesian</span>
ga<span class="token operator">-</span><span class="token constant">IE</span>       <span class="token comment" spellcheck="true"># 아일랜드어, Gaeilge, Irish</span>
it<span class="token operator">-</span><span class="token constant">IT</span>       <span class="token comment" spellcheck="true"># 이탈리아어, Italiano, Italian</span>
ja<span class="token operator">-</span><span class="token constant">JP</span>       <span class="token comment" spellcheck="true"># 일본어, 日本語, Japanese</span>
jv<span class="token operator">-</span><span class="token constant">Latn</span>     <span class="token comment" spellcheck="true"># 자바어, Jawa, Javanese</span>
kn<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 칸나다어, ಕನ್ನಡ, Kannada</span>
kk<span class="token operator">-</span><span class="token constant">KZ</span>       <span class="token comment" spellcheck="true"># 카자흐어, Қазақ тілінде, Kazakh</span>
km<span class="token operator">-</span><span class="token constant">KH</span>       <span class="token comment" spellcheck="true"># 크메르어, ភាសាខ្មែរ, Khmer</span>
ko<span class="token operator">-</span><span class="token constant">KR</span>       <span class="token comment" spellcheck="true"># 한국어, Korean</span>
ku<span class="token operator">-</span><span class="token constant">Arab</span><span class="token operator">-</span><span class="token constant">IR</span>  <span class="token comment" spellcheck="true"># 쿠르드어 (쿠르만지어), Kurdî, Kurdish (Kurmanji)</span>
ru<span class="token operator">-</span><span class="token constant">KG</span>       <span class="token comment" spellcheck="true"># 키르기스어, Кыргызча, Kyrgyz</span>
lo<span class="token operator">-</span><span class="token constant">LA</span>       <span class="token comment" spellcheck="true"># 라오어, ລາວ, Lao</span>
sr<span class="token operator">-</span><span class="token constant">Latn</span>     <span class="token comment" spellcheck="true"># 라틴어, Latine, Latin</span>
lv<span class="token operator">-</span><span class="token constant">LV</span>       <span class="token comment" spellcheck="true"># 라트비아어, Latviešu, Latvian</span>
lt<span class="token operator">-</span><span class="token constant">LT</span>       <span class="token comment" spellcheck="true"># 리투아니아어, Lietuviškai, Lithuanian</span>
lb<span class="token operator">-</span><span class="token constant">LU</span>       <span class="token comment" spellcheck="true"># 룩셈부르크어, Lëtzebuergesch, Luxembourgish</span>
mk<span class="token operator">-</span><span class="token constant">MK</span>       <span class="token comment" spellcheck="true"># 마케도니아어, Македонски, Macedonian</span>
mg<span class="token operator">-</span><span class="token constant">MG</span>       <span class="token comment" spellcheck="true"># 말라가시어, Malagasy</span>
ms<span class="token operator">-</span><span class="token constant">MY</span>       <span class="token comment" spellcheck="true"># 말레이어, Melayu, Malay</span>
ml<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 말라얄람어, മലയാളം, Malayalam</span>
mt<span class="token operator">-</span><span class="token constant">MT</span>       <span class="token comment" spellcheck="true"># 몰타어, Malti, Maltese</span>
mi<span class="token operator">-</span><span class="token constant">NZ</span>       <span class="token comment" spellcheck="true"># 마오리어, Maori</span>
mr<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 마라티어, मराठी, Marathi</span>
mn<span class="token operator">-</span><span class="token constant">MN</span>       <span class="token comment" spellcheck="true"># 몽골어, Монгол хэл дээр, Mongolian</span>
my<span class="token operator">-</span><span class="token constant">MM</span>       <span class="token comment" spellcheck="true"># 미얀마어 (버마어), မြန်မာ", Myanmar (Burmese)</span>
ne<span class="token operator">-</span><span class="token constant">NP</span>       <span class="token comment" spellcheck="true"># 네팔어, नेपाली, Nepali</span>
nb<span class="token operator">-</span><span class="token constant">NO</span>       <span class="token comment" spellcheck="true"># 노르웨이어, Norwegian</span>
ps<span class="token operator">-</span><span class="token constant">AF</span>       <span class="token comment" spellcheck="true"># 파슈토어, پښتو, Pashto</span>
fa<span class="token operator">-</span><span class="token constant">IR</span>       <span class="token comment" spellcheck="true"># 페르시아어, فارسی, Persian</span>
pl<span class="token operator">-</span><span class="token constant">PL</span>       <span class="token comment" spellcheck="true"># 폴란드어, Polskie, Polish</span>
pt<span class="token operator">-</span><span class="token constant">PT</span>       <span class="token comment" spellcheck="true"># 포르투갈어, Português, Portuguese</span>
pa<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 펀자브어, ਪੰਜਾਬੀ, Punjabi</span>
ro<span class="token operator">-</span><span class="token constant">RO</span>       <span class="token comment" spellcheck="true"># 루마니아어, Română, Romanian</span>
ru<span class="token operator">-</span><span class="token constant">RU</span>       <span class="token comment" spellcheck="true"># 러시아어, Русский, Russian</span>
sm          <span class="token comment" spellcheck="true"># 사모아어, Samoan</span>
gd<span class="token operator">-</span><span class="token constant">GB</span>       <span class="token comment" spellcheck="true"># 스코틀랜드 게일어, Gàidhlig, Scots Gaelic</span>
sr<span class="token operator">-</span><span class="token constant">Cyrl</span><span class="token operator">-</span><span class="token constant">RS</span>  <span class="token comment" spellcheck="true"># 세르비아어, Српски, Serbian</span>
nso<span class="token operator">-</span><span class="token constant">ZA</span>      <span class="token comment" spellcheck="true"># 세소토어, Sesotho</span>
sn<span class="token operator">-</span><span class="token constant">Latn</span><span class="token operator">-</span><span class="token constant">ZW</span>  <span class="token comment" spellcheck="true"># 쇼나어, Shona</span>
sd<span class="token operator">-</span><span class="token constant">Arab</span><span class="token operator">-</span><span class="token constant">PK</span>  <span class="token comment" spellcheck="true"># 신디어, سنڌي, Sindhi</span>
si<span class="token operator">-</span><span class="token constant">LK</span>       <span class="token comment" spellcheck="true"># 신할라어, සිංහල, Sinhala</span>
sk<span class="token operator">-</span><span class="token constant">SK</span>       <span class="token comment" spellcheck="true"># 슬로바키아어, Slovenský, Slovak</span>
sl<span class="token operator">-</span><span class="token constant">SI</span>       <span class="token comment" spellcheck="true"># 슬로베니아어, Slovenščina, Slovenian</span>
so<span class="token operator">-</span><span class="token constant">SO</span>       <span class="token comment" spellcheck="true"># 소말리아어, Soomaali, Somali</span>
es<span class="token operator">-</span><span class="token constant">ES</span>       <span class="token comment" spellcheck="true"># 스페인어, Español, Spanish</span>
su          <span class="token comment" spellcheck="true"># 순다어, Basa Sunda, Sundanese</span>
swc<span class="token operator">-</span><span class="token constant">CD</span>      <span class="token comment" spellcheck="true"># 스와힐리어, Kiswahili, Swahili</span>
sv<span class="token operator">-</span><span class="token constant">SE</span>       <span class="token comment" spellcheck="true"># 스웨덴어, Svenska, Swedish</span>
tg<span class="token operator">-</span><span class="token constant">Cyrl</span><span class="token operator">-</span><span class="token constant">TJ</span>  <span class="token comment" spellcheck="true"># 타지크어, Тоҷикистон, Tajik</span>
ta<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 타밀어, தமிழ், Tamil</span>
te<span class="token operator">-</span><span class="token constant">IN</span>       <span class="token comment" spellcheck="true"># 텔루구어, తెలుగు, Telugu</span>
th<span class="token operator">-</span><span class="token constant">TH</span>       <span class="token comment" spellcheck="true"># 태국어, ไทย, Thai</span>
tr<span class="token operator">-</span><span class="token constant">TR</span>       <span class="token comment" spellcheck="true"># 터키어, Türkçe, Turkish</span>
uk<span class="token operator">-</span><span class="token constant">UA</span>       <span class="token comment" spellcheck="true"># 우크라이나어, Українська, Ukrainian</span>
ur<span class="token operator">-</span><span class="token constant">PK</span>       <span class="token comment" spellcheck="true"># 우르두어, اردو, Urdu</span>
uz<span class="token operator">-</span><span class="token constant">Latn</span><span class="token operator">-</span><span class="token constant">UZ</span>  <span class="token comment" spellcheck="true"># 우즈베크어, O'zbek, Uzbek</span>
vi<span class="token operator">-</span><span class="token constant">VN</span>       <span class="token comment" spellcheck="true"># 베트남어, Tiếng Việt, Vietnamese</span>
cy<span class="token operator">-</span><span class="token constant">GB</span>       <span class="token comment" spellcheck="true"># 웨일즈어, Cymraeg, Welsh</span>
xh<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment" spellcheck="true"># 코사어, isiXhosa, Xhosa</span>
yi          <span class="token comment" spellcheck="true"># 이디시어, ייִדיש, Yiddish</span>
yo<span class="token operator">-</span><span class="token constant">NG</span>       <span class="token comment" spellcheck="true"># 요루바어, Yorùbá, Yoruba</span>
zu<span class="token operator">-</span><span class="token constant">ZA</span>       <span class="token comment" spellcheck="true"># 줄루어, isiZulu, Zulu</span>
</pre>
<h3 class="mume-header" id="json-&#xB370;&#xC774;&#xD130;-&#xD615;&#xC2DD;">JSON 데이터 형식</h3>

<p>서버는 데이터의 전송 속도 향상을 위해 JSON 데이터 내에 줄 바꿈이나 공백 문자를 사용하지 않습니다. 예를 들면 다음과 같은 형태의 텍스트를 사용합니다.</p>
<pre class="language-json"><span class="token punctuation">{</span><span class="token property">"apiVersion"</span><span class="token operator">:</span><span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span><span class="token property">"siteName"</span><span class="token operator">:</span><span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span><span class="token property">"timezone"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span><span class="token property">"bias"</span><span class="token operator">:</span><span class="token string">"+09:00"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"product"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"TS-LPR"</span><span class="token punctuation">,</span><span class="token property">"version"</span><span class="token operator">:</span><span class="token string">"v0.5.0A (64-bit)"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">"license"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"genuine"</span><span class="token punctuation">,</span><span class="token property">"maxChannels"</span><span class="token operator">:</span><span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre>
<p>이렇게 한 줄로 길게 나열되어 있어 사람이 읽기에는 다소 불편할 수 있습니다.</p>
<p>이 경우 아래와 같은 도구들을 사용하면 읽기 쉽게 변환해 줍니다.</p>
<ul>
<li><a href="http://www.csvjson.com/json_beautifier">http://www.csvjson.com/json_beautifier</a></li>
<li><a href="https://codebeautify.org/jsonviewer">https://codebeautify.org/jsonviewer</a></li>
<li><a href="https://jsonformatter.curiousconcept.com/">https://jsonformatter.curiousconcept.com/</a></li>
<li><a href="https://jsonformatter.org/">https://jsonformatter.org/</a></li>
</ul>
<p>읽기 쉽게 변환된 JSON 데이터는 다음과 같은 형태입니다.</p>
<pre class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"TS-API@0.2.0"</span><span class="token punctuation">,</span>
  <span class="token property">"siteName"</span><span class="token operator">:</span> <span class="token string">"%EC%9A%B0%EB%A6%AC%EC%A7%91%20%EC%84%9C%EB%B2%84"</span><span class="token punctuation">,</span>
  <span class="token property">"timezone"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span>
    <span class="token property">"bias"</span><span class="token operator">:</span> <span class="token string">"+09:00"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"product"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"TS-LPR"</span><span class="token punctuation">,</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"v0.5.0A (64-bit)"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"genuine"</span><span class="token punctuation">,</span>
    <span class="token property">"maxChannels"</span><span class="token operator">:</span> <span class="token number">64</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
<p>물론 내용면으로는 둘 다 완전히 같은 데이터입니다.</p>
<h3 class="mume-header" id="&#xD53C;&#xB4DC;&#xBC31;">피드백</h3>

<p>우리는 항상 고객의 의견에 항상 귀기울이고 있습니다.<br>
개발 관련 문의 사항이나 개선할 부분이 있으시면 <a href="https://github.com/bobhyun/TS-API/issues">https://github.com/bobhyun/TS-API/issues</a> 에 남겨주시기 바랍니다.</p>

      </div>
      <div class="md-sidebar-toc"><ul>
<li><a href="#%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0">시작하기</a></li>
<li><a href="#%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">영상 표시</a>
<ul>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">실시간 영상 표시</a></li>
<li><a href="#%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80%EC%97%90-%EC%98%81%EC%83%81-%EC%82%BD%EC%9E%85%ED%95%98%EA%B8%B0">웹 페이지에 영상 삽입하기</a></li>
<li><a href="#%EC%8B%A4%EC%A0%9C-%EC%84%9C%EB%B2%84%EC%97%90-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0">실제 서버에 접속하기</a></li>
<li><a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D">사용자 인증</a></li>
<li><a href="#%EC%B1%84%EB%84%90-%EB%B3%80%EA%B2%BD">채널 변경</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%ED%91%9C%EC%8B%9C">녹화 영상 표시</a></li>
</ul>
</li>
<li><a href="#%EC%84%B8%EC%85%98-%EC%9D%B8%EC%A6%9D">세션 인증</a>
<ul>
<li><a href="#%EB%A1%9C%EA%B7%B8%EC%9D%B8">로그인</a></li>
<li><a href="#%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83">로그아웃</a></li>
</ul>
</li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%A0%95%EB%B3%B4-%EC%9A%94%EC%B2%AD">서버 정보 요청</a>
<ul>
<li><a href="#api-%EB%B2%84%EC%A0%84">API 버전</a></li>
<li><a href="#%EC%82%AC%EC%9D%B4%ED%8A%B8-%EC%9D%B4%EB%A6%84">사이트 이름</a></li>
<li><a href="#%EC%84%9C%EB%B2%84-%EC%8B%9C%EA%B0%84%EB%8C%80">서버 시간대</a></li>
<li><a href="#%EC%A0%9C%ED%92%88-%EC%A0%95%EB%B3%B4">제품 정보</a></li>
<li><a href="#%EB%9D%BC%EC%9D%B4%EC%84%BC%EC%8A%A4-%EC%A0%95%EB%B3%B4">라이센스 정보</a></li>
<li><a href="#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EB%B3%B4">사용자 정보</a></li>
<li><a href="#%EB%AA%A8%EB%91%90-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%9A%94%EC%B2%AD">모두 한 번에 요청</a></li>
</ul>
</li>
<li><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%A0%95%EB%B3%B4-%EC%9A%94%EC%B2%AD-020">시스템 정보 요청 <code>@0.2.0</code></a></li>
<li><a href="#%EA%B0%81%EC%A2%85-%EB%AA%A9%EB%A1%9D-%EC%9A%94%EC%B2%AD">각종 목록 요청</a>
<ul>
<li><a href="#%EC%B1%84%EB%84%90-%EB%AA%A9%EB%A1%9D">채널 목록</a></li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EC%9D%B8%EC%8B%9D-%EC%9E%A5%EC%B9%98-%EB%AA%A9%EB%A1%9D">차량 번호 인식 장치 목록</a></li>
<li><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EC%A2%85%EB%A5%98-%EB%AA%A9%EB%A1%9D">이벤트 로그 종류 목록</a></li>
</ul>
</li>
<li><a href="#%EC%A0%80%EC%9E%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B2%80%EC%83%89">저장 데이터 검색</a>
<ul>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%82%A0%EC%A7%9C-%EA%B2%80%EC%83%89">녹화 영상이 있는 날짜 검색</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%B6%84-%EB%8B%A8%EC%9C%84-%EA%B2%80%EC%83%89-020">녹화 영상이 있는 분 단위 검색 <code>@0.2.0</code></a></li>
</ul>
</li>
<li><a href="#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">이벤트 로그 검색</a></li>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EB%A1%9C%EA%B7%B8-%EA%B2%80%EC%83%89">차량 번호 로그 검색</a></li>
<li><a href="#%EC%9C%A0%EC%82%AC-%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EA%B2%80%EC%83%89-020">유사 차량 번호 검색 <code>@0.2.0</code></a></li>
<li><a href="#%EB%8F%99%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4-%EA%B2%80%EC%83%89">동영상 소스 검색</a>
<ul>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">실시간 영상 소스</a></li>
<li><a href="#%EB%85%B9%ED%99%94-%EC%98%81%EC%83%81-%EC%86%8C%EC%8A%A4">녹화 영상 소스</a></li>
</ul>
</li>
<li><a href="#%EB%B9%84%EB%94%94%EC%98%A4-%EC%86%8C%EC%8A%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%98%81%EC%83%81-%EC%9A%94%EC%B2%AD-030">비디오 소스를 사용하여 영상 요청 <code>@0.3.0</code></a></li>
<li><a href="#%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-030">실시간 이벤트 모니터링 <code>@0.3.0</code></a>
<ul>
<li><a href="#%EC%B0%A8%EB%9F%89-%EB%B2%88%ED%98%B8-%EC%9D%B8%EC%8B%9D-%EC%9D%B4%EB%B2%A4%ED%8A%B8">차량 번호 인식 이벤트</a></li>
<li><a href="#%EB%B9%84%EC%83%81-%ED%98%B8%EC%B6%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8">비상 호출 이벤트</a></li>
</ul>
</li>
<li><a href="#%EB%B6%80%EB%A1%9D">부록</a>
<ul>
<li><a href="#%EC%A0%9C%ED%92%88%EB%B3%84-api-%EC%A7%80%EC%9B%90-%EB%B2%84%EC%A0%84">제품별 API 지원 버전</a></li>
<li><a href="#%EC%A0%9C%ED%92%88%EB%B3%84-%EA%B8%B0%EB%8A%A5-%EC%A7%80%EC%9B%90-%ED%91%9C">제품별 기능 지원 표</a></li>
<li><a href="#base64-%EC%9D%B8%EC%BD%94%EB%94%A9">base64 인코딩</a></li>
<li><a href="#url-%EC%9D%B8%EC%BD%94%EB%94%A9">URL 인코딩</a></li>
<li><a href="#url-%EB%94%94%EC%BD%94%EB%94%A9">URL 디코딩</a></li>
<li><a href="#iso-8601-%ED%98%95%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EB%82%A0%EC%A7%9C-%EC%8B%9C%EA%B0%81-%ED%91%9C%ED%98%84%ED%95%98%EA%B8%B0">ISO 8601 형식으로 날짜 시각 표현하기</a></li>
<li><a href="#%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EC%96%B8%EC%96%B4-%EB%AA%A9%EB%A1%9D">지원하는 언어 목록</a></li>
<li><a href="#json-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%95%EC%8B%9D">JSON 데이터 형식</a></li>
<li><a href="#%ED%94%BC%EB%93%9C%EB%B0%B1">피드백</a></li>
</ul>
</li>
</ul>
</div>
      <a id="sidebar-toc-btn">≡</a>
    </body>
    
    
    
    <script>
(function bindTaskListEvent() {
  var taskListItemCheckboxes = document.body.getElementsByClassName('task-list-item-checkbox')
  for (var i = 0; i < taskListItemCheckboxes.length; i++) {
    var checkbox = taskListItemCheckboxes[i]
    var li = checkbox.parentElement
    if (li.tagName !== 'LI') li = li.parentElement
    if (li.tagName === 'LI') {
      li.classList.add('task-list-item')
    }
  }
	document.body.setAttribute('html-show-sidebar-toc', true)
}())    
</script>
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  </html>