<!DOCTYPE>
<head>
  <meta charset="utf-8">
  <title>ex2</title>
</head>

<script>
  function onConnect() {
    var hostName = document.getElementById('host-name').value;
    if(hostName == '') {
      alert('호스트를 입력하십시오.');
      return;
    }
    var userId = document.getElementById('user-id').value;
    if(userId == '') {
      alert('사용자 아이디를 입력하십시오.');
      return;
    }
    var password = document.getElementById('password').value;
    if(password == '') {
      alert('비밀번호를 입력하십시오.');
      return;
    }
    var encodedData = window.btoa(userId + ':' + password); // base64 인코딩
    var src = (hostName.includes('http://', 0) ? '' : 'http://') +
    hostName + '/watch?ch=1&auth=' + encodedData;
    document.getElementById('result').innerText = src;
    document.getElementById('player').src = src;
  }
</script>

<body>
  <h2>예제2. 실제 서버에 접속하기</h2>

  <table>
    <tr>
      <td>호스트</td>
      <td>사용자 아이디</td> 
      <td>비밀번호</td>
    </tr>
    <tr>
      <td><input type="text" id="host-name"></td>
      <td><input type="text" id="user-id"></td> 
      <td><input type="text" id="password"></td>
      <td><button type="button" onClick="onConnect()">접속</button> </td>
    </tr>
    <tr>
      <td colspan="4" id="result"></td>
    </tr>
  </table>

  <iframe width="640" height="360" frameborder="0" allowfullscreen id="player" />
</body>


